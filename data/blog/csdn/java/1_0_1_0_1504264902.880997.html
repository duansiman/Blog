

<p style="margin:10px auto; padding-bottom:10px; font-size:0.8em; color:rgb(51,51,50); font-family:'Open Sans',Arial,'Hiragino Sans GB','Microsoft YaHei'; line-height:28px">&#13;
在上一篇文章《<a target="_blank" href="http://www.cnblogs.com/Mainz/archive/2009/04/28/1445424.html" style="color:rgb(81,173,237)">大型网站系统架构分析</a>》中，介绍了大型网站的系统架构，其中缓存环境非常重要，大型网站往往使用Squid前端缓存服务器群，memcache分布式缓存，负载均衡，CDN等来提升性能。但中小型网站使用这些大家伙就有杀鸡用牛刀的感觉，但毋庸置疑，缓存是需要的，开发者开发程序的时候若没有并发思维，一味注重业务逻辑，往往导致并发用户可能在差不多相同的时间请求相同的数据，网站再请求数据库，如果使用缓存，对这种相同的请求，或者不变的数据，可以缓存起来，直接从内存读取，可以大大提升并发访问的性能，减少数据库访问次数。因为数据库往往是最容易出现瓶颈的地方，而通过使用恰当的缓存技术可以非常有效地减轻数据库的负载。</p>&#13;
<p style="margin:10px auto; padding-bottom:10px; font-size:0.8em; color:rgb(51,51,50); font-family:'Open Sans',Arial,'Hiragino Sans GB','Microsoft YaHei'; line-height:28px">&#13;
根据我的经验，中小型网站可以采用这样的缓存策略 ：</p>&#13;
<div class="code" style="color:rgb(51,51,50); font-family:'Open Sans',Arial,'Hiragino Sans GB','Microsoft YaHei'; font-size:18px; line-height:28px">&#13;
<ul style="margin-left:45px; padding-left:0px">&#13;
<li style="list-style:inherit!important; font-size:16px">如果是单台服务器可以直接缓存在内存，怕内存不够就合理利用ASP.NET所提供的缓存机制，有现成的干嘛不用呢？缓存存在XML文件中也是一种备选方案，但首先速度没有内存的来的快，其次是写入并发写入XML的时候会锁住文件。可以选用现成的微软Cache application block来实现。</li><li style="list-style:inherit!important; font-size:16px">有多台的服务器的话可以考虑memcached，或者其他类似的东西，或者另加一个数据库作为缓存库也行啊。当然有钱的可以用内存数据库。</li></ul>&#13;
</div>&#13;
<p style="margin:10px auto; padding-bottom:10px; font-size:0.8em; color:rgb(51,51,50); font-family:'Open Sans',Arial,'Hiragino Sans GB','Microsoft YaHei'; line-height:28px">&#13;
但不是所有数据都可以缓存的：</p>&#13;
<div class="code" style="color:rgb(51,51,50); font-family:'Open Sans',Arial,'Hiragino Sans GB','Microsoft YaHei'; font-size:18px; line-height:28px">&#13;
<ul style="margin-left:45px; padding-left:0px">&#13;
<li style="list-style:inherit!important; font-size:16px">对于恒定不变的数据，系统启动后放入缓存就不过期不更新了。</li><li style="list-style:inherit!important; font-size:16px">对于偶尔改变的数据，缓存过期时间可以稍微长一些，比如15分钟。</li><li style="list-style:inherit!important; font-size:16px">对于经常改变的数据，但访问量极大的热点数据，可以缓存很短的时间，例如30秒，或60秒。（微软有一种数据库数据改变自动同步缓存的SqlDependency功能，有兴趣的读者可以关注）   </li></ul>&#13;
</div>&#13;
<p style="margin:10px auto; padding-bottom:10px; font-size:0.8em; color:rgb(51,51,50); font-family:'Open Sans',Arial,'Hiragino Sans GB','Microsoft YaHei'; line-height:28px">&#13;
如此，便可最大程度的利用缓存，从而可以有效提高系统性能，并明显减轻数据库和网络负载。</p>&#13;
<h4 style="font-size:18px; font-weight:normal; color:rgb(255,255,255); padding:10px; line-height:28px; margin-bottom:1.5em; font-family:'Open Sans',Arial,'Hiragino Sans GB','Microsoft YaHei'; background-color:rgb(81,173,237)">&#13;
<a target="_blank" href="http://www.cnblogs.com/waylee/archive/2008/10/23/1318074.html" style="color:rgb(81,173,237)"></a></h4>&#13;
<p style="margin:10px auto; padding-bottom:10px; font-size:0.8em; color:rgb(51,51,50); font-family:'Open Sans',Arial,'Hiragino Sans GB','Microsoft YaHei'; line-height:28px">&#13;
你也可以统计并发访问最高的页面和DB访问的频率，把网页静态化，或缓存该些热点，淘汰不热的(缓存替换算法)，即使缓存30秒，或60秒也是很大的性能提升，因为他们的并发访问量很大，导致数据库的压力也很大。</p>&#13;
<p style="margin:10px auto; padding-bottom:10px; font-size:0.8em; color:rgb(51,51,50); font-family:'Open Sans',Arial,'Hiragino Sans GB','Microsoft YaHei'; line-height:28px">&#13;
代码参考：使用策略模式和单例模式的单机内存缓存：(可以扩展到其他的缓存策略，例如memcache等)</p>&#13;
<p style="margin:10px auto; padding-bottom:10px; font-size:0.8em; color:rgb(51,51,50); font-family:'Open Sans',Arial,'Hiragino Sans GB','Microsoft YaHei'; line-height:28px">&#13;
<a target="_blank" href="http://images.cnblogs.com/cnblogs_com/Mainz/WindowsLiveWriter/dfec2a1515f0_B4B4/ClassDiagram_2.png" style="color:rgb(81,173,237)"><img title="ClassDiagram" alt="ClassDiagram" src="http://images.cnblogs.com/cnblogs_com/Mainz/WindowsLiveWriter/dfec2a1515f0_B4B4/ClassDiagram_thumb.png" width="848" border="0" height="806" style="border:0px; display:inline" /></a></p>&#13;
<p style="margin:10px auto; padding-bottom:10px; font-size:0.8em; color:rgb(51,51,50); font-family:'Open Sans',Arial,'Hiragino Sans GB','Microsoft YaHei'; line-height:28px">&#13;
ICacheStrategy.cs</p>&#13;
<div style="color:rgb(51,51,50); border:1px solid gray; margin:20px 0px 10px; padding:4px; overflow:auto; font-size:8pt; width:1326.546875px; max-height:200px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)">&#13;
<div style="border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; color:black; line-height:12pt">&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 1:</span> <span style="color:rgb(0,0,255)">using</span> System;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 2:</span> <span style="color:rgb(0,0,255)">using</span> System.Text;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 3:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 4:</span> <span style="color:rgb(0,0,255)">namespace</span> Sample.Caching</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 5:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 6:</span> <span style="color:rgb(0,128,0)">/// &lt;summary&gt;</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 7:</span> <span style="color:rgb(0,128,0)">/// 缓存策略接口</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 8:</span> <span style="color:rgb(0,128,0)">/// &lt;/summary&gt;</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 9:</span> <span style="color:rgb(0,0,255)">public</span> <span style="color:rgb(0,0,255)">interface</span> ICacheStrategy</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 10:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 11:</span> <span style="color:rgb(0,0,255)">void</span> AddObject(<span style="color:rgb(0,0,255)">string</span> objId, <span style="color:rgb(0,0,255)">object</span> o);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 12:</span> </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 13:</span> <span style="color:rgb(0,0,255)">void</span> AddObjectWithTimeout(<span style="color:rgb(0,0,255)">string</span> objId, <span style="color:rgb(0,0,255)">object</span> o, <span style="color:rgb(0,0,255)">int</span> timeoutSec);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 14:</span> </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 15:</span> <span style="color:rgb(0,0,255)">void</span> AddObjectWithFileChange(<span style="color:rgb(0,0,255)">string</span> objId, <span style="color:rgb(0,0,255)">object</span> o, <span style="color:rgb(0,0,255)">string</span>[] files);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 16:</span> </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 17:</span> <span style="color:rgb(0,0,255)">void</span> AddObjectWithDepend(<span style="color:rgb(0,0,255)">string</span> objId, <span style="color:rgb(0,0,255)">object</span> o, <span style="color:rgb(0,0,255)">string</span>[] dependKey);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 18:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 19:</span> <span style="color:rgb(0,0,255)">void</span> RemoveObject(<span style="color:rgb(0,0,255)">string</span> objId);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 20:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 21:</span> <span style="color:rgb(0,0,255)">object</span> RetrieveObject(<span style="color:rgb(0,0,255)">string</span> objId);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 22:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 23:</span> <span style="color:rgb(0,0,255)">int</span> TimeOut { set;get;}</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 24:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 25:</span> }</pre>&#13;
</div>&#13;
</div>&#13;
<p style="margin:10px auto; padding-bottom:10px; font-size:0.8em; color:rgb(51,51,50); font-family:'Open Sans',Arial,'Hiragino Sans GB','Microsoft YaHei'; line-height:28px">&#13;
DefaultCacheStrategy.cs</p>&#13;
<div style="color:rgb(51,51,50); border:1px solid gray; margin:20px 0px 10px; padding:4px; overflow:auto; font-size:8pt; width:1326.546875px; max-height:200px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)">&#13;
<div style="border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; color:black; line-height:12pt">&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 1:</span> <span style="color:rgb(0,0,255)">using</span> System;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 2:</span> <span style="color:rgb(0,0,255)">using</span> System.Web;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 3:</span> <span style="color:rgb(0,0,255)">using</span> System.Collections;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 4:</span> <span style="color:rgb(0,0,255)">using</span> System.Web.Caching;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 5:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 6:</span> <span style="color:rgb(0,0,255)">namespace</span> Sample.Caching</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 7:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 8:</span> <span style="color:rgb(0,128,0)">/// &lt;summary&gt;</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 9:</span> <span style="color:rgb(0,128,0)">/// 默认的缓存策略，实现了缓存策略接口</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 10:</span> <span style="color:rgb(0,128,0)">/// &lt;/summary&gt;</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 11:</span> <span style="color:rgb(0,0,255)">public</span> <span style="color:rgb(0,0,255)">class</span> DefaultCacheStrategy : ICacheStrategy</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 12:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 13:</span> <span style="color:rgb(0,0,255)">private</span> <span style="color:rgb(0,0,255)">static</span> <span style="color:rgb(0,0,255)">readonly</span> DefaultCacheStrategy instance = <span style="color:rgb(0,0,255)">new</span> DefaultCacheStrategy();</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 14:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 15:</span> <span style="color:rgb(0,0,255)">protected</span> <span style="color:rgb(0,0,255)">static</span> <span style="color:rgb(0,0,255)">volatile</span> System.Web.Caching.Cache webCache = System.Web.HttpRuntime.Cache;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 16:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 17:</span> <span style="color:rgb(0,0,255)">protected</span> <span style="color:rgb(0,0,255)">int</span> _timeOut = 1; <span style="color:rgb(0,128,0)">//默认缓存一分钟，也可以单独设置对象的超时时间</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 18:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 19:</span> <span style="color:rgb(0,0,255)">private</span> <span style="color:rgb(0,0,255)">static</span> <span style="color:rgb(0,0,255)">object</span> syncObj = <span style="color:rgb(0,0,255)">new</span> <span style="color:rgb(0,0,255)">object</span>();</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 20:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 21:</span> <span style="color:rgb(0,128,0)">/// &lt;summary&gt;</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 22:</span> <span style="color:rgb(0,128,0)">/// Initializes the &lt;see cref="DefaultCacheStrategy"/&gt; class.</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 23:</span> <span style="color:rgb(0,128,0)">/// &lt;/summary&gt;</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 24:</span> <span style="color:rgb(0,0,255)">static</span> DefaultCacheStrategy()</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 25:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 26:</span> <span style="color:rgb(0,128,0)">//lock (syncObj)</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 27:</span> <span style="color:rgb(0,128,0)">//{</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 28:</span> <span style="color:rgb(0,128,0)">// //System.Web.HttpContext context = System.Web.HttpContext.Current;</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 29:</span> <span style="color:rgb(0,128,0)">// //if(context != null)</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 30:</span> <span style="color:rgb(0,128,0)">// // webCache = context.Cache;</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 31:</span> <span style="color:rgb(0,128,0)">// //else</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 32:</span> <span style="color:rgb(0,128,0)">// webCache = System.Web.HttpRuntime.Cache;</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 33:</span> <span style="color:rgb(0,128,0)">//} </span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 34:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 35:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 36:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 37:</span> <span style="color:rgb(0,0,255)">public</span> <span style="color:rgb(0,0,255)">int</span> TimeOut</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 38:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 39:</span> set { _timeOut = <span style="color:rgb(0,0,255)">value</span> &gt; 0 ? <span style="color:rgb(0,0,255)">value</span> : 6000; }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 40:</span> get { <span style="color:rgb(0,0,255)">return</span> _timeOut &gt; 0 ? _timeOut : 6000; }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 41:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 42:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 43:</span> </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 44:</span> <span style="color:rgb(0,0,255)">public</span> <span style="color:rgb(0,0,255)">static</span> System.Web.Caching.Cache GetWebCacheObj</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 45:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 46:</span> get { <span style="color:rgb(0,0,255)">return</span> webCache; }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 47:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 48:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 49:</span> <span style="color:rgb(0,0,255)">public</span> <span style="color:rgb(0,0,255)">void</span> AddObject(<span style="color:rgb(0,0,255)">string</span> objId, <span style="color:rgb(0,0,255)">object</span> o)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 50:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 51:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 52:</span> <span style="color:rgb(0,0,255)">if</span> (objId == <span style="color:rgb(0,0,255)">null</span> || objId.Length == 0 || o == <span style="color:rgb(0,0,255)">null</span>)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 53:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 54:</span> <span style="color:rgb(0,0,255)">return</span>;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 55:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 56:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 57:</span> CacheItemRemovedCallback callBack = <span style="color:rgb(0,0,255)">new</span> CacheItemRemovedCallback(onRemove);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 58:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 59:</span> <span style="color:rgb(0,0,255)">if</span> (TimeOut == 6000)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 60:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 61:</span> webCache.Insert(objId, o, <span style="color:rgb(0,0,255)">null</span>, DateTime.MaxValue, TimeSpan.Zero, System.Web.Caching.CacheItemPriority.High, callBack);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 62:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 63:</span> <span style="color:rgb(0,0,255)">else</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 64:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 65:</span> webCache.Insert(objId, o, <span style="color:rgb(0,0,255)">null</span>, DateTime.Now.AddMinutes(TimeOut), System.Web.Caching.Cache.NoSlidingExpiration, System.Web.Caching.CacheItemPriority.High, callBack);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 66:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 67:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 68:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 69:</span> <span style="color:rgb(0,0,255)">public</span> <span style="color:rgb(0,0,255)">void</span> AddObjectWith(<span style="color:rgb(0,0,255)">string</span> objId, <span style="color:rgb(0,0,255)">object</span> o)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 70:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 71:</span> <span style="color:rgb(0,0,255)">if</span> (objId == <span style="color:rgb(0,0,255)">null</span> || objId.Length == 0 || o == <span style="color:rgb(0,0,255)">null</span>)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 72:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 73:</span> <span style="color:rgb(0,0,255)">return</span>;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 74:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 75:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 76:</span> CacheItemRemovedCallback callBack = <span style="color:rgb(0,0,255)">new</span> CacheItemRemovedCallback(onRemove);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 77:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 78:</span> webCache.Insert(objId, o, <span style="color:rgb(0,0,255)">null</span>, System.DateTime.Now.AddHours(TimeOut), System.Web.Caching.Cache.NoSlidingExpiration, System.Web.Caching.CacheItemPriority.High, callBack);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 79:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 80:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 81:</span> </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 82:</span> <span style="color:rgb(0,0,255)">public</span> <span style="color:rgb(0,0,255)">void</span> AddObjectWithTimeout(<span style="color:rgb(0,0,255)">string</span> objId, <span style="color:rgb(0,0,255)">object</span> o, <span style="color:rgb(0,0,255)">int</span> timeoutSec)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 83:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 84:</span> <span style="color:rgb(0,0,255)">if</span> (objId == <span style="color:rgb(0,0,255)">null</span> || objId.Length == 0 || o == <span style="color:rgb(0,0,255)">null</span> || timeoutSec &lt;= 0)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 85:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 86:</span> <span style="color:rgb(0,0,255)">return</span>;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 87:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 88:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 89:</span> CacheItemRemovedCallback callBack = <span style="color:rgb(0,0,255)">new</span> CacheItemRemovedCallback(onRemove);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 90:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 91:</span> webCache.Insert(objId, o, <span style="color:rgb(0,0,255)">null</span>, System.DateTime.Now.AddSeconds(timeoutSec), System.Web.Caching.Cache.NoSlidingExpiration, System.Web.Caching.CacheItemPriority.High, callBack);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 92:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 93:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 94:</span> <span style="color:rgb(0,0,255)">public</span> <span style="color:rgb(0,0,255)">void</span> AddObjectWithFileChange(<span style="color:rgb(0,0,255)">string</span> objId, <span style="color:rgb(0,0,255)">object</span> o, <span style="color:rgb(0,0,255)">string</span>[] files)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 95:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 96:</span> <span style="color:rgb(0,0,255)">if</span> (objId == <span style="color:rgb(0,0,255)">null</span> || objId.Length == 0 || o == <span style="color:rgb(0,0,255)">null</span>)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 97:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 98:</span> <span style="color:rgb(0,0,255)">return</span>;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 99:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 100:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 101:</span> CacheItemRemovedCallback callBack = <span style="color:rgb(0,0,255)">new</span> CacheItemRemovedCallback(onRemove);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 102:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 103:</span> CacheDependency dep = <span style="color:rgb(0,0,255)">new</span> CacheDependency(files, DateTime.Now);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 104:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 105:</span> webCache.Insert(objId, o, dep, System.DateTime.Now.AddHours(TimeOut), System.Web.Caching.Cache.NoSlidingExpiration, System.Web.Caching.CacheItemPriority.High, callBack);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 106:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 107:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 108:</span> </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 109:</span> <span style="color:rgb(0,0,255)">public</span> <span style="color:rgb(0,0,255)">void</span> AddObjectWithDepend(<span style="color:rgb(0,0,255)">string</span> objId, <span style="color:rgb(0,0,255)">object</span> o, <span style="color:rgb(0,0,255)">string</span>[] dependKey)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 110:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 111:</span> <span style="color:rgb(0,0,255)">if</span> (objId == <span style="color:rgb(0,0,255)">null</span> || objId.Length == 0 || o == <span style="color:rgb(0,0,255)">null</span>)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 112:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 113:</span> <span style="color:rgb(0,0,255)">return</span>;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 114:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 115:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 116:</span> CacheItemRemovedCallback callBack = <span style="color:rgb(0,0,255)">new</span> CacheItemRemovedCallback(onRemove);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 117:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 118:</span> CacheDependency dep = <span style="color:rgb(0,0,255)">new</span> CacheDependency(<span style="color:rgb(0,0,255)">null</span>, dependKey, DateTime.Now);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 119:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 120:</span> webCache.Insert(objId, o, dep, System.DateTime.Now.AddMinutes(TimeOut), System.Web.Caching.Cache.NoSlidingExpiration, System.Web.Caching.CacheItemPriority.High, callBack);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 121:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 122:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 123:</span> <span style="color:rgb(0,0,255)">public</span> <span style="color:rgb(0,0,255)">void</span> onRemove(<span style="color:rgb(0,0,255)">string</span> key, <span style="color:rgb(0,0,255)">object</span> val, CacheItemRemovedReason reason)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 124:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 125:</span> <span style="color:rgb(0,0,255)">switch</span> (reason)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 126:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 127:</span> <span style="color:rgb(0,0,255)">case</span> CacheItemRemovedReason.DependencyChanged:</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 128:</span> <span style="color:rgb(0,0,255)">break</span>;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 129:</span> <span style="color:rgb(0,0,255)">case</span> CacheItemRemovedReason.Expired:</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 130:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 131:</span> <span style="color:rgb(0,128,0)">//CacheItemRemovedCallback callBack = new CacheItemRemovedCallback(this.onRemove);</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 132:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 133:</span> <span style="color:rgb(0,128,0)">//webCache.Insert(key, val, null, System.DateTime.Now.AddMinutes(TimeOut),</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 134:</span> <span style="color:rgb(0,128,0)">// System.Web.Caching.Cache.NoSlidingExpiration,</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 135:</span> <span style="color:rgb(0,128,0)">// System.Web.Caching.CacheItemPriority.High,</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 136:</span> <span style="color:rgb(0,128,0)">// callBack);</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 137:</span> <span style="color:rgb(0,0,255)">break</span>;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 138:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 139:</span> <span style="color:rgb(0,0,255)">case</span> CacheItemRemovedReason.Removed:</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 140:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 141:</span> <span style="color:rgb(0,0,255)">break</span>;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 142:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 143:</span> <span style="color:rgb(0,0,255)">case</span> CacheItemRemovedReason.Underused:</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 144:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 145:</span> <span style="color:rgb(0,0,255)">break</span>;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 146:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 147:</span> <span style="color:rgb(0,0,255)">default</span>: <span style="color:rgb(0,0,255)">break</span>;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 148:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 149:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 150:</span> <span style="color:rgb(0,128,0)">//TODO: write log here</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 151:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 152:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 153:</span> </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 154:</span> <span style="color:rgb(0,0,255)">public</span> <span style="color:rgb(0,0,255)">void</span> RemoveObject(<span style="color:rgb(0,0,255)">string</span> objId)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 155:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 156:</span> <span style="color:rgb(0,128,0)">//objectTable.Remove(objId);</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 157:</span> <span style="color:rgb(0,0,255)">if</span> (objId == <span style="color:rgb(0,0,255)">null</span> || objId.Length == 0)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 158:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 159:</span> <span style="color:rgb(0,0,255)">return</span>;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 160:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 161:</span> webCache.Remove(objId);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 162:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 163:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 164:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 165:</span> <span style="color:rgb(0,0,255)">public</span> <span style="color:rgb(0,0,255)">object</span> RetrieveObject(<span style="color:rgb(0,0,255)">string</span> objId)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 166:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 167:</span> <span style="color:rgb(0,128,0)">//return objectTable[objId];</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 168:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 169:</span> <span style="color:rgb(0,0,255)">if</span> (objId == <span style="color:rgb(0,0,255)">null</span> || objId.Length == 0)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 170:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 171:</span> <span style="color:rgb(0,0,255)">return</span> <span style="color:rgb(0,0,255)">null</span>;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 172:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 173:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 174:</span> <span style="color:rgb(0,0,255)">return</span> webCache.Get(objId);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 175:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 176:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 177:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 178:</span> }</pre>&#13;
</div>&#13;
</div>&#13;
<p style="margin:10px auto; padding-bottom:10px; font-size:0.8em; color:rgb(51,51,50); font-family:'Open Sans',Arial,'Hiragino Sans GB','Microsoft YaHei'; line-height:28px">&#13;
CachingManager.cs</p>&#13;
<div style="color:rgb(51,51,50); border:1px solid gray; margin:20px 0px 10px; padding:4px; overflow:auto; font-size:8pt; width:1326.546875px; max-height:200px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)">&#13;
<div style="border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; color:black; line-height:12pt">&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 1:</span> <span style="color:rgb(0,0,255)">using</span> System;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 2:</span> <span style="color:rgb(0,0,255)">using</span> System.Collections.Generic;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 3:</span> <span style="color:rgb(0,0,255)">using</span> System.Text;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 4:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 5:</span> <span style="color:rgb(0,0,255)">namespace</span> Sample.Caching</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 6:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 7:</span> <span style="color:rgb(0,128,0)">/// &lt;summary&gt;</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 8:</span> <span style="color:rgb(0,128,0)">/// The caching manager</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 9:</span> <span style="color:rgb(0,128,0)">/// &lt;/summary&gt;</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 10:</span> <span style="color:rgb(0,0,255)">public</span> <span style="color:rgb(0,0,255)">class</span> CachingManager</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 11:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 12:</span> <span style="color:rgb(0,0,255)">private</span> <span style="color:rgb(0,0,255)">static</span> ICacheStrategy cs;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 13:</span> <span style="color:rgb(0,0,255)">private</span> <span style="color:rgb(0,0,255)">static</span> <span style="color:rgb(0,0,255)">volatile</span> CachingManager instance = <span style="color:rgb(0,0,255)">null</span>;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 14:</span> <span style="color:rgb(0,0,255)">private</span> <span style="color:rgb(0,0,255)">static</span> <span style="color:rgb(0,0,255)">object</span> lockHelper = <span style="color:rgb(0,0,255)">new</span> <span style="color:rgb(0,0,255)">object</span>();</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 15:</span> </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 16:</span> <span style="color:rgb(0,128,0)">//private static System.Timers.Timer cacheConfigTimer = new System.Timers.Timer(15000);//Interval in ms</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 17:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 18:</span> </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 19:</span> <span style="color:rgb(0,0,255)">private</span> CachingManager()</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 20:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 21:</span> cs = <span style="color:rgb(0,0,255)">new</span> DefaultCacheStrategy();</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 22:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 23:</span> <span style="color:rgb(0,128,0)">////Set timer</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 24:</span> <span style="color:rgb(0,128,0)">//cacheConfigTimer.AutoReset = true;</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 25:</span> <span style="color:rgb(0,128,0)">//cacheConfigTimer.Enabled = true;</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 26:</span> <span style="color:rgb(0,128,0)">//cacheConfigTimer.Elapsed += new System.Timers.ElapsedEventHandler(Timer_Elapsed);</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 27:</span> <span style="color:rgb(0,128,0)">//cacheConfigTimer.Start();</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 28:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 29:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 30:</span> </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 31:</span> <span style="color:rgb(0,0,255)">private</span> <span style="color:rgb(0,0,255)">static</span> <span style="color:rgb(0,0,255)">void</span> Timer_Elapsed(<span style="color:rgb(0,0,255)">object</span> sender, System.Timers.ElapsedEventArgs e)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 32:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 33:</span> <span style="color:rgb(0,128,0)">//TODO:</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 34:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 35:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 36:</span> </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 37:</span> <span style="color:rgb(0,0,255)">public</span> <span style="color:rgb(0,0,255)">static</span> CachingManager GetCachingService()</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 38:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 39:</span> <span style="color:rgb(0,0,255)">if</span> (instance == <span style="color:rgb(0,0,255)">null</span>)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 40:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 41:</span> <span style="color:rgb(0,0,255)">lock</span> (lockHelper)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 42:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 43:</span> <span style="color:rgb(0,0,255)">if</span> (instance == <span style="color:rgb(0,0,255)">null</span>)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 44:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 45:</span> instance = <span style="color:rgb(0,0,255)">new</span> CachingManager();</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 46:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 47:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 48:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 49:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 50:</span> <span style="color:rgb(0,0,255)">return</span> instance;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 51:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 52:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 53:</span> </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 54:</span> <span style="color:rgb(0,0,255)">public</span> <span style="color:rgb(0,0,255)">virtual</span> <span style="color:rgb(0,0,255)">void</span> AddObject(<span style="color:rgb(0,0,255)">string</span> key, <span style="color:rgb(0,0,255)">object</span> o)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 55:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 56:</span> <span style="color:rgb(0,0,255)">if</span> (String.IsNullOrEmpty(key) || o == <span style="color:rgb(0,0,255)">null</span>) <span style="color:rgb(0,0,255)">return</span>;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 57:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 58:</span> <span style="color:rgb(0,0,255)">lock</span> (lockHelper)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 59:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 60:</span> <span style="color:rgb(0,0,255)">if</span> (cs.TimeOut &lt;= 0) <span style="color:rgb(0,0,255)">return</span>;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 61:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 62:</span> cs.AddObject(key, o);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 63:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 64:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 65:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 66:</span> </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 67:</span> <span style="color:rgb(0,0,255)">public</span> <span style="color:rgb(0,0,255)">virtual</span> <span style="color:rgb(0,0,255)">void</span> AddObject(<span style="color:rgb(0,0,255)">string</span> key, <span style="color:rgb(0,0,255)">object</span> o, <span style="color:rgb(0,0,255)">int</span> timeout)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 68:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 69:</span> <span style="color:rgb(0,0,255)">if</span> (String.IsNullOrEmpty(key) || o == <span style="color:rgb(0,0,255)">null</span>) <span style="color:rgb(0,0,255)">return</span>;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 70:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 71:</span> <span style="color:rgb(0,0,255)">lock</span> (lockHelper)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 72:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 73:</span> <span style="color:rgb(0,0,255)">if</span> (cs.TimeOut &lt;= 0) <span style="color:rgb(0,0,255)">return</span>;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 74:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 75:</span> cs.AddObjectWithTimeout(key, o, timeout);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 76:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 77:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 78:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 79:</span> </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 80:</span> <span style="color:rgb(0,0,255)">public</span> <span style="color:rgb(0,0,255)">virtual</span> <span style="color:rgb(0,0,255)">object</span> RetrieveObject(<span style="color:rgb(0,0,255)">string</span> objectId)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 81:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 82:</span> <span style="color:rgb(0,0,255)">return</span> cs.RetrieveObject(objectId);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 83:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 84:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 85:</span> </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 86:</span> <span style="color:rgb(0,0,255)">public</span> <span style="color:rgb(0,0,255)">virtual</span> <span style="color:rgb(0,0,255)">void</span> RemoveObject(<span style="color:rgb(0,0,255)">string</span> key)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 87:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 88:</span> <span style="color:rgb(0,0,255)">lock</span> (lockHelper)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 89:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 90:</span> cs.RemoveObject(key);</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 91:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 92:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 93:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 94:</span> </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 95:</span> <span style="color:rgb(0,0,255)">public</span> <span style="color:rgb(0,0,255)">void</span> LoadCacheStrategy(ICacheStrategy ics)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 96:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 97:</span> <span style="color:rgb(0,0,255)">lock</span> (lockHelper)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 98:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 99:</span> cs = ics;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 100:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 101:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 102:</span>  </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 103:</span> </pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 104:</span> <span style="color:rgb(0,0,255)">public</span> <span style="color:rgb(0,0,255)">void</span> LoadDefaultCacheStrategy()</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 105:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 106:</span> <span style="color:rgb(0,0,255)">lock</span> (lockHelper)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 107:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 108:</span> cs = <span style="color:rgb(0,0,255)">new</span> DefaultCacheStrategy();</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 109:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 110:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 111:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1326.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 112:</span> }</pre>&#13;
</div>&#13;
</div>&#13;
<p style="margin:10px auto; padding-bottom:10px; font-size:0.8em; color:rgb(51,51,50); font-family:'Open Sans',Arial,'Hiragino Sans GB','Microsoft YaHei'; line-height:28px">&#13;
调用：</p>&#13;
<div style="color:rgb(51,51,50); border:1px solid gray; margin:20px 0px 10px; padding:4px; overflow:auto; font-size:8pt; width:1343.546875px; max-height:200px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)">&#13;
<div style="border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1343.546875px; color:black; line-height:12pt">&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1343.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 1:</span> CachingManager cm = CachingManager.GetCachingService();</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1343.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 2:</span> cm.LoadDefaultCacheStrategy();</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1343.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 3:</span> <span style="color:rgb(0,128,0)">//从缓存获取</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1343.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 4:</span> IList list = cm.RetrieveObject(<span style="color:rgb(0,96,128)">"mykey"</span>) <span style="color:rgb(0,0,255)">as</span> IList;</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1343.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 5:</span> <span style="color:rgb(0,0,255)">if</span> (list == <span style="color:rgb(0,0,255)">null</span>)</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1343.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 6:</span> {</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1343.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 7:</span> list = DAL.GetData(); <span style="color:rgb(0,128,0)">//从数据库查询</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1343.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 8:</span> cm.AddObject(<span style="color:rgb(0,96,128)">"mykey"</span>, list, 2 * 60); <span style="color:rgb(0,128,0)">//缓存2分钟</span></pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1343.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 9:</span> }</pre>&#13;
<pre style="margin:0em; white-space:pre-wrap; word-wrap:break-word; border-style:none; padding:0px; overflow:visible; font-size:8pt; width:1343.546875px; line-height:12pt; font-family:consolas,'Courier New',courier,monospace; background-color:rgb(244,244,244)"><span style="color:rgb(96,96,96)"> 10:</span> <span style="color:rgb(0,0,255)">return</span> list;</pre>&#13;
</div>&#13;
</div>&#13;
<p style="margin:10px auto; padding-bottom:10px; font-size:0.8em; color:rgb(51,51,50); font-family:'Open Sans',Arial,'Hiragino Sans GB','Microsoft YaHei'; line-height:28px">&#13;
调用时序图：</p>&#13;
<p style="margin:10px auto; padding-bottom:10px; font-size:0.8em; color:rgb(51,51,50); font-family:'Open Sans',Arial,'Hiragino Sans GB','Microsoft YaHei'; line-height:28px">&#13;
<a target="_blank" href="http://images.cnblogs.com/cnblogs_com/Mainz/WindowsLiveWriter/f7cbe2e36b65_12F95/SequenceDiagram1_4.jpg" style="color:rgb(81,173,237)"><img title="SequenceDiagram1" alt="SequenceDiagram1" src="http://images.cnblogs.com/cnblogs_com/Mainz/WindowsLiveWriter/f7cbe2e36b65_12F95/SequenceDiagram1_thumb_1.jpg" width="554" border="0" height="488" style="border:0px none; display:inline" /></a></p>&#13;
   &#13;
