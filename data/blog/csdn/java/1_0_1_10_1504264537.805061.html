
        <div class="markdown_views"><h1 id="本系列前面博客的链接">本系列前面博客的链接：</h1>

<p>Java-单机版的书店管理系统(练习设计模块和思想_系列 六 ) <br />
<a href="http://blog.csdn.net/qq_26525215/article/details/51169277">http://blog.csdn.net/qq_26525215/article/details/51169277</a></p>

<p>Java-单机版的书店管理系统(练习设计模块和思想_系列 五 )  <br />
<a href="http://blog.csdn.net/qq_26525215/article/details/51136848">http://blog.csdn.net/qq_26525215/article/details/51136848</a></p>

<p>Java-单机版的书店管理系统(练习设计模块和思想_系列 四(2) )：  <br />
<a href="http://blog.csdn.net/qq_26525215/article/details/51117135">http://blog.csdn.net/qq_26525215/article/details/51117135</a></p>

<p>Java-单机版的书店管理系统(练习设计模块和思想_系列 四(1) )：  <br />
<a href="http://blog.csdn.net/qq_26525215/article/details/51116429">http://blog.csdn.net/qq_26525215/article/details/51116429</a></p>

<p>Java-单机版的书店管理系统(练习设计模块和思想_系列 三 )：  <br />
<a href="http://blog.csdn.net/qq_26525215/article/details/51099202">http://blog.csdn.net/qq_26525215/article/details/51099202</a></p>

<p>Java-单机版的书店管理系统(练习设计模块和思想_系列 二 )：  <br />
<a href="http://blog.csdn.net/qq_26525215/article/details/51089734">http://blog.csdn.net/qq_26525215/article/details/51089734</a></p>

<p>Java-单机版的书店管理系统(练习设计模块和思想_系列 一 )：  <br />
<a href="http://blog.csdn.net/qq_26525215/article/details/51073546">http://blog.csdn.net/qq_26525215/article/details/51073546</a></p>

<h1 id="介绍">介绍：</h1>

<p>现在已经将进货模块的查询写完了，</p>

<p>（进货模块只有添加和查询！没有删除和修改。 <br />
因为如果能随便修改进货的时间，进货的数量等，这不是乱套了嘛）</p>

<p>现在完成的模块有：用户模块，图书模块，进货模块。 <br />
新增写了一个日期类，将long型数字转换成某个日期格式显示给用户看。 <br />
将string型的日期格式转换成long型数字存储。 <br />
将前面的StringComparison类进行了修改。</p>

<p><strong>现在剩下的模块还有销售模块，库存模块，还有登录界面，</strong> <br />
库存模块是需要综合销售模块和进货模块来写的。 <br />
也就是模块与模块之间需要串接了。 <br />
现在我写的这3个模块，基本上是属于和对方没什么联系的，每个模块都能独自完成自己的功能。</p>

<p>只亮一张进货查询的图片吧。界面不好看（^-^）勿喷噢。 <br />
<img src="http://img.blog.csdn.net/20160419145730578" alt="" title="" /></p>

<h1 id="增加或修改的代码">增加或修改的代码：</h1>



<h2 id="工具类stringcomparison">工具类StringComparison ：</h2>

<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.util;

<span class="hljs-javadoc">/**
 * 工具类
 * 字符串比较
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StringComparison</span> {</span>

    <span class="hljs-javadoc">/**
     * str1和str2完全(精确查找)匹配
     * 这个精确匹配是在str2不为null且str2去掉2端空格的情况下比较的！！！
     *<span class="hljs-javadoctag"> @param</span> str1---被比较的字符串
     *<span class="hljs-javadoctag"> @param</span> str2---比较的字符串
     *<span class="hljs-javadoctag"> @return</span>---如果2个字符串相同或者str2全部是空格或者str2==null，就返回true，如果2个字符串不同，就返回false
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">stringEquals</span>(String str1,String str2){
        <span class="hljs-keyword">if</span>(str2==<span class="hljs-keyword">null</span> || str2.trim().length()&lt;=<span class="hljs-number">0</span>){
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
        }
        <span class="hljs-keyword">if</span>(!str1.equals(str2.trim())){
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }

    <span class="hljs-javadoc">/**
     * str1与str2模糊匹配
     * 这个模糊匹配也是在str2不为null且str2去掉2端空格的情况下比较的！！！
     *<span class="hljs-javadoctag"> @param</span> str1---被比较的字符串
     *<span class="hljs-javadoctag"> @param</span> str2---比较的字符串
     *<span class="hljs-javadoctag"> @return</span>---如果str2是str1的子串或者str2全部是空格或str2==null，就返回true，如果str2不是str1的字串，就返回false
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">stringIndexOf</span>(String str1,String str2){
        <span class="hljs-keyword">if</span>(str2==<span class="hljs-keyword">null</span> || str2.trim().length()&lt;=<span class="hljs-number">0</span>){
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
        }

        <span class="hljs-keyword">if</span>(str1.indexOf(str2.trim())==-<span class="hljs-number">1</span>){
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }

}
</code></pre>

<p>工具类DateUtil：</p>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.util;

<span class="hljs-keyword">import</span> java.text.DateFormat;
<span class="hljs-keyword">import</span> java.text.ParseException;
<span class="hljs-keyword">import</span> java.text.SimpleDateFormat;
<span class="hljs-keyword">import</span> java.util.Date;

<span class="hljs-keyword">import</span> javax.swing.JOptionPane;

<span class="hljs-javadoc">/**
 * 日期工具类
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DateUtil</span> {</span>
    <span class="hljs-javadoc">/**
     * 根据传入的long参数 ，把long值转换为固定的年月日格式输出
     *<span class="hljs-javadoctag"> @param</span> d---传入的参数
     *<span class="hljs-javadoctag"> @return</span>---一个字符串参数，格式为：yyyy年MM月dd日 HH:mm:ss
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">long2String</span>(<span class="hljs-keyword">long</span> d){
        Date date = <span class="hljs-keyword">new</span> Date(d);
        DateFormat df = <span class="hljs-keyword">new</span> SimpleDateFormat(<span class="hljs-string">"yyyy年MM月dd日 HH:mm:ss"</span>);
        String str = df.format(date);
        <span class="hljs-keyword">return</span> str;
    }
    <span class="hljs-comment">/*
     * 代码抽取技术：
     *   首先不要想“抽出的方法”怎么写，而是把类似的代码拷在一起，观察其中的变化部分和不变化部分。
     *   把这段代码中用到的“前面定义的变量”抽取成方法的参数--本例中为txtInDate和erroInfo，把“留给后面使用的”将在这段代码中新
     *   创建的变量定义成方法的返回值---本例为inDate。
     */</span>


    <span class="hljs-javadoc">/**
     * 根据传入的日期格式，把String型的参数转换成long型参数返回&lt;br/&gt;
     * 如果格式传入错误，会根据传入的erroInfo字符串弹出窗口给出提示！ 
     *<span class="hljs-javadoctag"> @param</span> txtInDate---传入的日期。
     *<span class="hljs-javadoctag"> @param</span> erroInfo----传入的错误提示信息
     *<span class="hljs-javadoctag"> @return</span>---long型的数字，如果格式转换错误，返回-1；
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">long</span> <span class="hljs-title">string2Long</span>(String txtInDate,String erroInfo){
        DateFormat date = <span class="hljs-keyword">new</span> SimpleDateFormat(<span class="hljs-string">"yyyy-MM-dd HH:mm:ss"</span>);
        <span class="hljs-keyword">long</span> inDate=<span class="hljs-number">0</span>;
        <span class="hljs-keyword">try</span> {
            Date d = date.parse(txtInDate);
            inDate = d.getTime();
        } <span class="hljs-keyword">catch</span> (ParseException e) {
            JOptionPane.showMessageDialog(<span class="hljs-keyword">null</span>, erroInfo);
            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">return</span> inDate;
    }

}
</code></pre>



<h2 id="进货模块的逻辑层实现类inmainebo">进货模块的逻辑层实现类InMainEbo：</h2>

<pre class="prettyprint"><code class=" hljs avrasm">package cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.in</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.ebo</span><span class="hljs-comment">;</span>

import java<span class="hljs-preprocessor">.util</span><span class="hljs-preprocessor">.List</span><span class="hljs-comment">;</span>
import java<span class="hljs-preprocessor">.util</span><span class="hljs-preprocessor">.Map</span><span class="hljs-comment">;</span>
import java<span class="hljs-preprocessor">.util</span><span class="hljs-preprocessor">.TreeMap</span><span class="hljs-comment">;</span>

import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.ebi</span><span class="hljs-preprocessor">.BookEbi</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.factory</span><span class="hljs-preprocessor">.BookEbiFactory</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.common</span><span class="hljs-preprocessor">.UuidModelConstance</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.common</span><span class="hljs-preprocessor">.uuid</span><span class="hljs-preprocessor">.dao</span><span class="hljs-preprocessor">.dao</span><span class="hljs-preprocessor">.UuidDao</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.common</span><span class="hljs-preprocessor">.uuid</span><span class="hljs-preprocessor">.dao</span><span class="hljs-preprocessor">.factory</span><span class="hljs-preprocessor">.UuidDaoFactory</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.in</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.ebi</span><span class="hljs-preprocessor">.InMainEbi</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.in</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.factory</span><span class="hljs-preprocessor">.InMainEbiFactory</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.in</span><span class="hljs-preprocessor">.dao</span><span class="hljs-preprocessor">.dao</span><span class="hljs-preprocessor">.InDetailDao</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.in</span><span class="hljs-preprocessor">.dao</span><span class="hljs-preprocessor">.dao</span><span class="hljs-preprocessor">.InMainDao</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.in</span><span class="hljs-preprocessor">.dao</span><span class="hljs-preprocessor">.factory</span><span class="hljs-preprocessor">.InDetailDaoFactory</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.in</span><span class="hljs-preprocessor">.dao</span><span class="hljs-preprocessor">.factory</span><span class="hljs-preprocessor">.InMainDaoFactory</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.in</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.InDetailModel</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.in</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.InDetailQueryModel</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.in</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.InMainModel</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.in</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.InMainQueryModel</span><span class="hljs-comment">;</span>

<span class="hljs-comment">/**
 * 
 * @author 陈浩翔
 *
 * @version 1.0
 */</span>
public class InMainEbo implements InMainEbi{
    //注入dao

    InMainDao inMainDao = InMainDaoFactory<span class="hljs-preprocessor">.getInMainDao</span>()<span class="hljs-comment">;</span>
    InDetailDao inDetailDao = InDetailDaoFactory<span class="hljs-preprocessor">.getInDetailDao</span>()<span class="hljs-comment">;</span>
    UuidDao uuidDao = UuidDaoFactory<span class="hljs-preprocessor">.getUuidDao</span>()<span class="hljs-comment">;</span>
    BookEbi bookEbi = BookEbiFactory<span class="hljs-preprocessor">.getBookEbi</span>()<span class="hljs-comment">;</span>

    @Override
    public boolean create(InMainModel inMain, List&lt;InDetailModel&gt; inDetails) {
        //////////<span class="hljs-number">1</span>存储inMain信息///////////
        //补全inMain中的数据
        //需要:inUuid,inDate,inUserUuid   已组织:inUserUuid
        //还缺(需补):inUuid,inDate
        String inUuid = uuidDao<span class="hljs-preprocessor">.getNextUuid</span>(UuidModelConstance<span class="hljs-preprocessor">.IN</span>_MAIN)<span class="hljs-comment">;</span>
        inMain<span class="hljs-preprocessor">.setUuid</span>(inUuid)<span class="hljs-comment">;</span>
        inMain<span class="hljs-preprocessor">.setInDate</span>(System<span class="hljs-preprocessor">.currentTimeMillis</span>())<span class="hljs-comment">;</span>
        inMainDao<span class="hljs-preprocessor">.create</span>(inMain)<span class="hljs-comment">;</span>

         //////////<span class="hljs-number">2</span>存储inDetail信息///////////
        for(InDetailModel model:inDetails){
            //补全每一个inDetail中的数据
            //需要:inDetailUuid,inMainUuid,bookUuid,sumNum,sumMoney   已组织:bookUuid,sumNum
            //还缺(需补):inDetailUuid,inMainUuid,sumMoney
            model<span class="hljs-preprocessor">.setUuid</span>(uuidDao<span class="hljs-preprocessor">.getNextUuid</span>(UuidModelConstance<span class="hljs-preprocessor">.IN</span>_DETAIL))<span class="hljs-comment">;</span>
            model<span class="hljs-preprocessor">.setInId</span>(inUuid)<span class="hljs-comment">;</span>

            double sumMoney = model<span class="hljs-preprocessor">.getSumNum</span>() * bookEbi<span class="hljs-preprocessor">.getSingle</span>(model<span class="hljs-preprocessor">.getBookId</span>())<span class="hljs-preprocessor">.getInPrice</span>()<span class="hljs-comment">;</span>
            model<span class="hljs-preprocessor">.setSumMoney</span>(sumMoney)<span class="hljs-comment">;</span>
            inDetailDao<span class="hljs-preprocessor">.create</span>(model)<span class="hljs-comment">;</span>
        }
        return true<span class="hljs-comment">;</span>
    }

    @Override
    public Map&lt;InMainModel, List&lt;InDetailModel&gt;&gt; getAll() {
        Map&lt;InMainModel,List&lt;InDetailModel&gt;&gt; map = new TreeMap&lt;InMainModel, List&lt;InDetailModel&gt;&gt;()<span class="hljs-comment">;</span>

        List&lt;InMainModel&gt; inMains = inMainDao<span class="hljs-preprocessor">.getAll</span>()<span class="hljs-comment">;</span>

        for(InMainModel inMain: inMains ){
            //查询条件值对象的创建
            InDetailQueryModel idqm = new InDetailQueryModel()<span class="hljs-comment">;</span>
            String inUuid = inMain<span class="hljs-preprocessor">.getUuid</span>()<span class="hljs-comment">;</span>
            idqm<span class="hljs-preprocessor">.setInId</span>(inUuid)<span class="hljs-comment">;</span>

            List&lt;InDetailModel&gt; details = inDetailDao<span class="hljs-preprocessor">.getbyCondition</span>(idqm)<span class="hljs-comment">;</span>

            map<span class="hljs-preprocessor">.put</span>(inMain, details)<span class="hljs-comment">;</span>
        }

        return map<span class="hljs-comment">;</span>
    }

    @Override
    public Map&lt;InMainModel, List&lt;InDetailModel&gt;&gt; getByCondition(
            InMainQueryModel imqm, InDetailQueryModel idqm) {
        Map&lt;InMainModel, List&lt;InDetailModel&gt;&gt; map = new TreeMap&lt;InMainModel, List&lt;InDetailModel&gt;&gt;()<span class="hljs-comment">;</span>

        List&lt;InMainModel&gt; list = inMainDao<span class="hljs-preprocessor">.getbyCondition</span>(imqm)<span class="hljs-comment">;</span>

        for(InMainModel inMain : list){
            idqm<span class="hljs-preprocessor">.setInId</span>(inMain<span class="hljs-preprocessor">.getUuid</span>())<span class="hljs-comment">;</span>

            List&lt;InDetailModel&gt; details = inDetailDao<span class="hljs-preprocessor">.getbyCondition</span>(idqm)<span class="hljs-comment">;</span>
            if(details<span class="hljs-preprocessor">.size</span>()!=<span class="hljs-number">0</span>){
                map<span class="hljs-preprocessor">.put</span>(inMain, details)<span class="hljs-comment">;</span>
            }
        }

        return map<span class="hljs-comment">;</span>
    }

}
</code></pre>



<h2 id="表现层查询界面的代码inquerypanel">表现层查询界面的代码InQueryPanel：</h2>

<p>这里的代码初始化的initComponents()方法是MyEclipse的Matisse from生成的。 <br />
核心代码是查询按钮的监听实现方法和myInitData()方法。</p>

<pre class="prettyprint"><code class=" hljs avrasm">package cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.in</span><span class="hljs-preprocessor">.ui</span><span class="hljs-comment">;</span>

import java<span class="hljs-preprocessor">.util</span><span class="hljs-preprocessor">.List</span><span class="hljs-comment">;</span>
import java<span class="hljs-preprocessor">.util</span><span class="hljs-preprocessor">.Map</span><span class="hljs-comment">;</span>

import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JFrame</span><span class="hljs-comment">;</span>
import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JOptionPane</span><span class="hljs-comment">;</span>

import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.factory</span><span class="hljs-preprocessor">.BookEbiFactory</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.BookModel</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.in</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.factory</span><span class="hljs-preprocessor">.InMainEbiFactory</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.in</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.InDetailModel</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.in</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.InDetailQueryModel</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.in</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.InMainModel</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.in</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.InMainQueryModel</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.factory</span><span class="hljs-preprocessor">.UserEbiFactory</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.UserModel</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.util</span><span class="hljs-preprocessor">.DateUtil</span><span class="hljs-comment">;</span>

<span class="hljs-comment">/**
 * 
 * @author 陈浩翔
 *
 * @version 1.0
 */</span>
public class InQueryPanel extends javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPanel</span> {
    private JFrame mainFrame = null<span class="hljs-comment">;</span>

    <span class="hljs-comment">/** Creates new form InQueryPanel 
     * @param mainFrame */</span>
    public InQueryPanel(JFrame mainFrame) {
        this<span class="hljs-preprocessor">.mainFrame</span> = mainFrame<span class="hljs-comment">;</span>
        initComponents()<span class="hljs-comment">;</span>
        myInitData()<span class="hljs-comment">;</span>
    }

    <span class="hljs-comment">/**
     * 初始化combo Box的数据
     */</span>
    private void myInitData() {
        //进货人组合框内数据的初始化
        List&lt;UserModel&gt; listUsers = UserEbiFactory<span class="hljs-preprocessor">.getUserEbi</span>()<span class="hljs-preprocessor">.getAllIn</span>()<span class="hljs-comment">;</span>
        for (UserModel user : listUsers) {
            combInUser<span class="hljs-preprocessor">.addItem</span>(user<span class="hljs-preprocessor">.getName</span>())<span class="hljs-comment">;</span>
        }

        //图书组合框内数据的初始化
        List&lt;BookModel&gt; listBooks = BookEbiFactory<span class="hljs-preprocessor">.getBookEbi</span>()<span class="hljs-preprocessor">.getAll</span>()<span class="hljs-comment">;</span>
        for (BookModel book : listBooks) {
            combBook<span class="hljs-preprocessor">.addItem</span>(book<span class="hljs-preprocessor">.getName</span>())<span class="hljs-comment">;</span>
        }
    }

    //GEN-BEGIN:initComponents
    // &lt;editor-fold defaultstate=<span class="hljs-string">"collapsed"</span> desc=<span class="hljs-string">"Generated Code"</span>&gt;
    private void initComponents() {

        jLabel1 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        jLabel5 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        combBook = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JComboBox</span>()<span class="hljs-comment">;</span>
        jLabel7 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdInUuid = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel4 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        combInUser = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JComboBox</span>()<span class="hljs-comment">;</span>
        jLabel8 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdInNum = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel9 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdInDate = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel10 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdInDate2 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel11 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdInNum2 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel12 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdInDetailUuid = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel13 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdInSumMoney = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel14 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdInSumMoney2 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel15 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        btnQuery = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>
        btnBack = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>

        setMinimumSize(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Dimension</span>(<span class="hljs-number">800</span>, <span class="hljs-number">600</span>))<span class="hljs-comment">;</span>
        setLayout(null)<span class="hljs-comment">;</span>

        jLabel1<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">36</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">204</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fdb\u8d27\u67e5\u8be2"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel1)<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">290</span>, <span class="hljs-number">10</span>, <span class="hljs-number">170</span>, <span class="hljs-number">70</span>)<span class="hljs-comment">;</span>

        jLabel5<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel5<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u56fe\u4e66:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel5)<span class="hljs-comment">;</span>
        jLabel5<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">460</span>, <span class="hljs-number">240</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        combBook<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        combBook<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>))<span class="hljs-comment">;</span>
        combBook<span class="hljs-preprocessor">.setModel</span>(new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.DefaultComboBoxModel</span>(
                new String[] { <span class="hljs-string">"查询所有"</span> }))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(combBook)<span class="hljs-comment">;</span>
        combBook<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">510</span>, <span class="hljs-number">240</span>, <span class="hljs-number">200</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel7<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel7<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fdb\u8d27\u5355\u7f16\u53f7:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel7)<span class="hljs-comment">;</span>
        jLabel7<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">100</span>, <span class="hljs-number">90</span>, <span class="hljs-number">100</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdInUuid)<span class="hljs-comment">;</span>
        tfdInUuid<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">210</span>, <span class="hljs-number">90</span>, <span class="hljs-number">150</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel4<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fdb\u8d27\u4eba:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel4)<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">440</span>, <span class="hljs-number">90</span>, <span class="hljs-number">80</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        combInUser<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        combInUser<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">204</span>, <span class="hljs-number">204</span>, <span class="hljs-number">0</span>))<span class="hljs-comment">;</span>
        combInUser<span class="hljs-preprocessor">.setModel</span>(new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.DefaultComboBoxModel</span>(
                new String[] { <span class="hljs-string">"查询所有"</span> }))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(combInUser)<span class="hljs-comment">;</span>
        combInUser<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">510</span>, <span class="hljs-number">90</span>, <span class="hljs-number">200</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel8<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel8<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fdb\u8d27\u6700\u5c0f\u6570\u91cf:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel8)<span class="hljs-comment">;</span>
        jLabel8<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">80</span>, <span class="hljs-number">320</span>, <span class="hljs-number">120</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdInNum)<span class="hljs-comment">;</span>
        tfdInNum<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">210</span>, <span class="hljs-number">320</span>, <span class="hljs-number">150</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel9<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel9<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u683c\u5f0f\u5982: 2016-04-13"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel9)<span class="hljs-comment">;</span>
        jLabel9<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">190</span>, <span class="hljs-number">190</span>, <span class="hljs-number">180</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdInDate)<span class="hljs-comment">;</span>
        tfdInDate<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">210</span>, <span class="hljs-number">160</span>, <span class="hljs-number">150</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel10<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel10<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fdb\u8d27\u622a\u6b62\u65f6\u95f4:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel10)<span class="hljs-comment">;</span>
        jLabel10<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">390</span>, <span class="hljs-number">160</span>, <span class="hljs-number">120</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdInDate2)<span class="hljs-comment">;</span>
        tfdInDate2<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">510</span>, <span class="hljs-number">160</span>, <span class="hljs-number">200</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel11<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel11<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fdb\u8d27\u6700\u5927\u6570\u91cf:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel11)<span class="hljs-comment">;</span>
        jLabel11<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">390</span>, <span class="hljs-number">320</span>, <span class="hljs-number">120</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdInNum2)<span class="hljs-comment">;</span>
        tfdInNum2<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">510</span>, <span class="hljs-number">320</span>, <span class="hljs-number">200</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel12<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel12<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fdb\u8d27\u660e\u7ec6\u7f16\u53f7:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel12)<span class="hljs-comment">;</span>
        jLabel12<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">80</span>, <span class="hljs-number">240</span>, <span class="hljs-number">120</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdInDetailUuid)<span class="hljs-comment">;</span>
        tfdInDetailUuid<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">210</span>, <span class="hljs-number">240</span>, <span class="hljs-number">150</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel13<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel13<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fdb\u8d27\u603b\u4ef7\u6700\u5c0f\u503c:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel13)<span class="hljs-comment">;</span>
        jLabel13<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">60</span>, <span class="hljs-number">400</span>, <span class="hljs-number">140</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdInSumMoney)<span class="hljs-comment">;</span>
        tfdInSumMoney<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">210</span>, <span class="hljs-number">400</span>, <span class="hljs-number">150</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel14<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel14<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fdb\u8d27\u603b\u4ef7\u6700\u5927\u503c:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel14)<span class="hljs-comment">;</span>
        jLabel14<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">370</span>, <span class="hljs-number">400</span>, <span class="hljs-number">140</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdInSumMoney2)<span class="hljs-comment">;</span>
        tfdInSumMoney2<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">510</span>, <span class="hljs-number">400</span>, <span class="hljs-number">200</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel15<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel15<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fdb\u8d27\u8d77\u59cb\u65f6\u95f4:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel15)<span class="hljs-comment">;</span>
        jLabel15<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">80</span>, <span class="hljs-number">160</span>, <span class="hljs-number">120</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        btnQuery<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">36</span>))<span class="hljs-comment">;</span>
        btnQuery<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">255</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<span class="hljs-comment">;</span>
        btnQuery<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u67e5\u8be2"</span>)<span class="hljs-comment">;</span>
        btnQuery<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnQueryActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnQuery)<span class="hljs-comment">;</span>
        btnQuery<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">160</span>, <span class="hljs-number">490</span>, <span class="hljs-number">140</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>

        btnBack<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">36</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">255</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fd4\u56de"</span>)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnBackActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnBack)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">480</span>, <span class="hljs-number">490</span>, <span class="hljs-number">140</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>
    }// &lt;/editor-fold&gt;
    //GEN-END:initComponents

    private void btnQueryActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        //<span class="hljs-number">1</span>收集参数(且验证输入有效性)
        //进货单编号
        String inUuid = tfdInUuid<span class="hljs-preprocessor">.getText</span>()<span class="hljs-comment">;</span>
        //用户姓名
        String inUserName = combInUser<span class="hljs-preprocessor">.getSelectedItem</span>()<span class="hljs-preprocessor">.toString</span>()<span class="hljs-comment">;</span>
        //用户ID
        String inUserUuid =null<span class="hljs-comment">;</span>
        if(combInUser<span class="hljs-preprocessor">.getSelectedIndex</span>()&gt;<span class="hljs-number">0</span>){
            inUserUuid = UserEbiFactory<span class="hljs-preprocessor">.getUserEbi</span>()<span class="hljs-preprocessor">.getUserByName</span>(inUserName)<span class="hljs-preprocessor">.getUuid</span>()<span class="hljs-comment">;</span>
        }

        //进货起始时间
        String txtInDate = tfdInDate<span class="hljs-preprocessor">.getText</span>()<span class="hljs-comment">;</span>
        long inDate = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
        if(txtInDate!=null&amp;txtInDate<span class="hljs-preprocessor">.trim</span>()<span class="hljs-preprocessor">.length</span>()&gt;<span class="hljs-number">0</span>){
            inDate = DateUtil<span class="hljs-preprocessor">.string</span>2Long(txtInDate+<span class="hljs-string">" 00:00:00"</span>, <span class="hljs-string">"进货起始时间格式错误!"</span>)<span class="hljs-comment">;</span>
            if(inDate==-<span class="hljs-number">1</span>){
                return <span class="hljs-comment">;</span>
            }
        }

        //进货截止时间
        String txtInDate2 = tfdInDate2<span class="hljs-preprocessor">.getText</span>()<span class="hljs-comment">;</span>
        long inDate2 = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
        if(txtInDate2!=null&amp;txtInDate2<span class="hljs-preprocessor">.trim</span>()<span class="hljs-preprocessor">.length</span>()&gt;<span class="hljs-number">0</span>){
            inDate2 = DateUtil<span class="hljs-preprocessor">.string</span>2Long(txtInDate2+ <span class="hljs-string">" 23:59:59"</span>, <span class="hljs-string">"进货截止时间格式错误!"</span>)<span class="hljs-comment">;</span>
            if(inDate2==-<span class="hljs-number">1</span>){
                return <span class="hljs-comment">;</span>
            }
        }

        //进货明细单编号
        String inDetailUuid  = tfdInDetailUuid<span class="hljs-preprocessor">.getText</span>()<span class="hljs-comment">;</span>

        //书的Uuid
        String bookUuid =null<span class="hljs-comment">;</span>
        if(combBook<span class="hljs-preprocessor">.getSelectedIndex</span>()&gt;<span class="hljs-number">0</span>){
            String bookName = combBook<span class="hljs-preprocessor">.getSelectedItem</span>()<span class="hljs-preprocessor">.toString</span>()<span class="hljs-comment">;</span>
            bookUuid = BookEbiFactory<span class="hljs-preprocessor">.getBookEbi</span>()<span class="hljs-preprocessor">.getBookByName</span>(bookName)<span class="hljs-preprocessor">.getUuid</span>()<span class="hljs-comment">;</span>

        }

        //进货最小数量
        int sumNum =<span class="hljs-number">0</span><span class="hljs-comment">;</span>
        if(tfdInNum<span class="hljs-preprocessor">.getText</span>()!=null &amp;&amp; tfdInNum<span class="hljs-preprocessor">.getText</span>()<span class="hljs-preprocessor">.trim</span>()<span class="hljs-preprocessor">.length</span>()&gt;<span class="hljs-number">0</span>){
            try {
                sumNum = Integer<span class="hljs-preprocessor">.parseInt</span>( tfdInNum<span class="hljs-preprocessor">.getText</span>() )<span class="hljs-comment">;</span>
            } catch (NumberFormatException e) {
                JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"进货数量最小值格式错误"</span>)<span class="hljs-comment">;</span>
                return <span class="hljs-comment">;</span>
            }
        }

        //进货最大数量
        int sumNum2 =<span class="hljs-number">0</span><span class="hljs-comment">;</span>
        if(tfdInNum2<span class="hljs-preprocessor">.getText</span>()!=null &amp;&amp; tfdInNum2<span class="hljs-preprocessor">.getText</span>()<span class="hljs-preprocessor">.trim</span>()<span class="hljs-preprocessor">.length</span>()&gt;<span class="hljs-number">0</span>){
            try {
                sumNum2 = Integer<span class="hljs-preprocessor">.parseInt</span>( tfdInNum2<span class="hljs-preprocessor">.getText</span>() )<span class="hljs-comment">;</span>
            } catch (NumberFormatException e) {
                JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"进货数量最大值格式错误"</span>)<span class="hljs-comment">;</span>
                return <span class="hljs-comment">;</span>
            }
        }

        //进货最小总价
        double sumMoney =<span class="hljs-number">0</span><span class="hljs-comment">;</span>
        if(tfdInSumMoney<span class="hljs-preprocessor">.getText</span>()!=null &amp;&amp; tfdInSumMoney<span class="hljs-preprocessor">.getText</span>()<span class="hljs-preprocessor">.trim</span>()<span class="hljs-preprocessor">.length</span>()&gt;<span class="hljs-number">0</span>){
            try {
                sumMoney = Double<span class="hljs-preprocessor">.parseDouble</span>(tfdInSumMoney<span class="hljs-preprocessor">.getText</span>())<span class="hljs-comment">;</span>
            } catch (NumberFormatException e) {
                JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"进货总价最小值格式错误"</span>)<span class="hljs-comment">;</span>
                return<span class="hljs-comment">;</span>
            }
        }

        //进货最大总价
        double sumMoney2 =<span class="hljs-number">0</span><span class="hljs-comment">;</span>
        if(tfdInSumMoney2<span class="hljs-preprocessor">.getText</span>()!=null &amp;&amp; tfdInSumMoney2<span class="hljs-preprocessor">.getText</span>()<span class="hljs-preprocessor">.trim</span>()<span class="hljs-preprocessor">.length</span>()&gt;<span class="hljs-number">0</span>){
            try {
                sumMoney2 = Double<span class="hljs-preprocessor">.parseDouble</span>(tfdInSumMoney2<span class="hljs-preprocessor">.getText</span>())<span class="hljs-comment">;</span>
            } catch (NumberFormatException e) {
                JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"进货总价最小值格式错误"</span>)<span class="hljs-comment">;</span>
                return<span class="hljs-comment">;</span>
            }
        }


        //<span class="hljs-number">2</span>组织参数----分别组织InMainQueryModel和InDetailQueryModel

              //组织InMainQueryModel
        InMainQueryModel imqm = new InMainQueryModel()<span class="hljs-comment">;</span>
        imqm<span class="hljs-preprocessor">.setUuid</span>(inUuid)<span class="hljs-comment">;</span>
        imqm<span class="hljs-preprocessor">.setInUserId</span>(inUserUuid)<span class="hljs-comment">;</span>
        imqm<span class="hljs-preprocessor">.setInDate</span>(inDate)<span class="hljs-comment">;</span>
        imqm<span class="hljs-preprocessor">.setInDate</span>2(inDate2)<span class="hljs-comment">;</span>
              //组织InDetailQueryModel
        InDetailQueryModel idqm = new InDetailQueryModel()<span class="hljs-comment">;</span>
        idqm<span class="hljs-preprocessor">.setUuid</span>(inDetailUuid)<span class="hljs-comment">;</span>
        idqm<span class="hljs-preprocessor">.setBookId</span>(bookUuid)<span class="hljs-comment">;</span>
        idqm<span class="hljs-preprocessor">.setSumMoney</span>(sumMoney)<span class="hljs-comment">;</span>
        idqm<span class="hljs-preprocessor">.setSumMoney</span>2(sumMoney2)<span class="hljs-comment">;</span>
        idqm<span class="hljs-preprocessor">.setSumNum</span>(sumNum)<span class="hljs-comment">;</span>
        idqm<span class="hljs-preprocessor">.setSumNum</span>2(sumNum2)<span class="hljs-comment">;</span>

        //<span class="hljs-number">3</span>调用逻辑层
        Map&lt;InMainModel, List&lt;InDetailModel&gt;&gt; map = InMainEbiFactory<span class="hljs-preprocessor">.getInMainEbi</span>()<span class="hljs-preprocessor">.getByCondition</span>(imqm, idqm)<span class="hljs-comment">;</span>


        //<span class="hljs-number">4</span>返回到结果页面
        mainFrame<span class="hljs-preprocessor">.setContentPane</span>(new InListPanel(mainFrame,map))<span class="hljs-comment">;</span>
        mainFrame<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>
    }

    private void btnBackActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        back()<span class="hljs-comment">;</span>
    }

    private void back() {
        mainFrame<span class="hljs-preprocessor">.setContentPane</span>(new InListPanel(mainFrame))<span class="hljs-comment">;</span>
        mainFrame<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>
    }

    //GEN-BEGIN:variables
    // Variables declaration - do not modify
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnBack<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnQuery<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JComboBox</span> combBook<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JComboBox</span> combInUser<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel1<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel10<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel11<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel12<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel13<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel14<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel15<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel4<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel5<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel7<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel8<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel9<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdInDate<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdInDate2<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdInDetailUuid<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdInNum<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdInNum2<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdInSumMoney<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdInSumMoney2<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdInUuid<span class="hljs-comment">;</span>
    // End of variables declaration//GEN-END:variables

}</code></pre>

<p>目前我的本系列所有源代码已打包上传至百度云： <br />
<a href="http://pan.baidu.com/s/1nv5ZZwX">http://pan.baidu.com/s/1nv5ZZwX</a> <br />
2016.4.19</p></div>&#13;
        <script type="text/javascript">&#13;
            $(function () {&#13;
                $('pre.prettyprint code').each(function () {&#13;
                    var lines = $(this).text().split('\n').length;&#13;
                    var $numbering = $('&lt;ul/&gt;').addClass('pre-numbering').hide();&#13;
                    $(this).addClass('has-numbering').parent().append($numbering);&#13;
                    for (i = 1; i &lt;= lines; i++) {&#13;
                        $numbering.append($('&lt;li/&gt;').text(i));&#13;
                    };&#13;
                    $numbering.fadeIn(1700);&#13;
                });&#13;
            });&#13;
        </script>&#13;
   &#13;
