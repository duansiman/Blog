
        <div class="markdown_views"><p>Java-单机版的书店管理系统(练习设计模块和思想_系列 四(1) )： <br />
<a href="http://blog.csdn.net/qq_26525215/article/details/51116429">http://blog.csdn.net/qq_26525215/article/details/51116429</a></p>

<p>Java-单机版的书店管理系统(练习设计模块和思想_系列 三 )： <br />
<a href="http://blog.csdn.net/qq_26525215/article/details/51099202">http://blog.csdn.net/qq_26525215/article/details/51099202</a></p>

<p>Java-单机版的书店管理系统(练习设计模块和思想_系列 二 )： <br />
<a href="http://blog.csdn.net/qq_26525215/article/details/51089734">http://blog.csdn.net/qq_26525215/article/details/51089734</a></p>

<p>Java-单机版的书店管理系统(练习设计模块和思想_系列 一 )： <br />
<a href="http://blog.csdn.net/qq_26525215/article/details/51073546">http://blog.csdn.net/qq_26525215/article/details/51073546</a></p>

<h2 id="说明">说明：</h2>

<p>本博客为补全上篇-Java-单机版的书店管理系统(练习设计模块和思想_系列 四(1) )的，所以如果不懂，请先看上一篇。 <br />
本系列都是我一步一步学习来的， <br />
所以，可能比较适合初学设计模块的人来学。</p>

<p>现在补全我目前写的所以代码:</p>



<h1 id="公共类">公共类：</h1>



<h2 id="用户类型枚举usertypeenum类">用户类型枚举：UserTypeEnum类</h2>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.common;

<span class="hljs-javadoc">/**
 * 功能:用户类型的枚举！&lt;br/&gt;
 * 定义在公共模块。&lt;br/&gt;
 * 变量：&lt;br/&gt;
 *  ADMIN(1,"超级管理员"),&lt;br/&gt;
 *  BOOK(2,"图书管理员"),&lt;br/&gt;
 *  IN(3,"进货管理员"),&lt;br/&gt;
 *  OUT(4,"销售管理员"),&lt;br/&gt;
 *  STOCK(5,"库存管理员");&lt;br/&gt;
 *<span class="hljs-javadoctag"> @author</span> chx
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> UserTypeEnum {
    ADMIN(<span class="hljs-number">1</span>,<span class="hljs-string">"超级管理员"</span>),
    BOOK(<span class="hljs-number">2</span>,<span class="hljs-string">"图书管理员"</span>),
    IN(<span class="hljs-number">3</span>,<span class="hljs-string">"进货管理员"</span>),
    OUT(<span class="hljs-number">4</span>,<span class="hljs-string">"销售管理员"</span>),
    STOCK(<span class="hljs-number">5</span>,<span class="hljs-string">"库存管理员"</span>);

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> type;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String name;

    <span class="hljs-javadoc">/**
     * 初始化枚举变量名字
     *<span class="hljs-javadoctag"> @param</span> type---枚举变量对应的整型数字
     *<span class="hljs-javadoctag"> @param</span> name---枚举变量对应的String型名字
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title">UserTypeEnum</span>(<span class="hljs-keyword">int</span> type, String name) {
        <span class="hljs-keyword">this</span>.type=type;
        <span class="hljs-keyword">this</span>.name=name;
    }

    <span class="hljs-javadoc">/**
     * 得到当前枚举变量的数字
     *<span class="hljs-javadoctag"> @return</span>---type-编号
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getType</span>() {
        <span class="hljs-keyword">return</span> type;
    }

    <span class="hljs-javadoc">/**
     * 得到当前枚举变量的中文名字
     *<span class="hljs-javadoctag"> @return</span>---name-中文名字
     */</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span>() {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-javadoc">/**
     * 根据枚举变量的int数字得到数字对应的枚举变量的中文名字
     *<span class="hljs-javadoctag"> @param</span> type---需要传入的int型参数
     *<span class="hljs-javadoctag"> @return</span> ---如果存在这样的数字对应的枚举变量，就返回这个枚举变量的中文名字。
     *    &lt;br/&gt;---如果不存在这样的数字对应的枚举变量，就抛出一个异常信息。
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">getNameByType</span>(<span class="hljs-keyword">int</span> type){
        <span class="hljs-keyword">for</span>(UserTypeEnum userType:UserTypeEnum.values()){
            <span class="hljs-keyword">if</span>(userType.getType()==type){
                <span class="hljs-keyword">return</span> userType.getName();
            }
        }
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">"枚举中没有对应的用户类型:"</span>+type);
    }

    <span class="hljs-javadoc">/**
     * 根据枚举变量的name中文名字得到name对应的枚举变量的int型type
     *<span class="hljs-javadoctag"> @param</span> name---需要传入的String型名字
     *<span class="hljs-javadoctag"> @return</span> ---如果存在这样的名字对应的枚举变量，就返回这个枚举变量对应的type-int
     *   &lt;br/&gt; ---如果不存在这样的名字对应的枚举变量，就抛出一个异常信息
     */</span> 
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getTypeByName</span>(String name){
        <span class="hljs-keyword">for</span>(UserTypeEnum userType:UserTypeEnum.values()){
            <span class="hljs-keyword">if</span>(userType.getName().equals(name)){
                <span class="hljs-keyword">return</span> userType.getType();
            }
        }
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">"枚举中没有对应的用户类型:"</span>+name);
    }
}
</code></pre>

<p>|||||||||||||||||||||||||||||||||||||||||||||||||||||||||</p>



<h2 id="uuidmodelconstanceuuidmodel枚举">UuidModelConstance–uuidModel枚举</h2>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.common;
<span class="hljs-javadoc">/**
 * 
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> UuidModelConstance {
    USER(<span class="hljs-string">"UserMedel"</span>),
    BOOK(<span class="hljs-string">"BookMedel"</span>),
    IN_MAIN(<span class="hljs-string">"InMainMedel"</span>),
    OUT_MAIN(<span class="hljs-string">"OutMainModel"</span>),
    IN_DETAIL(<span class="hljs-string">"InDetailModel"</span>),
    OUT_DETAIL(<span class="hljs-string">"OutDetailModel"</span>);

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-title">UuidModelConstance</span>(String name){
        <span class="hljs-keyword">this</span>.name=name;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span>(){
        <span class="hljs-keyword">return</span> name;
    }

}
</code></pre>

<p>|||||||||||||||||||||||||||||||||||||||||||||||||||||</p>



<h1 id="uuiddao模块数据层">UuidDao模块：数据层</h1>



<h2 id="接口uuiddao">接口：UuidDao </h2>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.common.uuid.dao.dao;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.common.UuidModelConstance;

<span class="hljs-javadoc">/**
 * Uuid模块的数据接口
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UuidDao</span> {</span>
    <span class="hljs-javadoc">/**
     * 
     *<span class="hljs-javadoctag"> @param</span> uuidEnum---传入的模块名称
     *<span class="hljs-javadoctag"> @return</span> ---根据传入的模块名称来分别返回下一个内部生成的Uuid
     */</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title">getNextUuid</span>(UuidModelConstance uuidEnum);
}
</code></pre>

<p>|||||||||||||||||||||||||||||||||||||||||||||||||||||||</p>



<h2 id="接口的具体实现uuiddaoserimpl">接口的具体实现：UuidDaoSerImpl</h2>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.common.uuid.dao.impl;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.common.UuidModelConstance;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.common.uuid.dao.dao.UuidDao;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.common.uuid.vo.UuidModel;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.util.FileIoUtil;
<span class="hljs-javadoc">/**
 * uuid的具体实现类：采用唱票模式
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UuidDaoSerImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">UuidDao</span> {</span>

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String FILE_NAME = <span class="hljs-string">"Uuid.txt"</span>;

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title">getNextUuid</span>(UuidModelConstance uuidEnum) {
        String modelName = uuidEnum.getName();

        <span class="hljs-comment">//1反序列化，把所有的记录读取出来</span>
        List&lt;UuidModel&gt; lists = FileIoUtil.readFormFile(FILE_NAME);

        <span class="hljs-comment">//2遍历，找当前modelName所对应的 uuid</span>
        <span class="hljs-keyword">for</span>(UuidModel list : lists){
            <span class="hljs-keyword">if</span>(list.getModelName().equals(modelName)){
                <span class="hljs-comment">//3把当前的uuid返回出去，同时把uuid+1存储到数据库中</span>
                <span class="hljs-keyword">int</span> result = list.getCurrentNum();
                list.setCurrentNum(list.getCurrentNum()+<span class="hljs-number">1</span>);
                FileIoUtil.write2file(lists, FILE_NAME);
                <span class="hljs-keyword">return</span> String.valueOf(result);
            }
        }
        <span class="hljs-comment">//4若数据库中不存在该modelName所对应的uuid，则新建一条记录(类似添加模块的功能),存储且返回1</span>
        <span class="hljs-keyword">int</span> result =<span class="hljs-number">1</span>;
        UuidModel uuid = <span class="hljs-keyword">new</span> UuidModel();
        uuid.setModelName(modelName);
        uuid.setCurrentNum(result+<span class="hljs-number">1</span>);
        lists.add(uuid);
        FileIoUtil.write2file(lists, FILE_NAME);
        <span class="hljs-keyword">return</span> String.valueOf(result);
    }

}
</code></pre>

<p>||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||</p>



<h2 id="工厂方法uuiddaofactory">工厂方法：UuidDaoFactory</h2>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.common.uuid.dao.factory;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.common.uuid.dao.dao.UuidDao;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.common.uuid.dao.impl.UuidDaoSerImpl;

<span class="hljs-javadoc">/**
 * 工厂方法
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UuidDaoFactory</span> {</span>
    <span class="hljs-javadoc">/**
     * 
     *<span class="hljs-javadoctag"> @return</span> new一个UuidDao的具体实现类
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> UuidDao <span class="hljs-title">getUuidDao</span>(){
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> UuidDaoSerImpl();
    }
}
</code></pre>



<h1 id="uuid模块的值对象封装uuidmodel">Uuid模块的值对象封装：UuidModel </h1>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.common.uuid.vo;

<span class="hljs-keyword">import</span> java.io.Serializable;

<span class="hljs-javadoc">/**
 * Uuid的值对象封装
 * 一个模块名称和一个uuid
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UuidModel</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Serializable</span>{</span><span class="hljs-comment">//用对象流读取，必须实现的接口</span>
    <span class="hljs-keyword">private</span> String modelName;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> currentNum;

    <span class="hljs-javadoc">/**
     * 
     *<span class="hljs-javadoctag"> @return</span> 返回模块的名称
     */</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title">getModelName</span>() {
        <span class="hljs-keyword">return</span> modelName;
    }

    <span class="hljs-javadoc">/**
     * 
     *<span class="hljs-javadoctag"> @param</span> modelName---要设置的模块的名称
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setModelName</span>(String modelName) {
        <span class="hljs-keyword">this</span>.modelName = modelName;
    }

    <span class="hljs-javadoc">/**
     * 
     *<span class="hljs-javadoctag"> @return</span> ---返回当前的值
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getCurrentNum</span>() {
        <span class="hljs-keyword">return</span> currentNum;
    }

    <span class="hljs-javadoc">/**
     * 
     *<span class="hljs-javadoctag"> @param</span> currentNum--设置当前的值
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setCurrentNum</span>(<span class="hljs-keyword">int</span> currentNum) {
        <span class="hljs-keyword">this</span>.currentNum = currentNum;
    }
    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">hashCode</span>() {
        <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> prime = <span class="hljs-number">31</span>;
        <span class="hljs-keyword">int</span> result = <span class="hljs-number">1</span>;
        result = prime * result
                + ((modelName == <span class="hljs-keyword">null</span>) ? <span class="hljs-number">0</span> : modelName.hashCode());
        <span class="hljs-keyword">return</span> result;
    }
    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">equals</span>(Object obj) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == obj)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
        <span class="hljs-keyword">if</span> (obj == <span class="hljs-keyword">null</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
        <span class="hljs-keyword">if</span> (getClass() != obj.getClass())
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
        UuidModel other = (UuidModel) obj;
        <span class="hljs-keyword">if</span> (modelName == <span class="hljs-keyword">null</span>) {
            <span class="hljs-keyword">if</span> (other.modelName != <span class="hljs-keyword">null</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!modelName.equals(other.modelName))
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }


}
</code></pre>



<h1 id="用户模块值对象">用户模块值对象</h1>



<h2 id="usermodel">UserModel</h2>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.user.vo;

<span class="hljs-keyword">import</span> java.io.Serializable;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.common.UserTypeEnum;

<span class="hljs-javadoc">/**
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *<span class="hljs-javadoctag"> @version</span> 1.0
 * 
 * &lt;br/&gt;
 * 用于保存用户信息的值对象&lt;br/&gt;
 * 1、可序列化&lt;br/&gt;
 * 2、私有化所有变量成员，补setter-getters方法&lt;br/&gt;
 * 3、写equals和hashCode方法----用主键(uuid)唯一标识码&lt;br/&gt;
 * 4、toString方法&lt;br/&gt;
 * 5,空参构造方法&lt;br/&gt;
 */</span>

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserModel</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Serializable</span>{</span>
    <span class="hljs-keyword">private</span> String uuid;<span class="hljs-comment">//用户唯一标识码</span>
    <span class="hljs-keyword">private</span> String name;<span class="hljs-comment">//用户名</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> type;<span class="hljs-comment">//用户类型</span>
    <span class="hljs-keyword">private</span> String pwd;<span class="hljs-comment">//用户密码</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title">UserModel</span>() {
    }

    <span class="hljs-javadoc">/**
     * 功能：得到uuid-用户唯一的标识码
     * 
     *<span class="hljs-javadoctag"> @return</span> 返回uuid-用户唯一的标识码
     */</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title">getUuid</span>() {
        <span class="hljs-keyword">return</span> uuid;
    }

    <span class="hljs-javadoc">/**
     * 功能：设置uuid-用户唯一的标识码
     *<span class="hljs-javadoctag"> @param</span> uuid-用户唯一的标识码-String型参数
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUuid</span>(String uuid) {
        <span class="hljs-keyword">this</span>.uuid = uuid;
    }

    <span class="hljs-javadoc">/**
     * 功能：得到用户的用户名
     *<span class="hljs-javadoctag"> @return</span>---name-用户名
     */</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span>() {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-javadoc">/**
     * 功能：设置用户的用户名
     * 
     *<span class="hljs-javadoctag"> @param</span> name--用户设置的用户名，String型参数
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span>(String name) {
        <span class="hljs-keyword">this</span>.name = name;
    }

    <span class="hljs-javadoc">/**
     * 功能：得到用户的类型：
     *  1——表示为admin，可以进行全部操作
     *  2——表示为能操作图书模块的人员
     *  3——表示为能操作进货模块的人员
     *  4——表示为能操作销售模块的人员
     *  5——表示为能操作库存模块的人员
     *<span class="hljs-javadoctag"> @return</span> 用户的类型
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getType</span>() {
        <span class="hljs-keyword">return</span> type;
    }

    <span class="hljs-javadoc">/**
     *  功能：设置用户的类型：
     *  1——表示为admin，可以进行全部操作
     *  2——表示为能操作图书模块的人员
     *  3——表示为能操作进货模块的人员
     *  4——表示为能操作销售模块的人员
     *  5——表示为能操作库存模块的人员
     *<span class="hljs-javadoctag"> @param</span> type--用户的类型-int型参数
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setType</span>(<span class="hljs-keyword">int</span> type) {
        <span class="hljs-keyword">this</span>.type = type;
    }

    <span class="hljs-javadoc">/**
     *功能：得到用户的密码
     *<span class="hljs-javadoctag"> @return</span> String型，用户的密码
     */</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title">getPwd</span>() {
        <span class="hljs-keyword">return</span> pwd;
    }

    <span class="hljs-javadoc">/**
     * 功能：设置用户的密码
     *<span class="hljs-javadoctag"> @param</span> pwd--String型参数
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setPwd</span>(String pwd) {
        <span class="hljs-keyword">this</span>.pwd = pwd;
    }


    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">hashCode</span>() {
        <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> prime = <span class="hljs-number">31</span>;
        <span class="hljs-keyword">int</span> result = <span class="hljs-number">1</span>;
        result = prime * result + ((uuid == <span class="hljs-keyword">null</span>) ? <span class="hljs-number">0</span> : uuid.hashCode());
        <span class="hljs-keyword">return</span> result;
    }
    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">equals</span>(Object obj) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == obj)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
        <span class="hljs-keyword">if</span> (obj == <span class="hljs-keyword">null</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
        <span class="hljs-keyword">if</span> (getClass() != obj.getClass())
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
        UserModel other = (UserModel) obj;
        <span class="hljs-keyword">if</span> (uuid == <span class="hljs-keyword">null</span>) {
            <span class="hljs-keyword">if</span> (other.uuid != <span class="hljs-keyword">null</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!uuid.equals(other.uuid))
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }
    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span>() {
        <span class="hljs-keyword">return</span> uuid + <span class="hljs-string">","</span> + name + <span class="hljs-string">","</span> + UserTypeEnum.getNameByType(type);
    }

}
</code></pre>

<p>|||||||||||||||||||||||||||||||||||||||||||||||</p>



<h2 id="userquerymodel">UserQueryModel</h2>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.user.vo;
<span class="hljs-javadoc">/**
 * 
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserQueryModel</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">UserModel</span>{</span>

}
</code></pre>

<p>||||||||||||||||||||||||||||||||||||||||||||||||||||||||</p>



<h1 id="用户模块的数据层">用户模块的数据层</h1>



<h2 id="userdao接口">UserDao接口：</h2>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.user.dao.dao;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.vo.UserModel;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.vo.UserQueryModel;

<span class="hljs-javadoc">/**
 * 
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *
 *<span class="hljs-javadoctag"> @version</span> 1.0
 * 用户模块的数据层接口
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserDao</span> {</span>
    <span class="hljs-javadoc">/**
     * 功能：创建一个用户
     * 
     *<span class="hljs-javadoctag"> @param</span> userModel---将要创建的用户数据
     *<span class="hljs-javadoctag"> @return</span>---true表示创建成功，false表示创建失败
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">create</span>(UserModel user);

    <span class="hljs-javadoc">/**
     * 功能：根据用户的唯一标识码uuid删除一个用户
     * 
     *<span class="hljs-javadoctag"> @param</span> uuid---用户唯一的标识码，每个用户都不会相同
     *<span class="hljs-javadoctag"> @return</span>---true表示删除成功，false表示删除失败
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">delete</span>(String uuid);

    <span class="hljs-javadoc">/**
     * 功能：修改用户的数据资料
     * 
     *<span class="hljs-javadoctag"> @param</span> user---需要修改的用户数据参数名
     *<span class="hljs-javadoctag"> @return</span> 返回true-表示修改成功了，返回false-表示修改失败
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">update</span>(UserModel user);

    <span class="hljs-javadoc">/**
     * 功能：得到所有的用户数据
     * 
     *<span class="hljs-javadoctag"> @return</span>---一个UserModel集合，也就是用户的数据
     */</span>
    <span class="hljs-keyword">public</span> List&lt;UserModel&gt; <span class="hljs-title">getAll</span>();

    <span class="hljs-javadoc">/**
     * 功能：按照一定的查找条件进行查找，
     * &lt;br/&gt;
     * 把满足查找条件的用户数据返回。
     * 
     *<span class="hljs-javadoctag"> @param</span> uqm---被封装的查找条件
     *<span class="hljs-javadoctag"> @return</span>---满足查找条件的用户数据集合
     */</span>
    <span class="hljs-keyword">public</span> List&lt;UserModel&gt; <span class="hljs-title">getbyCondition</span>(UserQueryModel uqm);

    <span class="hljs-javadoc">/**
     * 功能：得到一个确定的用户的数据资料
     * 
     *<span class="hljs-javadoctag"> @param</span> uuid---用户唯一标识码
     *<span class="hljs-javadoctag"> @return</span> ---返回按这个唯一标识码找到的用户数据
     */</span>
    <span class="hljs-keyword">public</span> UserModel <span class="hljs-title">getSingle</span>(String uuid);

}
</code></pre>

<p>|||||||||||||||||||||||||||||||||||||||||||||||||||</p>



<h2 id="实现类userdaoserimpl">实现类：UserDaoSerImpl </h2>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.user.dao.impl;

<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.common.UserTypeEnum;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.business.factory.UserEbiFactory;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.dao.dao.UserDao;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.vo.UserModel;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.vo.UserQueryModel;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.util.FileIoUtil;

<span class="hljs-javadoc">/**
 * &lt;br/&gt;
 * 对用户数据处理的具体实现类 ----实现了UserDao接口
 * 
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 * 
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserDaoSerImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">UserDao</span> {</span>

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String FILE_NAME = <span class="hljs-string">"User.txt"</span>;

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">create</span>(UserModel user) {
        <span class="hljs-comment">// 1先把已有的数据反序列化(读)出来</span>
        List&lt;UserModel&gt; list = FileIoUtil.readFormFile(FILE_NAME);
        <span class="hljs-comment">// 2判断该用户是否已经存在，再决定是否创建</span>
        <span class="hljs-keyword">for</span> (UserModel userModel : list) {
            <span class="hljs-comment">// 如果2个用户的uuid相等，用户就是相同的</span>
            <span class="hljs-keyword">if</span> (userModel.getUuid().equals(user.getUuid())) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<span class="hljs-comment">// 用户已经存在了，返回false</span>
            }
        }
        <span class="hljs-comment">// 3如果用户不存在，就创建</span>
        list.add(user);
        FileIoUtil.write2file(list, FILE_NAME);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<span class="hljs-comment">// 创建成功，返回true</span>
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">delete</span>(String uuid) {

        <span class="hljs-comment">// 1先把已有的数据反序列化(读)出来</span>
        List&lt;UserModel&gt; list = FileIoUtil.readFormFile(FILE_NAME);

        <span class="hljs-comment">// 2判断该用户是否已经存在，再决定是否删除</span>

        <span class="hljs-comment">// for(int i=0;i&lt;list.size();i++){</span>
        <span class="hljs-comment">// if(list.get(i).getUuid().equals(uuid)){</span>
        <span class="hljs-comment">// list.remove(i);</span>
        <span class="hljs-comment">// FileIoUtil.write2file(list, FILE_NAME);</span>
        <span class="hljs-comment">// return true;</span>
        <span class="hljs-comment">// }</span>
        <span class="hljs-comment">// }</span>

        <span class="hljs-keyword">for</span> (UserModel userModel : list) {
            <span class="hljs-comment">// 如果2个用户的uuid相等，用户就是相同的</span>
            <span class="hljs-keyword">if</span> (userModel.getUuid().equals(uuid)) {
                list.remove(userModel);
                FileIoUtil.write2file(list, FILE_NAME);
                <span class="hljs-comment">// 删除成功，返回true</span>
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
            }
        }
        <span class="hljs-comment">// 3用户不存在</span>
        <span class="hljs-comment">// 删除失败，返回false</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">update</span>(UserModel user) {
        <span class="hljs-comment">// 1先把已有的数据反序列化(读)出来</span>
        List&lt;UserModel&gt; list = FileIoUtil.readFormFile(FILE_NAME);

        <span class="hljs-comment">// 2判断该用户是否已经存在，再决定是否创建</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; list.size(); i++) {
            <span class="hljs-comment">// uuid是不能改的，通过uuid来找到那个用户数据，再修改就ok了</span>
            <span class="hljs-keyword">if</span> (list.get(i).getUuid().equals(user.getUuid())) {
                <span class="hljs-comment">// 将找到的用户修改成user</span>
                list.set(i, user);
                FileIoUtil.write2file(list, FILE_NAME);
                <span class="hljs-comment">// 找到用户，返回true</span>
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
            }
        }
        <span class="hljs-comment">// 3若该用户不存在，则修改失败</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> List&lt;UserModel&gt; <span class="hljs-title">getAll</span>() {
        <span class="hljs-keyword">return</span> FileIoUtil.readFormFile(FILE_NAME);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> List&lt;UserModel&gt; <span class="hljs-title">getbyCondition</span>(UserQueryModel uqm) {
        List&lt;UserModel&gt; list = UserEbiFactory.getUserEbi().getAll();
        List&lt;UserModel&gt; results = <span class="hljs-keyword">new</span> ArrayList&lt;UserModel&gt;();

        <span class="hljs-keyword">for</span>(UserModel user : list){
            <span class="hljs-comment">//反逻辑，卫条件: 外层判断用户输入是否是查询条件;内层判断该对象是否符合查询条件</span>
            <span class="hljs-keyword">if</span>(uqm.getUuid()!=<span class="hljs-keyword">null</span>&amp;&amp;uqm.getUuid().trim().length()&gt;<span class="hljs-number">0</span>){<span class="hljs-comment">//外层判断</span>
                <span class="hljs-keyword">if</span>(!user.getUuid().equals(uqm.getUuid())){<span class="hljs-comment">//内层判断--精确查询</span>
                    <span class="hljs-keyword">continue</span>;
                }
            }

            <span class="hljs-keyword">if</span>(uqm.getName()!=<span class="hljs-keyword">null</span>&amp;&amp;uqm.getName().trim().length()&gt;<span class="hljs-number">0</span>){<span class="hljs-comment">//外层判断</span>
                <span class="hljs-keyword">if</span>(user.getName().indexOf(uqm.getName())==-<span class="hljs-number">1</span>){<span class="hljs-comment">//内层判断--模糊查询</span>
                    <span class="hljs-keyword">continue</span>;
                }
            }

            <span class="hljs-keyword">if</span>(uqm.getType()&gt;<span class="hljs-number">0</span>){<span class="hljs-comment">//外层判断</span>
                    <span class="hljs-keyword">if</span>(user.getType()!=uqm.getType()){<span class="hljs-comment">//内层判断--精确查询</span>
                        <span class="hljs-keyword">continue</span>;
                }
            }

            results.add(user);
        }

        <span class="hljs-keyword">return</span> results;
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> UserModel <span class="hljs-title">getSingle</span>(String uuid) {
        <span class="hljs-comment">// 1先把已有的数据反序列化(读)出来</span>
        List&lt;UserModel&gt; list = FileIoUtil.readFormFile(FILE_NAME);

        <span class="hljs-comment">// 2判断该用户是否已经存在,存在就返回那个用户</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; list.size(); i++) {
            <span class="hljs-keyword">if</span> (list.get(i).getUuid().equals(uuid)) {
                <span class="hljs-keyword">return</span> list.get(i);
            }
        }

        <span class="hljs-comment">// 3若该用户不存在,返回null</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
    }

}
</code></pre>

<p>|||||||||||||||||||||||||||||||||||||||||||||||||</p>



<h2 id="工厂方法userdaofactory">工厂方法：UserDaoFactory </h2>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.user.dao.factory;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.dao.dao.UserDao;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.dao.impl.UserDaoSerImpl;
<span class="hljs-javadoc">/**
 * 工厂方法&lt;br/&gt;
 * new 一个dao的实例
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *
 *<span class="hljs-javadoctag"> @version</span> 1.0
 * 
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserDaoFactory</span> {</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> UserDao <span class="hljs-title">getUserDao</span>(){
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> UserDaoSerImpl();
    }
}
</code></pre>



<h1 id="用户模块逻辑层">用户模块逻辑层：</h1>



<h2 id="userebi-接口">UserEbi 接口：</h2>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.user.business.ebi;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.vo.UserModel;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.vo.UserQueryModel;
<span class="hljs-javadoc">/**
 * 逻辑层的接口
 *
 *<span class="hljs-javadoctag"> @author</span> chx
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserEbi</span> {</span>

    <span class="hljs-javadoc">/**
     * 功能：创建一个用户
     * 
     *<span class="hljs-javadoctag"> @param</span> userModel---将要创建的用户数据
     *<span class="hljs-javadoctag"> @return</span>---true表示创建成功，false表示创建失败
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">create</span>(UserModel user);

    <span class="hljs-javadoc">/**
     * 功能：根据用户的唯一标识码uuid删除一个用户
     * 
     *<span class="hljs-javadoctag"> @param</span> uuid---用户唯一的标识码，每个用户都不会相同
     *<span class="hljs-javadoctag"> @return</span>---true表示删除成功，false表示删除失败
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">delete</span>(String uuid);

    <span class="hljs-javadoc">/**
     * 功能：修改用户的数据资料
     * 
     *<span class="hljs-javadoctag"> @param</span> user---需要修改的用户数据参数名
     *<span class="hljs-javadoctag"> @return</span> 返回true-表示修改成功了，返回false-表示修改失败
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">update</span>(UserModel user);

    <span class="hljs-javadoc">/**
     * 功能：得到所有的用户数据
     * 
     *<span class="hljs-javadoctag"> @return</span>---一个UserModel集合，也就是用户的数据
     */</span>
    <span class="hljs-keyword">public</span> List&lt;UserModel&gt; <span class="hljs-title">getAll</span>();

    <span class="hljs-javadoc">/**
     * 功能：按照一定的查找条件进行查找，
     * &lt;br/&gt;
     * 把满足查找条件的用户数据返回。
     * 
     *<span class="hljs-javadoctag"> @param</span> uqm---被封装的查找条件
     *<span class="hljs-javadoctag"> @return</span>---满足查找条件的用户数据集合
     */</span>
    <span class="hljs-keyword">public</span> List&lt;UserModel&gt; <span class="hljs-title">getbyCondition</span>(UserQueryModel uqm);

    <span class="hljs-javadoc">/**
     * 功能：得到一个确定的用户的数据资料
     * 
     *<span class="hljs-javadoctag"> @param</span> uuid---用户唯一标识码
     *<span class="hljs-javadoctag"> @return</span> ---返回按这个唯一标识码找到的用户数据
     */</span>
    <span class="hljs-keyword">public</span> UserModel <span class="hljs-title">getSingle</span>(String uuid);
}
</code></pre>

<p>||||||||||||||||||||||||||||||||||||||||||||||||||</p>



<h2 id="具体实现类userebo">具体实现类：UserEbo </h2>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.user.business.ebo;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.common.UuidModelConstance;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.common.uuid.dao.factory.UuidDaoFactory;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.common.uuid.vo.UuidModel;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.business.ebi.UserEbi;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.dao.dao.UserDao;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.dao.factory.UserDaoFactory;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.vo.UserModel;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.vo.UserQueryModel;
<span class="hljs-javadoc">/**
 * 逻辑层的实现类
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserEbo</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">UserEbi</span>{</span>
    <span class="hljs-comment">//注入</span>
    <span class="hljs-keyword">private</span> UserDao dao = UserDaoFactory.getUserDao();

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">create</span>(UserModel user) {
        <span class="hljs-comment">//如果表现层中对user对象的数据没有封装完整，那么在这里要为它补全</span>
        <span class="hljs-comment">//调用uuid模块的dao层来自动获取当前user对象的uuid</span>
        String uuid = UuidDaoFactory.getUuidDao().getNextUuid(UuidModelConstance.USER);
        user.setUuid(uuid);

        <span class="hljs-keyword">return</span> dao.create(user);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">delete</span>(String uuid) {
        <span class="hljs-keyword">return</span> dao.delete(uuid);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">update</span>(UserModel user) {
        <span class="hljs-keyword">return</span> dao.update(user);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> List&lt;UserModel&gt; <span class="hljs-title">getAll</span>() {
        <span class="hljs-keyword">return</span> dao.getAll();
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> List&lt;UserModel&gt; <span class="hljs-title">getbyCondition</span>(UserQueryModel uqm) {
        <span class="hljs-keyword">return</span> dao.getbyCondition(uqm);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> UserModel <span class="hljs-title">getSingle</span>(String uuid) {
        <span class="hljs-keyword">return</span> dao.getSingle(uuid);
    }
}
</code></pre>

<p>||||||||||||||||||||||||||||||||||||||||||||</p>



<h2 id="工厂方法userebifactory">工厂方法：UserEbiFactory </h2>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.user.business.factory;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.business.ebi.UserEbi;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.business.ebo.UserEbo;
<span class="hljs-javadoc">/**
 * 
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserEbiFactory</span> {</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> UserEbi <span class="hljs-title">getUserEbi</span>(){
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> UserEbo();
    }
}
</code></pre>

<p>|||||||||||||||||||||||||||||||||||||||</p>



<h1 id="用户模块表现层">用户模块表现层：</h1>



<h2 id="用户列表listpanel">用户列表：ListPanel </h2>



<pre class="prettyprint"><code class=" hljs avrasm"><span class="hljs-comment">/*
 * ListPanel.java
 *
 * Created on __DATE__, __TIME__
 */</span>

package cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.ui</span><span class="hljs-comment">;</span>

import java<span class="hljs-preprocessor">.util</span><span class="hljs-preprocessor">.List</span><span class="hljs-comment">;</span>

import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JFrame</span><span class="hljs-comment">;</span>
import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JOptionPane</span><span class="hljs-comment">;</span>

import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.ebi</span><span class="hljs-preprocessor">.UserEbi</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.factory</span><span class="hljs-preprocessor">.UserEbiFactory</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.UserModel</span><span class="hljs-comment">;</span>

<span class="hljs-comment">/**
 * 表现层-用户列表面板
 * 
 * @author 陈浩翔
 * @version 1.0
 */</span>
public class ListPanel extends javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPanel</span> {
    private JFrame mainFrame = null<span class="hljs-comment">;</span>

    <span class="hljs-comment">/** Creates new form ListPanel */</span>
    public ListPanel(JFrame mainFrame) {
        this<span class="hljs-preprocessor">.mainFrame</span> = mainFrame<span class="hljs-comment">;</span>
        initComponents()<span class="hljs-comment">;</span>
        myInitData()<span class="hljs-comment">;</span>
    }

    public ListPanel(JFrame mainFrame, List&lt;UserModel&gt; results) {
        this<span class="hljs-preprocessor">.mainFrame</span> = mainFrame<span class="hljs-comment">;</span>
        initComponents()<span class="hljs-comment">;</span>

        userLists<span class="hljs-preprocessor">.setListData</span>(results<span class="hljs-preprocessor">.toArray</span>())<span class="hljs-comment">;</span>
    }

    <span class="hljs-comment">/**
     * 读取所有用户并添加进列表
     */</span>
    private void myInitData() {
        UserEbi user = UserEbiFactory<span class="hljs-preprocessor">.getUserEbi</span>()<span class="hljs-comment">;</span>
        List&lt;UserModel&gt; list = user<span class="hljs-preprocessor">.getAll</span>()<span class="hljs-comment">;</span>
        userLists<span class="hljs-preprocessor">.setListData</span>(list<span class="hljs-preprocessor">.toArray</span>())<span class="hljs-comment">;</span>
    }

    //GEN-BEGIN:initComponents
    // &lt;editor-fold defaultstate=<span class="hljs-string">"collapsed"</span> desc=<span class="hljs-string">"Generated Code"</span>&gt;
    private void initComponents() {

        jScrollPane1 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JScrollPane</span>()<span class="hljs-comment">;</span>
        userLists = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JList</span>()<span class="hljs-comment">;</span>
        jLabel1 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        btnToAdd = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>
        btnToDelete = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>
        btnToUpdate = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>
        btnToQuery = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>

        setMinimumSize(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Dimension</span>(<span class="hljs-number">800</span>, <span class="hljs-number">600</span>))<span class="hljs-comment">;</span>
        setLayout(null)<span class="hljs-comment">;</span>

        userLists<span class="hljs-preprocessor">.setModel</span>(new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.AbstractListModel</span>() {
            String[] strings = { <span class="hljs-string">""</span> }<span class="hljs-comment">;</span>

            public int getSize() {
                return strings<span class="hljs-preprocessor">.length</span><span class="hljs-comment">;</span>
            }

            public Object getElementAt(int i) {
                return strings[i]<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        jScrollPane1<span class="hljs-preprocessor">.setViewportView</span>(userLists)<span class="hljs-comment">;</span>

        <span class="hljs-keyword">add</span>(jScrollPane1)<span class="hljs-comment">;</span>
        jScrollPane1<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">170</span>, <span class="hljs-number">80</span>, <span class="hljs-number">480</span>, <span class="hljs-number">230</span>)<span class="hljs-comment">;</span>

        jLabel1<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">48</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">204</span>, <span class="hljs-number">0</span>, <span class="hljs-number">51</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u7528\u6237\u5217\u8868"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel1)<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">300</span>, <span class="hljs-number">0</span>, <span class="hljs-number">260</span>, <span class="hljs-number">80</span>)<span class="hljs-comment">;</span>

        btnToAdd<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnToAdd<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">102</span>, <span class="hljs-number">102</span>))<span class="hljs-comment">;</span>
        btnToAdd<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u6dfb\u52a0\u7528\u6237"</span>)<span class="hljs-comment">;</span>
        btnToAdd<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnToAddActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnToAdd)<span class="hljs-comment">;</span>
        btnToAdd<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">160</span>, <span class="hljs-number">350</span>, <span class="hljs-number">150</span>, <span class="hljs-number">50</span>)<span class="hljs-comment">;</span>

        btnToDelete<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnToDelete<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">102</span>, <span class="hljs-number">102</span>))<span class="hljs-comment">;</span>
        btnToDelete<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u5220\u9664\u7528\u6237"</span>)<span class="hljs-comment">;</span>
        btnToDelete<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnToDeleteActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnToDelete)<span class="hljs-comment">;</span>
        btnToDelete<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">510</span>, <span class="hljs-number">350</span>, <span class="hljs-number">150</span>, <span class="hljs-number">50</span>)<span class="hljs-comment">;</span>

        btnToUpdate<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnToUpdate<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">102</span>, <span class="hljs-number">102</span>))<span class="hljs-comment">;</span>
        btnToUpdate<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u4fee\u6539\u7528\u6237"</span>)<span class="hljs-comment">;</span>
        btnToUpdate<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnToUpdateActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnToUpdate)<span class="hljs-comment">;</span>
        btnToUpdate<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">160</span>, <span class="hljs-number">450</span>, <span class="hljs-number">150</span>, <span class="hljs-number">50</span>)<span class="hljs-comment">;</span>

        btnToQuery<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnToQuery<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">102</span>, <span class="hljs-number">102</span>))<span class="hljs-comment">;</span>
        btnToQuery<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u67e5\u627e\u7528\u6237"</span>)<span class="hljs-comment">;</span>
        btnToQuery<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnToQueryActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnToQuery)<span class="hljs-comment">;</span>
        btnToQuery<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">510</span>, <span class="hljs-number">450</span>, <span class="hljs-number">150</span>, <span class="hljs-number">50</span>)<span class="hljs-comment">;</span>
    }// &lt;/editor-fold&gt;
    //GEN-END:initComponents

    private void btnToQueryActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        mainFrame<span class="hljs-preprocessor">.setContentPane</span>(new QueryPanel(mainFrame))<span class="hljs-comment">;</span>
        mainFrame<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>

    }

    private void btnToUpdateActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        UserModel user = (UserModel) userLists<span class="hljs-preprocessor">.getSelectedValue</span>()<span class="hljs-comment">;</span>

        if (user == null) {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"请选择要修改的用户!"</span>)<span class="hljs-comment">;</span>
            return<span class="hljs-comment">;</span>
        }

        String uuid = user<span class="hljs-preprocessor">.getUuid</span>()<span class="hljs-comment">;</span>

        mainFrame<span class="hljs-preprocessor">.setContentPane</span>(new UpdatePanel(mainFrame, uuid))<span class="hljs-comment">;</span>
        mainFrame<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>
    }

    private void btnToDeleteActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        UserModel user = (UserModel) userLists<span class="hljs-preprocessor">.getSelectedValue</span>()<span class="hljs-comment">;</span>

        if (user == null) {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"请选择要删除的用户!"</span>)<span class="hljs-comment">;</span>
            return<span class="hljs-comment">;</span>
        }

        String uuid = user<span class="hljs-preprocessor">.getUuid</span>()<span class="hljs-comment">;</span>

        mainFrame<span class="hljs-preprocessor">.setContentPane</span>(new DeletePanel(mainFrame, uuid))<span class="hljs-comment">;</span>
        mainFrame<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>
    }

    private void btnToAddActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        mainFrame<span class="hljs-preprocessor">.setContentPane</span>(new AddPanel(mainFrame))<span class="hljs-comment">;</span>
        mainFrame<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>
    }

    //GEN-BEGIN:variables
    // Variables declaration - do not modify
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnToAdd<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnToDelete<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnToQuery<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnToUpdate<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel1<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JScrollPane</span> jScrollPane1<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JList</span> userLists<span class="hljs-comment">;</span>
    // End of variables declaration//GEN-END:variables

}</code></pre>

<p>|||||||||||||||||||||||||||||||||||||||||</p>



<h2 id="添加用户addpanel">添加用户：AddPanel </h2>



<pre class="prettyprint"><code class=" hljs avrasm"><span class="hljs-comment">/*
 * AddPanel.java
 *
 * Created on __DATE__, __TIME__
 */</span>

package cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.ui</span><span class="hljs-comment">;</span>

import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JFrame</span><span class="hljs-comment">;</span>
import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JOptionPane</span><span class="hljs-comment">;</span>

import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.common</span><span class="hljs-preprocessor">.UserTypeEnum</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.ebi</span><span class="hljs-preprocessor">.UserEbi</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.factory</span><span class="hljs-preprocessor">.UserEbiFactory</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.UserModel</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.util</span><span class="hljs-preprocessor">.FileIoUtil</span><span class="hljs-comment">;</span>

<span class="hljs-comment">/**
 *
 * @author  陈浩翔
 */</span>
public class AddPanel extends javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPanel</span> {
    private JFrame mainFrame = null<span class="hljs-comment">;</span>

    <span class="hljs-comment">/** Creates new form AddPanel */</span>
    public AddPanel(JFrame mainFrame) {
        this<span class="hljs-preprocessor">.mainFrame</span> = mainFrame<span class="hljs-comment">;</span>
        initComponents()<span class="hljs-comment">;</span>
        myInitData()<span class="hljs-comment">;</span>
    }

    private void myInitData() {
        for (UserTypeEnum type : UserTypeEnum<span class="hljs-preprocessor">.values</span>()) {
            combType<span class="hljs-preprocessor">.addItem</span>(type<span class="hljs-preprocessor">.getName</span>())<span class="hljs-comment">;</span>
        }
    }

    <span class="hljs-comment">/** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */</span>
    //GEN-BEGIN:initComponents
    // &lt;editor-fold defaultstate=<span class="hljs-string">"collapsed"</span> desc=<span class="hljs-string">"Generated Code"</span>&gt;
    private void initComponents() {

        jLabel1 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        jLabel2 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdName = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel4 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdPwd2 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPasswordField</span>()<span class="hljs-comment">;</span>
        jLabel5 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        jLabel6 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        combType = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JComboBox</span>()<span class="hljs-comment">;</span>
        tfdPwd = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPasswordField</span>()<span class="hljs-comment">;</span>
        btnAdd = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>
        btnBack = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>

        setMinimumSize(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Dimension</span>(<span class="hljs-number">800</span>, <span class="hljs-number">600</span>))<span class="hljs-comment">;</span>
        setLayout(null)<span class="hljs-comment">;</span>

        jLabel1<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">48</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">204</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u6dfb\u52a0\u7528\u6237"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel1)<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">270</span>, <span class="hljs-number">30</span>, <span class="hljs-number">230</span>, <span class="hljs-number">80</span>)<span class="hljs-comment">;</span>

        jLabel2<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel2<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u7528\u6237\u7c7b\u578b:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel2)<span class="hljs-comment">;</span>
        jLabel2<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">370</span>, <span class="hljs-number">190</span>, <span class="hljs-number">90</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdName<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setAutoscrolls</span>(false)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdName)<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">180</span>, <span class="hljs-number">190</span>, <span class="hljs-number">120</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel4<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u59d3\u540d:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel4)<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">120</span>, <span class="hljs-number">190</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdPwd2<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"宋体"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdPwd2)<span class="hljs-comment">;</span>
        tfdPwd2<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">470</span>, <span class="hljs-number">300</span>, <span class="hljs-number">170</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel5<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel5<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u5bc6\u7801:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel5)<span class="hljs-comment">;</span>
        jLabel5<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">120</span>, <span class="hljs-number">300</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel6<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel6<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u786e\u8ba4\u5bc6\u7801:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel6)<span class="hljs-comment">;</span>
        jLabel6<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">380</span>, <span class="hljs-number">300</span>, <span class="hljs-number">90</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        combType<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        combType<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">51</span>, <span class="hljs-number">51</span>, <span class="hljs-number">255</span>))<span class="hljs-comment">;</span>
        combType<span class="hljs-preprocessor">.setModel</span>(new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.DefaultComboBoxModel</span>(
                new String[] { <span class="hljs-string">"请选择..."</span> }))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(combType)<span class="hljs-comment">;</span>
        combType<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">470</span>, <span class="hljs-number">190</span>, <span class="hljs-number">160</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdPwd<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"宋体"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdPwd)<span class="hljs-comment">;</span>
        tfdPwd<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">190</span>, <span class="hljs-number">300</span>, <span class="hljs-number">160</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        btnAdd<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnAdd<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>))<span class="hljs-comment">;</span>
        btnAdd<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u6dfb\u52a0"</span>)<span class="hljs-comment">;</span>
        btnAdd<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnAddActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnAdd)<span class="hljs-comment">;</span>
        btnAdd<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">190</span>, <span class="hljs-number">430</span>, <span class="hljs-number">120</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>

        btnBack<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fd4\u56de"</span>)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnBackActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnBack)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">520</span>, <span class="hljs-number">430</span>, <span class="hljs-number">120</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>
    }// &lt;/editor-fold&gt;
    //GEN-END:initComponents

    private void back() {
        mainFrame<span class="hljs-preprocessor">.setContentPane</span>(new ListPanel(mainFrame))<span class="hljs-comment">;</span>
        mainFrame<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>
    }

    <span class="hljs-comment">/**
     *监听返回按钮
     * @param 返回按钮的点击监听
     */</span>
    private void btnBackActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        back()<span class="hljs-comment">;</span>
    }

    private void btnAddActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        //<span class="hljs-number">1</span>收集参数
        String name = tfdName<span class="hljs-preprocessor">.getText</span>()<span class="hljs-comment">;</span>
        String pwd = new String(tfdPwd<span class="hljs-preprocessor">.getPassword</span>())<span class="hljs-comment">;</span>
        String pwd2 = new String(tfdPwd2<span class="hljs-preprocessor">.getPassword</span>())<span class="hljs-comment">;</span>

        if (name<span class="hljs-preprocessor">.equals</span>(<span class="hljs-string">""</span>) || name<span class="hljs-preprocessor">.equals</span>(null)) {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"用户名为空，请重新输入！"</span>)<span class="hljs-comment">;</span>
            return<span class="hljs-comment">;</span>
        }

        if (!pwd<span class="hljs-preprocessor">.equals</span>(pwd2) || pwd<span class="hljs-preprocessor">.equals</span>(<span class="hljs-string">""</span>) || pwd<span class="hljs-preprocessor">.equals</span>(null)
                || pwd2<span class="hljs-preprocessor">.equals</span>(<span class="hljs-string">""</span>) || pwd2<span class="hljs-preprocessor">.equals</span>(null)) {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"两次密码输入不一致或密码为空，请重新输入！"</span>)<span class="hljs-comment">;</span>
            return<span class="hljs-comment">;</span>
        }
        int type = <span class="hljs-number">0</span><span class="hljs-comment">;</span>

        try {
            type = UserTypeEnum<span class="hljs-preprocessor">.getTypeByName</span>(combType<span class="hljs-preprocessor">.getSelectedItem</span>()
                    <span class="hljs-preprocessor">.toString</span>())<span class="hljs-comment">;</span>
        } catch (Exception e) {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"请指定用户类型!"</span>)<span class="hljs-comment">;</span>
            return<span class="hljs-comment">;</span>
        }

        //<span class="hljs-number">2</span>组织参数
        UserModel user = new UserModel()<span class="hljs-comment">;</span>
        user<span class="hljs-preprocessor">.setName</span>(name)<span class="hljs-comment">;</span>
        user<span class="hljs-preprocessor">.setPwd</span>(pwd)<span class="hljs-comment">;</span>
        user<span class="hljs-preprocessor">.setType</span>(type)<span class="hljs-comment">;</span>

        //<span class="hljs-number">3</span>调用逻辑层
        UserEbi ebi = UserEbiFactory<span class="hljs-preprocessor">.getUserEbi</span>()<span class="hljs-comment">;</span>

        //<span class="hljs-number">4</span>根据调用返回结果导向不同页面
        if (ebi<span class="hljs-preprocessor">.create</span>(user)) {
            back()<span class="hljs-comment">;</span>
        } else {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(null, <span class="hljs-string">"该用户已经存在!"</span>)<span class="hljs-comment">;</span>
        }
    }

    //GEN-BEGIN:variables
    // Variables declaration - do not modify
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnAdd<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnBack<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JComboBox</span> combType<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel1<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel2<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel4<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel5<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel6<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdName<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPasswordField</span> tfdPwd<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPasswordField</span> tfdPwd2<span class="hljs-comment">;</span>
    // End of variables declaration//GEN-END:variables

}</code></pre>

<p>||||||||||||||||||||||||||||||||||||||||||||||||||||</p>



<h2 id="删除用户deletepanel">删除用户：DeletePanel</h2>



<pre class="prettyprint"><code class=" hljs avrasm"><span class="hljs-comment">/*
 * DeletePanel.java
 *
 * Created on __DATE__, __TIME__
 */</span>

package cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.ui</span><span class="hljs-comment">;</span>

import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JFrame</span><span class="hljs-comment">;</span>
import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JOptionPane</span><span class="hljs-comment">;</span>

import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.common</span><span class="hljs-preprocessor">.UserTypeEnum</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.ebi</span><span class="hljs-preprocessor">.UserEbi</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.factory</span><span class="hljs-preprocessor">.UserEbiFactory</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.UserModel</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.util</span><span class="hljs-preprocessor">.FileIoUtil</span><span class="hljs-comment">;</span>

<span class="hljs-comment">/**
 * 
 * @author 陈浩翔
 *
 * @version 1.0
 */</span>
public class DeletePanel extends javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPanel</span> {
    private JFrame mainFrame = null<span class="hljs-comment">;</span>
    private String uuid = null<span class="hljs-comment">;</span>

    <span class="hljs-comment">/** Creates new form DeletePanel 
     * @param uuid */</span>
    public DeletePanel(JFrame mainFrame, String uuid) {
        this<span class="hljs-preprocessor">.mainFrame</span> = mainFrame<span class="hljs-comment">;</span>
        this<span class="hljs-preprocessor">.uuid</span> = uuid<span class="hljs-comment">;</span>
        initComponents()<span class="hljs-comment">;</span>
        myInitData()<span class="hljs-comment">;</span>
    }

    private void myInitData() {
        UserEbi user = UserEbiFactory<span class="hljs-preprocessor">.getUserEbi</span>()<span class="hljs-comment">;</span>
        UserModel userModel = user<span class="hljs-preprocessor">.getSingle</span>(uuid)<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setText</span>(userModel<span class="hljs-preprocessor">.getName</span>())<span class="hljs-comment">;</span>
        tfdUuid<span class="hljs-preprocessor">.setText</span>(userModel<span class="hljs-preprocessor">.getUuid</span>())<span class="hljs-comment">;</span>
        tfdPwd<span class="hljs-preprocessor">.setText</span>(userModel<span class="hljs-preprocessor">.getPwd</span>())<span class="hljs-comment">;</span>
        tfdType<span class="hljs-preprocessor">.setText</span>(UserTypeEnum<span class="hljs-preprocessor">.getNameByType</span>(userModel<span class="hljs-preprocessor">.getType</span>()))<span class="hljs-comment">;</span>

        tfdName<span class="hljs-preprocessor">.setEditable</span>(false)<span class="hljs-comment">;</span>
        tfdPwd<span class="hljs-preprocessor">.setEditable</span>(false)<span class="hljs-comment">;</span>
        tfdType<span class="hljs-preprocessor">.setEditable</span>(false)<span class="hljs-comment">;</span>
        tfdUuid<span class="hljs-preprocessor">.setEditable</span>(false)<span class="hljs-comment">;</span>

    }

    //GEN-BEGIN:initComponents
    // &lt;editor-fold defaultstate=<span class="hljs-string">"collapsed"</span> desc=<span class="hljs-string">"Generated Code"</span>&gt;
    private void initComponents() {

        jLabel1 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        jLabel2 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdName = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel3 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdUuid = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel4 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        jLabel5 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdPwd = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        tfdType = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        btnBack = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>
        btnDelete = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>

        setMinimumSize(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Dimension</span>(<span class="hljs-number">800</span>, <span class="hljs-number">600</span>))<span class="hljs-comment">;</span>
        setLayout(null)<span class="hljs-comment">;</span>

        jLabel1<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">48</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">204</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u5220\u9664\u7528\u6237"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel1)<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">260</span>, <span class="hljs-number">30</span>, <span class="hljs-number">230</span>, <span class="hljs-number">80</span>)<span class="hljs-comment">;</span>

        jLabel2<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel2<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u7528\u6237\u7c7b\u578b:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel2)<span class="hljs-comment">;</span>
        jLabel2<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">100</span>, <span class="hljs-number">310</span>, <span class="hljs-number">90</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdName<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setAutoscrolls</span>(false)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdName)<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">480</span>, <span class="hljs-number">160</span>, <span class="hljs-number">120</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel3<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel3<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"uuid:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel3)<span class="hljs-comment">;</span>
        jLabel3<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">130</span>, <span class="hljs-number">160</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdUuid<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">11</span>))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdUuid)<span class="hljs-comment">;</span>
        tfdUuid<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">200</span>, <span class="hljs-number">160</span>, <span class="hljs-number">110</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel4<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u59d3\u540d:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel4)<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">420</span>, <span class="hljs-number">160</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel5<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel5<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u5bc6\u7801:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel5)<span class="hljs-comment">;</span>
        jLabel5<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">130</span>, <span class="hljs-number">240</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdPwd<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Tahoma"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">12</span>))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdPwd)<span class="hljs-comment">;</span>
        tfdPwd<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">200</span>, <span class="hljs-number">240</span>, <span class="hljs-number">160</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdType<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">12</span>))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdType)<span class="hljs-comment">;</span>
        tfdType<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">200</span>, <span class="hljs-number">310</span>, <span class="hljs-number">160</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        btnBack<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fd4\u56de"</span>)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnBackActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnBack)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">540</span>, <span class="hljs-number">450</span>, <span class="hljs-number">120</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>

        btnDelete<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnDelete<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>))<span class="hljs-comment">;</span>
        btnDelete<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u5220\u9664"</span>)<span class="hljs-comment">;</span>
        btnDelete<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnDeleteActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnDelete)<span class="hljs-comment">;</span>
        btnDelete<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">210</span>, <span class="hljs-number">450</span>, <span class="hljs-number">120</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>
    }// &lt;/editor-fold&gt;
    //GEN-END:initComponents

    private void btnDeleteActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        //<span class="hljs-number">3</span>调用逻辑层
        if (UserEbiFactory<span class="hljs-preprocessor">.getUserEbi</span>()<span class="hljs-preprocessor">.delete</span>(uuid)) {
            back()<span class="hljs-comment">;</span>
        } else {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"该用户已经不存在!"</span>)<span class="hljs-comment">;</span>
        }

        //<span class="hljs-number">4</span>根据调用返回结果导向不同页面

    }

    private void btnBackActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        back()<span class="hljs-comment">;</span>
    }

    private void back() {
        mainFrame<span class="hljs-preprocessor">.setContentPane</span>(new ListPanel(mainFrame))<span class="hljs-comment">;</span>
        mainFrame<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>
    }

    //GEN-BEGIN:variables
    // Variables declaration - do not modify
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnBack<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnDelete<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel1<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel2<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel3<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel4<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel5<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdName<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdPwd<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdType<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdUuid<span class="hljs-comment">;</span>
    // End of variables declaration//GEN-END:variables

}</code></pre>

<p>|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||</p>



<h2 id="查找用户querypanel">查找用户：QueryPanel</h2>



<pre class="prettyprint"><code class=" hljs avrasm"><span class="hljs-comment">/*
 * QueryPanel.java
 *
 * Created on __DATE__, __TIME__
 */</span>

package cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.ui</span><span class="hljs-comment">;</span>

import java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span><span class="hljs-comment">;</span>
import java<span class="hljs-preprocessor">.util</span><span class="hljs-preprocessor">.List</span><span class="hljs-comment">;</span>

import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JFrame</span><span class="hljs-comment">;</span>

import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.common</span><span class="hljs-preprocessor">.UserTypeEnum</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.ebi</span><span class="hljs-preprocessor">.UserEbi</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.factory</span><span class="hljs-preprocessor">.UserEbiFactory</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.UserModel</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.UserQueryModel</span><span class="hljs-comment">;</span>

<span class="hljs-comment">/**
 * 
 * @author 陈浩翔
 *
 * @version 1.0
 */</span>
public class QueryPanel extends javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPanel</span> {

    private JFrame mainFrame = null<span class="hljs-comment">;</span>

    <span class="hljs-comment">/** Creates new form QueryPanel 
     * @param mainFrame */</span>
    public QueryPanel(JFrame mainFrame) {
        this<span class="hljs-preprocessor">.mainFrame</span> = mainFrame<span class="hljs-comment">;</span>
        initComponents()<span class="hljs-comment">;</span>
        myInitData()<span class="hljs-comment">;</span>
    }

    private void myInitData() {
        for(UserTypeEnum type:UserTypeEnum<span class="hljs-preprocessor">.values</span>()){
            combType<span class="hljs-preprocessor">.addItem</span>(type<span class="hljs-preprocessor">.getName</span>())<span class="hljs-comment">;</span>
        }

    }

    <span class="hljs-comment">/** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */</span>
    //GEN-BEGIN:initComponents
    // &lt;editor-fold defaultstate=<span class="hljs-string">"collapsed"</span> desc=<span class="hljs-string">"Generated Code"</span>&gt;
    private void initComponents() {

        jLabel1 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        jLabel2 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdName = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel3 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdUuid = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel4 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        combType = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JComboBox</span>()<span class="hljs-comment">;</span>
        btnQuery = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>
        btnBack = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>

        setMinimumSize(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Dimension</span>(<span class="hljs-number">800</span>, <span class="hljs-number">600</span>))<span class="hljs-comment">;</span>
        setLayout(null)<span class="hljs-comment">;</span>

        jLabel1<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">48</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">204</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u67e5\u627e\u7528\u6237"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel1)<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">250</span>, <span class="hljs-number">20</span>, <span class="hljs-number">230</span>, <span class="hljs-number">80</span>)<span class="hljs-comment">;</span>

        jLabel2<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel2<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u7528\u6237\u7c7b\u578b:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel2)<span class="hljs-comment">;</span>
        jLabel2<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">90</span>, <span class="hljs-number">310</span>, <span class="hljs-number">90</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdName<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setAutoscrolls</span>(false)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdName)<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">180</span>, <span class="hljs-number">230</span>, <span class="hljs-number">140</span>, <span class="hljs-number">32</span>)<span class="hljs-comment">;</span>

        jLabel3<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel3<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"uuid:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel3)<span class="hljs-comment">;</span>
        jLabel3<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">120</span>, <span class="hljs-number">160</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdUuid<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">12</span>))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdUuid)<span class="hljs-comment">;</span>
        tfdUuid<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">180</span>, <span class="hljs-number">160</span>, <span class="hljs-number">110</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel4<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u59d3\u540d:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel4)<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">120</span>, <span class="hljs-number">230</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        combType<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        combType<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">51</span>, <span class="hljs-number">51</span>, <span class="hljs-number">255</span>))<span class="hljs-comment">;</span>
        combType<span class="hljs-preprocessor">.setModel</span>(new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.DefaultComboBoxModel</span>(
                new String[] { <span class="hljs-string">"请选择..."</span> }))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(combType)<span class="hljs-comment">;</span>
        combType<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">180</span>, <span class="hljs-number">310</span>, <span class="hljs-number">160</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        btnQuery<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnQuery<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>))<span class="hljs-comment">;</span>
        btnQuery<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u67e5\u627e"</span>)<span class="hljs-comment">;</span>
        btnQuery<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnQueryActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnQuery)<span class="hljs-comment">;</span>
        btnQuery<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">150</span>, <span class="hljs-number">440</span>, <span class="hljs-number">120</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>

        btnBack<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fd4\u56de"</span>)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnBackActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnBack)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">520</span>, <span class="hljs-number">430</span>, <span class="hljs-number">120</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>
    }// &lt;/editor-fold&gt;
    //GEN-END:initComponents

    protected void btnQueryActionPerformed(ActionEvent evt) {
        //<span class="hljs-number">1</span>收集参数
        String name = tfdName<span class="hljs-preprocessor">.getText</span>()<span class="hljs-comment">;</span>
        String uuid = tfdUuid<span class="hljs-preprocessor">.getText</span>()<span class="hljs-comment">;</span>

        int type =<span class="hljs-number">0</span><span class="hljs-comment">;</span>
        if(combType<span class="hljs-preprocessor">.getSelectedIndex</span>()&gt;<span class="hljs-number">0</span>){
            type = UserTypeEnum<span class="hljs-preprocessor">.getTypeByName</span>(combType<span class="hljs-preprocessor">.getSelectedItem</span>()<span class="hljs-preprocessor">.toString</span>())<span class="hljs-comment">;</span>
        }

        //<span class="hljs-number">2</span>组织参数
        UserQueryModel uqm = new UserQueryModel()<span class="hljs-comment">;</span>
        uqm<span class="hljs-preprocessor">.setName</span>(name)<span class="hljs-comment">;</span>
        uqm<span class="hljs-preprocessor">.setUuid</span>(uuid)<span class="hljs-comment">;</span>
        uqm<span class="hljs-preprocessor">.setType</span>(type)<span class="hljs-comment">;</span>

        //<span class="hljs-number">3</span>调用逻辑层
        UserEbi ebi = UserEbiFactory<span class="hljs-preprocessor">.getUserEbi</span>()<span class="hljs-comment">;</span>
        List&lt;UserModel&gt; results = ebi<span class="hljs-preprocessor">.getbyCondition</span>(uqm)<span class="hljs-comment">;</span>

        //<span class="hljs-number">4</span>返回到不同的结果页面

        mainFrame<span class="hljs-preprocessor">.setContentPane</span>(new ListPanel(mainFrame,results))<span class="hljs-comment">;</span>
        mainFrame<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>

    }

    private void btnBackActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        back()<span class="hljs-comment">;</span>
    }

    private void back() {
        mainFrame<span class="hljs-preprocessor">.setContentPane</span>(new ListPanel(mainFrame))<span class="hljs-comment">;</span>
        mainFrame<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>
    }

    //GEN-BEGIN:variables
    // Variables declaration - do not modify
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnBack<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnQuery<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JComboBox</span> combType<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel1<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel2<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel3<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel4<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdName<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdUuid<span class="hljs-comment">;</span>
    // End of variables declaration//GEN-END:variables

}</code></pre>

<p>||||||||||||||||||||||||||||||||||||||||||||||</p>



<h2 id="修改用户updatepanel">修改用户：UpdatePanel</h2>



<pre class="prettyprint"><code class=" hljs avrasm"><span class="hljs-comment">/*
 * UpdatePanel.java
 *
 * Created on __DATE__, __TIME__
 */</span>

package cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.ui</span><span class="hljs-comment">;</span>

import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JFrame</span><span class="hljs-comment">;</span>
import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JOptionPane</span><span class="hljs-comment">;</span>

import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.common</span><span class="hljs-preprocessor">.UserTypeEnum</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.ebi</span><span class="hljs-preprocessor">.UserEbi</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.factory</span><span class="hljs-preprocessor">.UserEbiFactory</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.UserModel</span><span class="hljs-comment">;</span>

<span class="hljs-comment">/**
 * 
 * @author 陈浩翔
 *
 * @version 1.0
 */</span>
public class UpdatePanel extends javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPanel</span> {
    private JFrame mainFrame = null<span class="hljs-comment">;</span>
    private String uuid = null<span class="hljs-comment">;</span>

    <span class="hljs-comment">/**
     * Creates new form UpdatePanel
     * 
     * @param uuid
     * @param mainFrame
     */</span>
    public UpdatePanel(JFrame mainFrame, String uuid) {
        this<span class="hljs-preprocessor">.mainFrame</span> = mainFrame<span class="hljs-comment">;</span>
        this<span class="hljs-preprocessor">.uuid</span> = uuid<span class="hljs-comment">;</span>
        initComponents()<span class="hljs-comment">;</span>
        myInitData()<span class="hljs-comment">;</span>
    }

    private void myInitData() {
        UserEbi ebi = UserEbiFactory<span class="hljs-preprocessor">.getUserEbi</span>()<span class="hljs-comment">;</span>
        UserModel user = ebi<span class="hljs-preprocessor">.getSingle</span>(uuid)<span class="hljs-comment">;</span>
        tfdUuid<span class="hljs-preprocessor">.setText</span>(user<span class="hljs-preprocessor">.getUuid</span>())<span class="hljs-comment">;</span>
        tfdUuid<span class="hljs-preprocessor">.setEditable</span>(false)<span class="hljs-comment">;</span>

        tfdName<span class="hljs-preprocessor">.setText</span>(user<span class="hljs-preprocessor">.getName</span>())<span class="hljs-comment">;</span>
        tfdPwd<span class="hljs-preprocessor">.setText</span>(user<span class="hljs-preprocessor">.getPwd</span>())<span class="hljs-comment">;</span>
        tfdPwd2<span class="hljs-preprocessor">.setText</span>(user<span class="hljs-preprocessor">.getPwd</span>())<span class="hljs-comment">;</span>

        combType<span class="hljs-preprocessor">.removeAllItems</span>()<span class="hljs-comment">;</span>
        String usert = UserTypeEnum<span class="hljs-preprocessor">.getNameByType</span>(user<span class="hljs-preprocessor">.getType</span>())<span class="hljs-comment">;</span>
        combType<span class="hljs-preprocessor">.addItem</span>(usert)<span class="hljs-comment">;</span>
        for (UserTypeEnum userType : UserTypeEnum<span class="hljs-preprocessor">.values</span>()) {
            if (!userType<span class="hljs-preprocessor">.getName</span>()<span class="hljs-preprocessor">.equals</span>(usert)) {
                combType<span class="hljs-preprocessor">.addItem</span>(userType<span class="hljs-preprocessor">.getName</span>())<span class="hljs-comment">;</span>
            }
        }

    }

    //GEN-BEGIN:initComponents
    // &lt;editor-fold defaultstate=<span class="hljs-string">"collapsed"</span> desc=<span class="hljs-string">"Generated Code"</span>&gt;
    private void initComponents() {

        jLabel1 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        jLabel2 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdName = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel3 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdUuid = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel4 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdPwd2 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPasswordField</span>()<span class="hljs-comment">;</span>
        jLabel5 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        jLabel6 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdPwd = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPasswordField</span>()<span class="hljs-comment">;</span>
        combType = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JComboBox</span>()<span class="hljs-comment">;</span>
        btnBack = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>
        btnUpdate = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>

        setMinimumSize(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Dimension</span>(<span class="hljs-number">800</span>, <span class="hljs-number">600</span>))<span class="hljs-comment">;</span>
        setLayout(null)<span class="hljs-comment">;</span>

        jLabel1<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">48</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">204</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u4fee\u6539\u7528\u6237"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel1)<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">250</span>, <span class="hljs-number">30</span>, <span class="hljs-number">230</span>, <span class="hljs-number">80</span>)<span class="hljs-comment">;</span>

        jLabel2<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel2<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u7528\u6237\u7c7b\u578b:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel2)<span class="hljs-comment">;</span>
        jLabel2<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">90</span>, <span class="hljs-number">310</span>, <span class="hljs-number">90</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdName<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setAutoscrolls</span>(false)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdName)<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">470</span>, <span class="hljs-number">160</span>, <span class="hljs-number">120</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel3<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel3<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"uuid:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel3)<span class="hljs-comment">;</span>
        jLabel3<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">120</span>, <span class="hljs-number">160</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdUuid<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">12</span>))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdUuid)<span class="hljs-comment">;</span>
        tfdUuid<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">190</span>, <span class="hljs-number">160</span>, <span class="hljs-number">110</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel4<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u59d3\u540d:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel4)<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">410</span>, <span class="hljs-number">160</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdPwd2<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdPwd2)<span class="hljs-comment">;</span>
        tfdPwd2<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">470</span>, <span class="hljs-number">240</span>, <span class="hljs-number">170</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel5<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel5<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u5bc6\u7801:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel5)<span class="hljs-comment">;</span>
        jLabel5<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">120</span>, <span class="hljs-number">240</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel6<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel6<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u786e\u8ba4\u5bc6\u7801:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel6)<span class="hljs-comment">;</span>
        jLabel6<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">380</span>, <span class="hljs-number">240</span>, <span class="hljs-number">90</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdPwd<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"宋体"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdPwd)<span class="hljs-comment">;</span>
        tfdPwd<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">190</span>, <span class="hljs-number">240</span>, <span class="hljs-number">160</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        combType<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">12</span>))<span class="hljs-comment">;</span>
        combType<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">51</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>))<span class="hljs-comment">;</span>
        combType<span class="hljs-preprocessor">.setModel</span>(new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.DefaultComboBoxModel</span>(
                new String[] { <span class="hljs-string">""</span> }))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(combType)<span class="hljs-comment">;</span>
        combType<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">190</span>, <span class="hljs-number">310</span>, <span class="hljs-number">170</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        btnBack<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fd4\u56de"</span>)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnBackActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnBack)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">500</span>, <span class="hljs-number">430</span>, <span class="hljs-number">120</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>

        btnUpdate<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnUpdate<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>))<span class="hljs-comment">;</span>
        btnUpdate<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u4fee\u6539"</span>)<span class="hljs-comment">;</span>
        btnUpdate<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnUpdateActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnUpdate)<span class="hljs-comment">;</span>
        btnUpdate<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">170</span>, <span class="hljs-number">430</span>, <span class="hljs-number">120</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>
    }// &lt;/editor-fold&gt;
    //GEN-END:initComponents

    private void btnUpdateActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        // <span class="hljs-number">1</span>收集参数
        String uuid = tfdUuid<span class="hljs-preprocessor">.getText</span>()<span class="hljs-comment">;</span>
        String name = tfdName<span class="hljs-preprocessor">.getText</span>()<span class="hljs-comment">;</span>
        String pwd = new String(tfdPwd<span class="hljs-preprocessor">.getPassword</span>())<span class="hljs-comment">;</span>
        String pwd2 = new String(tfdPwd2<span class="hljs-preprocessor">.getPassword</span>())<span class="hljs-comment">;</span>

        if (uuid<span class="hljs-preprocessor">.equals</span>(<span class="hljs-string">""</span>) || uuid<span class="hljs-preprocessor">.equals</span>(null)) {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"用户ID为空，请重新输入！"</span>)<span class="hljs-comment">;</span>
            return<span class="hljs-comment">;</span>
        }

        if (name<span class="hljs-preprocessor">.equals</span>(<span class="hljs-string">""</span>) || name<span class="hljs-preprocessor">.equals</span>(null)) {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"用户名为空，请重新输入！"</span>)<span class="hljs-comment">;</span>
            return<span class="hljs-comment">;</span>
        }

        if (!pwd<span class="hljs-preprocessor">.equals</span>(pwd2) || pwd<span class="hljs-preprocessor">.equals</span>(<span class="hljs-string">""</span>) || pwd<span class="hljs-preprocessor">.equals</span>(null)
                || pwd2<span class="hljs-preprocessor">.equals</span>(<span class="hljs-string">""</span>) || pwd2<span class="hljs-preprocessor">.equals</span>(null)) {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"两次密码输入不一致或密码为空，请重新输入！"</span>)<span class="hljs-comment">;</span>
            return<span class="hljs-comment">;</span>
        }
        int type = <span class="hljs-number">0</span><span class="hljs-comment">;</span>

        try {
            type = UserTypeEnum<span class="hljs-preprocessor">.getTypeByName</span>(combType<span class="hljs-preprocessor">.getSelectedItem</span>()
                    <span class="hljs-preprocessor">.toString</span>())<span class="hljs-comment">;</span>
        } catch (Exception e) {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"请指定用户类型!"</span>)<span class="hljs-comment">;</span>
            return<span class="hljs-comment">;</span>
        }

        // <span class="hljs-number">2</span>组织参数
        UserModel user = new UserModel()<span class="hljs-comment">;</span>
        user<span class="hljs-preprocessor">.setName</span>(name)<span class="hljs-comment">;</span>
        user<span class="hljs-preprocessor">.setPwd</span>(pwd)<span class="hljs-comment">;</span>
        user<span class="hljs-preprocessor">.setType</span>(type)<span class="hljs-comment">;</span>
        user<span class="hljs-preprocessor">.setUuid</span>(uuid)<span class="hljs-comment">;</span>

        // <span class="hljs-number">3</span>调用逻辑层
        UserEbi ebi = UserEbiFactory<span class="hljs-preprocessor">.getUserEbi</span>()<span class="hljs-comment">;</span>

        // <span class="hljs-number">4</span>根据调用返回结果导向不同页面
        if (ebi<span class="hljs-preprocessor">.update</span>(user)) {
            back()<span class="hljs-comment">;</span>
        } else {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(null, <span class="hljs-string">"该用户已经不存在!"</span>)<span class="hljs-comment">;</span>
        }

    }

    private void btnBackActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        back()<span class="hljs-comment">;</span>
    }

    private void back() {
        mainFrame<span class="hljs-preprocessor">.setContentPane</span>(new ListPanel(mainFrame))<span class="hljs-comment">;</span>
        mainFrame<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>
    }

    //GEN-BEGIN:variables
    // Variables declaration - do not modify
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnBack<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnUpdate<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JComboBox</span> combType<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel1<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel2<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel3<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel4<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel5<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel6<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdName<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPasswordField</span> tfdPwd<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPasswordField</span> tfdPwd2<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdUuid<span class="hljs-comment">;</span>
    // End of variables declaration//GEN-END:variables

}</code></pre>

<p>主界面的图片： <br />
最后，我把那个主界面的图片上传一下：(我随便弄的一张图片)</p>

<p>名字为：shudian.png <br />
<img src="http://img.blog.csdn.net/20160411003451695" alt="" title="" /></p>

<p>如果软件现在有什么bug，欢迎在评论中指出，谢谢了。 <br />
软件持续连载中。。。</p></div>&#13;
        <script type="text/javascript">&#13;
            $(function () {&#13;
                $('pre.prettyprint code').each(function () {&#13;
                    var lines = $(this).text().split('\n').length;&#13;
                    var $numbering = $('&lt;ul/&gt;').addClass('pre-numbering').hide();&#13;
                    $(this).addClass('has-numbering').parent().append($numbering);&#13;
                    for (i = 1; i &lt;= lines; i++) {&#13;
                        $numbering.append($('&lt;li/&gt;').text(i));&#13;
                    };&#13;
                    $numbering.fadeIn(1700);&#13;
                });&#13;
            });&#13;
        </script>&#13;
   &#13;
