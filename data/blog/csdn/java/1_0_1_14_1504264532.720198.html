
        <div class="markdown_views"><p>Java-单机版的书店管理系统(练习设计模块和思想_系列 三 )： <br />
<a href="http://blog.csdn.net/qq_26525215/article/details/51099202">http://blog.csdn.net/qq_26525215/article/details/51099202</a></p>

<p>Java-单机版的书店管理系统(练习设计模块和思想_系列 二 )： <br />
<a href="http://blog.csdn.net/qq_26525215/article/details/51089734">http://blog.csdn.net/qq_26525215/article/details/51089734</a></p>

<p>Java-单机版的书店管理系统(练习设计模块和思想_系列 一 )： <br />
<a href="http://blog.csdn.net/qq_26525215/article/details/51073546">http://blog.csdn.net/qq_26525215/article/details/51073546</a></p>

<h2 id="本系列四介绍说明">本系列四介绍说明：</h2>

<p>主要是添加了Uuid模块，现在的uuid并不是由用户输入，而是我们通过软件内部自动生成（通过唱票模式），uuid是不会产生重复的！</p>

<p>还有把主界面改了下，以后会改成登录页面的（待完善）。</p>

<p>现在进入其他模块是通过菜单项进入的。</p>

<p>增加了图书模块！</p>

<p>注意： <br />
每个模块先写哪个，我都是按照先后顺序来上代码的，从前往后依次写代码的。 <br />
注意是每个模块！！！ <br />
先写公共类和工具类再写模块的！ <br />
我公共类和工具类上传在最后了，你看可以直接在左上角找目录跳到那去看。 <br />
（限每个模块内部）（因为还有公共类和工具类等）</p>



<h2 id="软件部分图片">软件部分图片：</h2>

<p>现在先看软件部分运行图片： <br />
待完成的主界面：现在通过菜单条：模块进入其他的模块： <br />
<img src="http://img.blog.csdn.net/20160410233450453" alt="" title="" /></p>

<p>用户模块主界面： <br />
<img src="http://img.blog.csdn.net/20160410233828026" alt="" title="" /></p>

<p>图书模块主界面： <br />
<img src="http://img.blog.csdn.net/20160410233850845" alt="" title="" /></p>

<p>添加用户的界面： <br />
相比上一系列，减少了uuid的输入： <br />
（其他如增删改查的界面完全没有动，这就是设计模块的好处） <br />
<img src="http://img.blog.csdn.net/20160410233550547" alt="" title="" /></p>

<p>添加图书的界面：</p>

<p><img src="http://img.blog.csdn.net/20160410233752822" alt="" title="" /></p>



<h2 id="书店管理系统文件目录">书店管理系统文件目录：</h2>

<p><img src="http://img.blog.csdn.net/20160410234249221" alt="" title="" /> <br />
<img src="http://img.blog.csdn.net/20160410234115018" alt="" title="" /> <br />
<img src="http://img.blog.csdn.net/20160410234126248" alt="" title="" /></p>



<h1 id="主界面代码">主界面代码：</h1>



<h2 id="main方法bookstore">main()方法：BookStore</h2>



<pre class="prettyprint"><code class=" hljs avrasm"><span class="hljs-comment">/*
 * BookStore.java
 *
 * Created on __DATE__, __TIME__
 */</span>

package cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-comment">;</span>

import java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Dimension</span><span class="hljs-comment">;</span>
import java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Toolkit</span><span class="hljs-comment">;</span>

import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.ui</span><span class="hljs-preprocessor">.BookListPanel</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.ui</span><span class="hljs-preprocessor">.ListPanel</span><span class="hljs-comment">;</span>

<span class="hljs-comment">/**
 *
 * @author  陈浩翔
 */</span>
public class BookStore extends javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JFrame</span> {

    <span class="hljs-comment">/** Creates new form BookStore */</span>
    public BookStore() {
        super(<span class="hljs-string">"书店管理系统---CHX---联系QQ——619699629"</span>)<span class="hljs-comment">;</span>
        initComponents()<span class="hljs-comment">;</span>
        //this<span class="hljs-preprocessor">.setContentPane</span>(new ListPanel(this))<span class="hljs-comment">;</span>
        this<span class="hljs-preprocessor">.setResizable</span>(false)<span class="hljs-comment">;//不能缩放</span>
        this<span class="hljs-preprocessor">.setDefaultCloseOperation</span>(EXIT_ON_CLOSE)<span class="hljs-comment">;</span>
        Dimension scr = Toolkit<span class="hljs-preprocessor">.getDefaultToolkit</span>()<span class="hljs-preprocessor">.getScreenSize</span>()<span class="hljs-comment">;</span>
        this<span class="hljs-preprocessor">.setLocation</span>(scr<span class="hljs-preprocessor">.width</span> / <span class="hljs-number">5</span>, scr<span class="hljs-preprocessor">.height</span> / <span class="hljs-number">5</span>)<span class="hljs-comment">;</span>
    }

    <span class="hljs-comment">/** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */</span>
    //GEN-BEGIN:initComponents
    // &lt;editor-fold defaultstate=<span class="hljs-string">"collapsed"</span> desc=<span class="hljs-string">"Generated Code"</span>&gt;
    private void initComponents() {

        jButton1 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>
        menuBar = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuBar</span>()<span class="hljs-comment">;</span>
        fileMenu = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenu</span>()<span class="hljs-comment">;</span>
        openMenuItem = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span>()<span class="hljs-comment">;</span>
        saveMenuItem = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span>()<span class="hljs-comment">;</span>
        saveAsMenuItem = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span>()<span class="hljs-comment">;</span>
        exitMenuItem = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span>()<span class="hljs-comment">;</span>
        editMenu = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenu</span>()<span class="hljs-comment">;</span>
        cutMenuItem = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span>()<span class="hljs-comment">;</span>
        copyMenuItem = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span>()<span class="hljs-comment">;</span>
        pasteMenuItem = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span>()<span class="hljs-comment">;</span>
        deleteMenuItem = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span>()<span class="hljs-comment">;</span>
        helpMenu = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenu</span>()<span class="hljs-comment">;</span>
        contentsMenuItem = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span>()<span class="hljs-comment">;</span>
        aboutMenuItem = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span>()<span class="hljs-comment">;</span>
        jMenu1 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenu</span>()<span class="hljs-comment">;</span>
        jMenuItemUser = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span>()<span class="hljs-comment">;</span>
        jMenuItemBook = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span>()<span class="hljs-comment">;</span>
        jMenuItem1 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span>()<span class="hljs-comment">;</span>

        setDefaultCloseOperation(javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.WindowConstants</span><span class="hljs-preprocessor">.EXIT</span>_ON_CLOSE)<span class="hljs-comment">;</span>
        setMinimumSize(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Dimension</span>(<span class="hljs-number">800</span>, <span class="hljs-number">600</span>))<span class="hljs-comment">;</span>

        jButton1<span class="hljs-preprocessor">.setIcon</span>(new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.ImageIcon</span>(
                <span class="hljs-string">"E:\\百度云同步盘\\MyJavaWork\\myBookStore\\shudian.png"</span>))<span class="hljs-comment">; // NOI18N</span>
        jButton1<span class="hljs-preprocessor">.setMaximumSize</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Dimension</span>(<span class="hljs-number">7500</span>, <span class="hljs-number">2300</span>))<span class="hljs-comment">;</span>
        jButton1<span class="hljs-preprocessor">.setMinimumSize</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Dimension</span>(<span class="hljs-number">800</span>, <span class="hljs-number">600</span>))<span class="hljs-comment">;</span>

        fileMenu<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"File"</span>)<span class="hljs-comment">;</span>

        openMenuItem<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"Open"</span>)<span class="hljs-comment">;</span>
        fileMenu<span class="hljs-preprocessor">.add</span>(openMenuItem)<span class="hljs-comment">;</span>

        saveMenuItem<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"Save"</span>)<span class="hljs-comment">;</span>
        fileMenu<span class="hljs-preprocessor">.add</span>(saveMenuItem)<span class="hljs-comment">;</span>

        saveAsMenuItem<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"Save As ..."</span>)<span class="hljs-comment">;</span>
        fileMenu<span class="hljs-preprocessor">.add</span>(saveAsMenuItem)<span class="hljs-comment">;</span>

        exitMenuItem<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"Exit"</span>)<span class="hljs-comment">;</span>
        exitMenuItem<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                exitMenuItemActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        fileMenu<span class="hljs-preprocessor">.add</span>(exitMenuItem)<span class="hljs-comment">;</span>

        menuBar<span class="hljs-preprocessor">.add</span>(fileMenu)<span class="hljs-comment">;</span>

        editMenu<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"Edit"</span>)<span class="hljs-comment">;</span>

        cutMenuItem<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"Cut"</span>)<span class="hljs-comment">;</span>
        editMenu<span class="hljs-preprocessor">.add</span>(cutMenuItem)<span class="hljs-comment">;</span>

        copyMenuItem<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"Copy"</span>)<span class="hljs-comment">;</span>
        editMenu<span class="hljs-preprocessor">.add</span>(copyMenuItem)<span class="hljs-comment">;</span>

        pasteMenuItem<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"Paste"</span>)<span class="hljs-comment">;</span>
        editMenu<span class="hljs-preprocessor">.add</span>(pasteMenuItem)<span class="hljs-comment">;</span>

        deleteMenuItem<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"Delete"</span>)<span class="hljs-comment">;</span>
        editMenu<span class="hljs-preprocessor">.add</span>(deleteMenuItem)<span class="hljs-comment">;</span>

        menuBar<span class="hljs-preprocessor">.add</span>(editMenu)<span class="hljs-comment">;</span>

        helpMenu<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"Help"</span>)<span class="hljs-comment">;</span>

        contentsMenuItem<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"Contents"</span>)<span class="hljs-comment">;</span>
        helpMenu<span class="hljs-preprocessor">.add</span>(contentsMenuItem)<span class="hljs-comment">;</span>

        aboutMenuItem<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"About"</span>)<span class="hljs-comment">;</span>
        helpMenu<span class="hljs-preprocessor">.add</span>(aboutMenuItem)<span class="hljs-comment">;</span>

        menuBar<span class="hljs-preprocessor">.add</span>(helpMenu)<span class="hljs-comment">;</span>

        jMenu1<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">204</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<span class="hljs-comment">;</span>
        jMenu1<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u6a21\u5757"</span>)<span class="hljs-comment">;</span>

        jMenuItemUser<span class="hljs-preprocessor">.setAccelerator</span>(javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.KeyStroke</span><span class="hljs-preprocessor">.getKeyStroke</span>(
                java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.KeyEvent</span><span class="hljs-preprocessor">.VK</span>_U,
                java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.InputEvent</span><span class="hljs-preprocessor">.CTRL</span>_MASK))<span class="hljs-comment">;</span>
        jMenuItemUser<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">14</span>))<span class="hljs-comment">;</span>
        jMenuItemUser<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">0</span>))<span class="hljs-comment">;</span>
        jMenuItemUser<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u7528\u6237"</span>)<span class="hljs-comment">;</span>
        jMenuItemUser<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                jMenuItemUserActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        jMenu1<span class="hljs-preprocessor">.add</span>(jMenuItemUser)<span class="hljs-comment">;</span>

        jMenuItemBook<span class="hljs-preprocessor">.setAccelerator</span>(javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.KeyStroke</span><span class="hljs-preprocessor">.getKeyStroke</span>(
                java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.KeyEvent</span><span class="hljs-preprocessor">.VK</span>_B,
                java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.InputEvent</span><span class="hljs-preprocessor">.CTRL</span>_MASK))<span class="hljs-comment">;</span>
        jMenuItemBook<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">14</span>))<span class="hljs-comment">;</span>
        jMenuItemBook<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">51</span>))<span class="hljs-comment">;</span>
        jMenuItemBook<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u56fe\u4e66"</span>)<span class="hljs-comment">;</span>
        jMenuItemBook<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                jMenuItemBookActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        jMenu1<span class="hljs-preprocessor">.add</span>(jMenuItemBook)<span class="hljs-comment">;</span>

        jMenuItem1<span class="hljs-preprocessor">.setAccelerator</span>(javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.KeyStroke</span><span class="hljs-preprocessor">.getKeyStroke</span>(
                java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.KeyEvent</span><span class="hljs-preprocessor">.VK</span>_DELETE,
                java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.InputEvent</span><span class="hljs-preprocessor">.CTRL</span>_MASK))<span class="hljs-comment">;</span>
        jMenuItem1<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">14</span>))<span class="hljs-comment">;</span>
        jMenuItem1<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">0</span>))<span class="hljs-comment">;</span>
        jMenuItem1<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u6ce8\u9500"</span>)<span class="hljs-comment">;</span>
        jMenuItem1<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                jMenuItem1ActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        jMenu1<span class="hljs-preprocessor">.add</span>(jMenuItem1)<span class="hljs-comment">;</span>

        menuBar<span class="hljs-preprocessor">.add</span>(jMenu1)<span class="hljs-comment">;</span>

        setJMenuBar(menuBar)<span class="hljs-comment">;</span>

        javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.GroupLayout</span> layout = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.GroupLayout</span>(
                getContentPane())<span class="hljs-comment">;</span>
        getContentPane()<span class="hljs-preprocessor">.setLayout</span>(layout)<span class="hljs-comment">;</span>
        layout<span class="hljs-preprocessor">.setHorizontalGroup</span>(layout<span class="hljs-preprocessor">.createParallelGroup</span>(
                javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.GroupLayout</span><span class="hljs-preprocessor">.Alignment</span><span class="hljs-preprocessor">.LEADING</span>)<span class="hljs-preprocessor">.addComponent</span>(
                jButton1, javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.GroupLayout</span><span class="hljs-preprocessor">.DEFAULT</span>_SIZE, <span class="hljs-number">800</span>,
                Short<span class="hljs-preprocessor">.MAX</span>_VALUE))<span class="hljs-comment">;</span>
        layout<span class="hljs-preprocessor">.setVerticalGroup</span>(layout<span class="hljs-preprocessor">.createParallelGroup</span>(
                javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.GroupLayout</span><span class="hljs-preprocessor">.Alignment</span><span class="hljs-preprocessor">.LEADING</span>)<span class="hljs-preprocessor">.addComponent</span>(
                jButton1, javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.GroupLayout</span><span class="hljs-preprocessor">.DEFAULT</span>_SIZE, <span class="hljs-number">600</span>,
                Short<span class="hljs-preprocessor">.MAX</span>_VALUE))<span class="hljs-comment">;</span>

        pack()<span class="hljs-comment">;</span>
    }// &lt;/editor-fold&gt;
    //GEN-END:initComponents

    <span class="hljs-comment">/**
     * 注销菜单项
     * @param evt
     */</span>
    private void jMenuItem1ActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {

    }

    <span class="hljs-comment">/**
     * 监听进入图书模块
     * @param evt
     */</span>
    private void jMenuItemBookActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        this<span class="hljs-preprocessor">.setContentPane</span>(new BookListPanel(this))<span class="hljs-comment">;</span>
        this<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>
    }

    <span class="hljs-comment">/**
     * 监听进入用户模块
     * @param evt
     */</span>
    private void jMenuItemUserActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        this<span class="hljs-preprocessor">.setContentPane</span>(new ListPanel(this))<span class="hljs-comment">;</span>
        this<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>

    }

    private void exitMenuItemActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {//GEN-FIRST:event_exitMenuItemActionPerformed
        System<span class="hljs-preprocessor">.exit</span>(<span class="hljs-number">0</span>)<span class="hljs-comment">;</span>
    }//GEN-LAST:event_exitMenuItemActionPerformed

    <span class="hljs-comment">/**
     * @param args the command line arguments
     */</span>
    public static void main(String args[]) {
        java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.EventQueue</span><span class="hljs-preprocessor">.invokeLater</span>(new Runnable() {
            public void run() {
                new BookStore()<span class="hljs-preprocessor">.setVisible</span>(true)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
    }

    //GEN-BEGIN:variables
    // Variables declaration - do not modify
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span> aboutMenuItem<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span> contentsMenuItem<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span> copyMenuItem<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span> cutMenuItem<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span> deleteMenuItem<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenu</span> editMenu<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span> exitMenuItem<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenu</span> fileMenu<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenu</span> helpMenu<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> jButton1<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenu</span> jMenu1<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span> jMenuItem1<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span> jMenuItemBook<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span> jMenuItemUser<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuBar</span> menuBar<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span> openMenuItem<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span> pasteMenuItem<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span> saveAsMenuItem<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JMenuItem</span> saveMenuItem<span class="hljs-comment">;</span>
    // End of variables declaration//GEN-END:variables

}</code></pre>



<h1 id="图书模块的所有代码和类">图书模块的所有代码和类：</h1>



<h2 id="值对象层">值对象层：</h2>

<p>||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||</p>



<h2 id="bookmodel类">BookModel类：</h2>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.book.vo;

<span class="hljs-keyword">import</span> java.io.Serializable;

<span class="hljs-javadoc">/**
 * 值对象封装
 * 
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookModel</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Serializable</span>{</span><span class="hljs-comment">//必须实现这个接口</span>
    <span class="hljs-keyword">private</span> String uuid;<span class="hljs-comment">//图书ID</span>
    <span class="hljs-keyword">private</span> String name;<span class="hljs-comment">//图书名字</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> inPrice;<span class="hljs-comment">//图书的进价</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> salePrice;<span class="hljs-comment">//图书的售价</span>

    <span class="hljs-javadoc">/**
     * 
     *<span class="hljs-javadoctag"> @return</span> 图书的ID
     */</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title">getUuid</span>() {
        <span class="hljs-keyword">return</span> uuid;
    }
    <span class="hljs-javadoc">/**
     * 
     *<span class="hljs-javadoctag"> @param</span> uuid ---设置图书的ID
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUuid</span>(String uuid) {
        <span class="hljs-keyword">this</span>.uuid = uuid;
    }

    <span class="hljs-javadoc">/**
     * 
     *<span class="hljs-javadoctag"> @return</span> 图书的名字
     */</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span>() {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-javadoc">/**
     * 
     *<span class="hljs-javadoctag"> @param</span> name--设置图书的名字
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span>(String name) {
        <span class="hljs-keyword">this</span>.name = name;
    }

    <span class="hljs-javadoc">/**
     * 
     *<span class="hljs-javadoctag"> @return</span> 得到图书的进价
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getInPrice</span>() {
        <span class="hljs-keyword">return</span> inPrice;
    }

    <span class="hljs-javadoc">/**
     * 
     *<span class="hljs-javadoctag"> @param</span> inPrice---设置图书的进价
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setInPrice</span>(<span class="hljs-keyword">double</span> inPrice) {
        <span class="hljs-keyword">this</span>.inPrice = inPrice;
    }

    <span class="hljs-javadoc">/**
     * 
     *<span class="hljs-javadoctag"> @return</span> ---返回图书的售价
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getSalePrice</span>() {
        <span class="hljs-keyword">return</span> salePrice;
    }

    <span class="hljs-javadoc">/**
     * 
     *<span class="hljs-javadoctag"> @param</span> outPrice---设置图书的售价
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setSalePrice</span>(<span class="hljs-keyword">double</span> salePrice) {
        <span class="hljs-keyword">this</span>.salePrice = salePrice;
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">hashCode</span>() {
        <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> prime = <span class="hljs-number">31</span>;
        <span class="hljs-keyword">int</span> result = <span class="hljs-number">1</span>;
        result = prime * result + ((uuid == <span class="hljs-keyword">null</span>) ? <span class="hljs-number">0</span> : uuid.hashCode());
        <span class="hljs-keyword">return</span> result;
    }
    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">equals</span>(Object obj) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == obj)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
        <span class="hljs-keyword">if</span> (obj == <span class="hljs-keyword">null</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
        <span class="hljs-keyword">if</span> (getClass() != obj.getClass())
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
        BookModel other = (BookModel) obj;
        <span class="hljs-keyword">if</span> (uuid == <span class="hljs-keyword">null</span>) {
            <span class="hljs-keyword">if</span> (other.uuid != <span class="hljs-keyword">null</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!uuid.equals(other.uuid))
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }
    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span>() {
        <span class="hljs-keyword">return</span> uuid + <span class="hljs-string">", "</span> + name + <span class="hljs-string">", 进价="</span>
                + inPrice + <span class="hljs-string">", 售价"</span> + salePrice;
    }

}
</code></pre>

<p>||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||</p>



<h2 id="bookquerymodel类">BookQueryModel类：</h2>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.book.vo;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookQueryModel</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BookModel</span>{</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> inPrice2;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> salePrice2;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getInPrice2</span>() {
        <span class="hljs-keyword">return</span> inPrice2;
    }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setInPrice2</span>(<span class="hljs-keyword">double</span> inPrice2) {
        <span class="hljs-keyword">this</span>.inPrice2 = inPrice2;
    }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getSalePrice2</span>() {
        <span class="hljs-keyword">return</span> salePrice2;
    }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setSalePrice2</span>(<span class="hljs-keyword">double</span> salePrice2) {
        <span class="hljs-keyword">this</span>.salePrice2 = salePrice2;
    }


}
</code></pre>

<p>||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||</p>



<h2 id="数据层">数据层：</h2>



<h2 id="bookdao接口">BookDao接口</h2>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.book.dao.dao;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.book.vo.BookModel;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.book.vo.BookQueryModel;
<span class="hljs-javadoc">/**
 * 
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *
 *<span class="hljs-javadoctag"> @version</span> 1.0
 * 图书模块的数据层接口
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">BookDao</span> {</span>

    <span class="hljs-javadoc">/**
     * 功能：创建一本图书
     * 
     *<span class="hljs-javadoctag"> @param</span> bookModel---将要创建的图书数据
     *<span class="hljs-javadoctag"> @return</span>---true表示创建成功，false表示创建失败
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">create</span>(BookModel book);


    <span class="hljs-javadoc">/**
     * 功能：根据图书的唯一标识码uuid删除一本图书
     * 
     *<span class="hljs-javadoctag"> @param</span> uuid---图书唯一的标识码，每本图书都不会相同
     *<span class="hljs-javadoctag"> @return</span>---true表示删除成功，false表示删除失败
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">delete</span>(String uuid);


    <span class="hljs-javadoc">/**
     * 功能：修改图书的数据资料
     * 
     *<span class="hljs-javadoctag"> @param</span> user---需要修改的图书数据参数名
     *<span class="hljs-javadoctag"> @return</span> 返回true-表示修改成功了，返回false-表示修改失败
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">update</span>(BookModel book);


    <span class="hljs-javadoc">/**
     * 功能：得到所有的图书数据
     * 
     *<span class="hljs-javadoctag"> @return</span>---一个BookModel集合，也就是图书的数据
     */</span>
    <span class="hljs-keyword">public</span> List&lt;BookModel&gt; <span class="hljs-title">getAll</span>();


    <span class="hljs-javadoc">/**
     * 功能：按照一定的查找条件进行查找，
     * &lt;br/&gt;
     * 把满足查找条件的图书数据返回。
     * 
     *<span class="hljs-javadoctag"> @param</span> bqm---被封装的查找条件
     *<span class="hljs-javadoctag"> @return</span>---满足查找条件的图书数据集合
     */</span>
    <span class="hljs-keyword">public</span> List&lt;BookModel&gt; <span class="hljs-title">getbyCondition</span>(BookQueryModel bqm);


    <span class="hljs-javadoc">/**
     * 功能：得到一个确定的图书的数据资料
     * 
     *<span class="hljs-javadoctag"> @param</span> uuid---图书唯一标识码
     *<span class="hljs-javadoctag"> @return</span> ---返回按这个唯一标识码找到的图书数据
     */</span>
    <span class="hljs-keyword">public</span> BookModel <span class="hljs-title">getSingle</span>(String uuid);

}
</code></pre>

<p>|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||</p>



<h2 id="bookdaoserimpl类">BookDaoSerImpl类：</h2>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.book.dao.impl;

<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.book.dao.dao.BookDao;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.book.vo.BookModel;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.book.vo.BookQueryModel;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.util.FileIoUtil;
<span class="hljs-javadoc">/**
 * Dao实现类
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookDaoSerImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">BookDao</span> {</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String FILE_NAME = <span class="hljs-string">"Book.txt"</span>;

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">create</span>(BookModel book) {
        List&lt;BookModel&gt; books = FileIoUtil.readFormFile(FILE_NAME);

        <span class="hljs-keyword">for</span> (BookModel model : books) {
            <span class="hljs-keyword">if</span> (model.getUuid().equals(book.getUuid())) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
            }
        }
        books.add(book);
        FileIoUtil.write2file(books, FILE_NAME);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">delete</span>(String uuid) {
        List&lt;BookModel&gt; books = FileIoUtil.readFormFile(FILE_NAME);

        <span class="hljs-keyword">for</span> (BookModel model : books) {
            <span class="hljs-keyword">if</span> (model.getUuid().equals(uuid)) {
                books.remove(model);
                FileIoUtil.write2file(books, FILE_NAME);
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">update</span>(BookModel book) {
        List&lt;BookModel&gt; books = FileIoUtil.readFormFile(FILE_NAME);

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;books.size();i++) {
            <span class="hljs-keyword">if</span> (books.get(i).getUuid().equals(book.getUuid())) {
                books.set(i, book);
                FileIoUtil.write2file(books, FILE_NAME);
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
            }
        }

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> List&lt;BookModel&gt; <span class="hljs-title">getAll</span>() {
        <span class="hljs-keyword">return</span> FileIoUtil.readFormFile(FILE_NAME);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> List&lt;BookModel&gt; <span class="hljs-title">getbyCondition</span>(BookQueryModel bqm) {
        List&lt;BookModel&gt; lists = getAll();
        List&lt;BookModel&gt; results = <span class="hljs-keyword">new</span> ArrayList&lt;BookModel&gt;();

        <span class="hljs-keyword">for</span>(BookModel book: lists){

            <span class="hljs-keyword">if</span>(bqm.getUuid()!=<span class="hljs-keyword">null</span>&amp;&amp;bqm.getUuid().trim().length()&gt;<span class="hljs-number">0</span>){
                <span class="hljs-keyword">if</span>(!book.getUuid().equals(bqm.getUuid())){
                    <span class="hljs-keyword">continue</span>;
                }
            }

            <span class="hljs-keyword">if</span>(bqm.getName()!=<span class="hljs-keyword">null</span>&amp;&amp;bqm.getName().trim().length()&gt;<span class="hljs-number">0</span>){
                <span class="hljs-keyword">if</span>(book.getName().indexOf(bqm.getName())==-<span class="hljs-number">1</span>){
                    <span class="hljs-keyword">continue</span>;
                }
            }

            <span class="hljs-keyword">if</span>(bqm.getInPrice()&gt;<span class="hljs-number">0</span>){
                <span class="hljs-keyword">if</span>(book.getInPrice()&lt;bqm.getInPrice()){
                    <span class="hljs-keyword">continue</span>;
                }
            }
            <span class="hljs-keyword">if</span>(bqm.getInPrice2()&gt;<span class="hljs-number">0</span>){
                <span class="hljs-keyword">if</span>(book.getInPrice()&gt;bqm.getInPrice2()){
                    <span class="hljs-keyword">continue</span>;
                }
            }

            <span class="hljs-keyword">if</span>(bqm.getSalePrice()&gt;<span class="hljs-number">0</span>){
                <span class="hljs-keyword">if</span>(book.getSalePrice()&lt;bqm.getSalePrice()){
                    <span class="hljs-keyword">continue</span>;
                }
            }
            <span class="hljs-keyword">if</span>(bqm.getSalePrice2()&gt;<span class="hljs-number">0</span>){
                <span class="hljs-keyword">if</span>(book.getSalePrice()&gt;bqm.getSalePrice2()){
                    <span class="hljs-keyword">continue</span>;
                }
            }

            results.add(book);
        }

        <span class="hljs-keyword">return</span> results;
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> BookModel <span class="hljs-title">getSingle</span>(String uuid) {
        List&lt;BookModel&gt; list = FileIoUtil.readFormFile(FILE_NAME);
        <span class="hljs-keyword">for</span>(BookModel book:list){
            <span class="hljs-keyword">if</span>(book.getUuid().equals(uuid)){
                <span class="hljs-keyword">return</span> book;
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
    }

}
</code></pre>

<p>|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||</p>



<h2 id="bookdaofactory类">BookDaoFactory类：</h2>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.book.dao.factory;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.book.dao.dao.BookDao;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.book.dao.impl.BookDaoSerImpl;
<span class="hljs-javadoc">/**
 * 工厂方法
 * new一个实例
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookDaoFactory</span> {</span>
    <span class="hljs-javadoc">/**
     * 
     *<span class="hljs-javadoctag"> @return</span> BookDao接口的一个实例
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> BookDao <span class="hljs-title">getBookDao</span>(){
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BookDaoSerImpl();
    }
}
</code></pre>

<p>|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||</p>



<h2 id="逻辑层">逻辑层：</h2>



<h2 id="bookebi-接口">BookEbi 接口：</h2>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.book.business.ebi;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.book.vo.BookModel;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.book.vo.BookQueryModel;

<span class="hljs-javadoc">/**
 * 
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *
 *<span class="hljs-javadoctag"> @version</span> 1.0
 * 图书模块的逻辑层接口
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">BookEbi</span> {</span>

        <span class="hljs-javadoc">/**
         * 功能：创建一本图书
         * 
         *<span class="hljs-javadoctag"> @param</span> bookModel---将要创建的图书数据
         *<span class="hljs-javadoctag"> @return</span>---true表示创建成功，false表示创建失败
         */</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">create</span>(BookModel book);


        <span class="hljs-javadoc">/**
         * 功能：根据图书的唯一标识码uuid删除一本图书
         * 
         *<span class="hljs-javadoctag"> @param</span> uuid---图书唯一的标识码，每本图书都不会相同
         *<span class="hljs-javadoctag"> @return</span>---true表示删除成功，false表示删除失败
         */</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">delete</span>(String uuid);


        <span class="hljs-javadoc">/**
         * 功能：修改图书的数据资料
         * 
         *<span class="hljs-javadoctag"> @param</span> user---需要修改的图书数据参数名
         *<span class="hljs-javadoctag"> @return</span> 返回true-表示修改成功了，返回false-表示修改失败
         */</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">update</span>(BookModel book);


        <span class="hljs-javadoc">/**
         * 功能：得到所有的图书数据
         * 
         *<span class="hljs-javadoctag"> @return</span>---一个BookModel集合，也就是图书的数据
         */</span>
        <span class="hljs-keyword">public</span> List&lt;BookModel&gt; <span class="hljs-title">getAll</span>();


        <span class="hljs-javadoc">/**
         * 功能：按照一定的查找条件进行查找，
         * &lt;br/&gt;
         * 把满足查找条件的图书数据返回。
         * 
         *<span class="hljs-javadoctag"> @param</span> bqm---被封装的查找条件
         *<span class="hljs-javadoctag"> @return</span>---满足查找条件的图书数据集合
         */</span>
        <span class="hljs-keyword">public</span> List&lt;BookModel&gt; <span class="hljs-title">getbyCondition</span>(BookQueryModel bqm);


        <span class="hljs-javadoc">/**
         * 功能：得到一个确定的图书的数据资料
         * 
         *<span class="hljs-javadoctag"> @param</span> uuid---图书唯一标识码
         *<span class="hljs-javadoctag"> @return</span> ---返回按这个唯一标识码找到的图书数据
         */</span>
        <span class="hljs-keyword">public</span> BookModel <span class="hljs-title">getSingle</span>(String uuid);

    }
</code></pre>

<p>||||||||||||||||||||||||||||||||||||||||||||||||||</p>



<h2 id="bookebo-类">BookEbo 类：</h2>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.book.business.ebo;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.book.business.ebi.BookEbi;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.book.dao.dao.BookDao;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.book.dao.factory.BookDaoFactory;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.book.vo.BookModel;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.book.vo.BookQueryModel;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.common.UuidModelConstance;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.common.uuid.dao.factory.UuidDaoFactory;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.common.uuid.dao.impl.UuidDaoSerImpl;
<span class="hljs-javadoc">/**
 * 实现类
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookEbo</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">BookEbi</span> {</span>
    <span class="hljs-comment">//注入</span>
    BookDao dao = BookDaoFactory.getBookDao();

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">create</span>(BookModel book) {
        <span class="hljs-comment">//如果表现层中对book对象的数据没有封装完整，那么在这里要为它补全</span>
        <span class="hljs-comment">//调用uuid模块的dao层来自动获取当前book对象的uuid</span>
        String uuid = UuidDaoFactory.getUuidDao().getNextUuid(UuidModelConstance.BOOK);
        book.setUuid(uuid);
        <span class="hljs-keyword">return</span> dao.create(book);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">delete</span>(String uuid) {
        <span class="hljs-keyword">return</span> dao.delete(uuid);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">update</span>(BookModel book) {
        <span class="hljs-keyword">return</span> dao.update(book);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> List&lt;BookModel&gt; <span class="hljs-title">getAll</span>() {
        <span class="hljs-keyword">return</span> dao.getAll();
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> List&lt;BookModel&gt; <span class="hljs-title">getbyCondition</span>(BookQueryModel bqm) {
        <span class="hljs-keyword">return</span> dao.getbyCondition(bqm);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> BookModel <span class="hljs-title">getSingle</span>(String uuid) {
        <span class="hljs-keyword">return</span> dao.getSingle(uuid);
    }

}
</code></pre>

<p>||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||</p>



<h2 id="bookebifactory-类">BookEbiFactory 类：</h2>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.book.business.factory;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.book.business.ebi.BookEbi;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.book.business.ebo.BookEbo;
<span class="hljs-javadoc">/**
 * 工厂方法
 *new 一个实例
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookEbiFactory</span> {</span>

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> BookEbi <span class="hljs-title">getBookEbi</span>(){
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BookEbo();
    }
}
</code></pre>



<h2 id="表现层">表现层：</h2>



<h2 id="booklistpanel-类图书列表界面">BookListPanel 类：图书列表界面</h2>



<pre class="prettyprint"><code class=" hljs avrasm"><span class="hljs-comment">/*
 * BookListPanel.java
 *
 * Created on __DATE__, __TIME__
 */</span>

package cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.ui</span><span class="hljs-comment">;</span>

import java<span class="hljs-preprocessor">.util</span><span class="hljs-preprocessor">.List</span><span class="hljs-comment">;</span>

import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JFrame</span><span class="hljs-comment">;</span>
import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JOptionPane</span><span class="hljs-comment">;</span>

import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.factory</span><span class="hljs-preprocessor">.BookEbiFactory</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.BookModel</span><span class="hljs-comment">;</span>

<span class="hljs-comment">/**
 *
 * @author  __USER__
 */</span>
public class BookListPanel extends javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPanel</span> {
    private JFrame mainFrame = null<span class="hljs-comment">;</span>

    <span class="hljs-comment">/** Creates new form BookListPanel */</span>
    public BookListPanel(JFrame mainFrame) {
        this<span class="hljs-preprocessor">.mainFrame</span> = mainFrame<span class="hljs-comment">;</span>
        initComponents()<span class="hljs-comment">;</span>
        myInitData()<span class="hljs-comment">;</span>
    }

    public BookListPanel(JFrame mainFrame, List&lt;BookModel&gt; results) {
        this<span class="hljs-preprocessor">.mainFrame</span>=mainFrame<span class="hljs-comment">;</span>
        initComponents()<span class="hljs-comment">;</span>
        bookLists<span class="hljs-preprocessor">.setListData</span>(results<span class="hljs-preprocessor">.toArray</span>())<span class="hljs-comment">;</span>
    }

    private void myInitData() {
        List&lt;BookModel&gt; lists = BookEbiFactory<span class="hljs-preprocessor">.getBookEbi</span>()<span class="hljs-preprocessor">.getAll</span>()<span class="hljs-comment">;</span>
        bookLists<span class="hljs-preprocessor">.setListData</span>(lists<span class="hljs-preprocessor">.toArray</span>())<span class="hljs-comment">;</span>

    }

    //GEN-BEGIN:initComponents
    // &lt;editor-fold defaultstate=<span class="hljs-string">"collapsed"</span> desc=<span class="hljs-string">"Generated Code"</span>&gt;
    private void initComponents() {

        jScrollPane1 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JScrollPane</span>()<span class="hljs-comment">;</span>
        bookLists = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JList</span>()<span class="hljs-comment">;</span>
        jLabel1 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        btnToAdd = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>
        btnToDelete = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>
        btnToUpdate = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>
        btnToQuery = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>

        setMinimumSize(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Dimension</span>(<span class="hljs-number">800</span>, <span class="hljs-number">600</span>))<span class="hljs-comment">;</span>
        setPreferredSize(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Dimension</span>(<span class="hljs-number">800</span>, <span class="hljs-number">600</span>))<span class="hljs-comment">;</span>
        setLayout(null)<span class="hljs-comment">;</span>

        bookLists<span class="hljs-preprocessor">.setModel</span>(new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.AbstractListModel</span>() {
            String[] strings = { <span class="hljs-string">""</span> }<span class="hljs-comment">;</span>

            public int getSize() {
                return strings<span class="hljs-preprocessor">.length</span><span class="hljs-comment">;</span>
            }

            public Object getElementAt(int i) {
                return strings[i]<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        jScrollPane1<span class="hljs-preprocessor">.setViewportView</span>(bookLists)<span class="hljs-comment">;</span>

        <span class="hljs-keyword">add</span>(jScrollPane1)<span class="hljs-comment">;</span>
        jScrollPane1<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">170</span>, <span class="hljs-number">80</span>, <span class="hljs-number">480</span>, <span class="hljs-number">230</span>)<span class="hljs-comment">;</span>

        jLabel1<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">48</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">204</span>, <span class="hljs-number">0</span>, <span class="hljs-number">51</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u56fe\u4e66\u5217\u8868"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel1)<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">300</span>, <span class="hljs-number">0</span>, <span class="hljs-number">260</span>, <span class="hljs-number">80</span>)<span class="hljs-comment">;</span>

        btnToAdd<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnToAdd<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">102</span>, <span class="hljs-number">102</span>))<span class="hljs-comment">;</span>
        btnToAdd<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u6dfb\u52a0\u56fe\u4e66"</span>)<span class="hljs-comment">;</span>
        btnToAdd<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnToAddActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnToAdd)<span class="hljs-comment">;</span>
        btnToAdd<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">160</span>, <span class="hljs-number">350</span>, <span class="hljs-number">150</span>, <span class="hljs-number">50</span>)<span class="hljs-comment">;</span>

        btnToDelete<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnToDelete<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">102</span>, <span class="hljs-number">102</span>))<span class="hljs-comment">;</span>
        btnToDelete<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u5220\u9664\u56fe\u4e66"</span>)<span class="hljs-comment">;</span>
        btnToDelete<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnToDeleteActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnToDelete)<span class="hljs-comment">;</span>
        btnToDelete<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">510</span>, <span class="hljs-number">350</span>, <span class="hljs-number">150</span>, <span class="hljs-number">50</span>)<span class="hljs-comment">;</span>

        btnToUpdate<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnToUpdate<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">102</span>, <span class="hljs-number">102</span>))<span class="hljs-comment">;</span>
        btnToUpdate<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u4fee\u6539\u56fe\u4e66"</span>)<span class="hljs-comment">;</span>
        btnToUpdate<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnToUpdateActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnToUpdate)<span class="hljs-comment">;</span>
        btnToUpdate<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">160</span>, <span class="hljs-number">450</span>, <span class="hljs-number">150</span>, <span class="hljs-number">50</span>)<span class="hljs-comment">;</span>

        btnToQuery<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnToQuery<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">102</span>, <span class="hljs-number">102</span>))<span class="hljs-comment">;</span>
        btnToQuery<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u67e5\u627e\u56fe\u4e66"</span>)<span class="hljs-comment">;</span>
        btnToQuery<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnToQueryActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnToQuery)<span class="hljs-comment">;</span>
        btnToQuery<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">510</span>, <span class="hljs-number">450</span>, <span class="hljs-number">150</span>, <span class="hljs-number">50</span>)<span class="hljs-comment">;</span>
    }// &lt;/editor-fold&gt;
    //GEN-END:initComponents

    private void btnToQueryActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        mainFrame<span class="hljs-preprocessor">.setContentPane</span>(new BookQueryPanel(mainFrame))<span class="hljs-comment">;</span>
        mainFrame<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>
    }

    private void btnToUpdateActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        BookModel book = (BookModel) bookLists<span class="hljs-preprocessor">.getSelectedValue</span>()<span class="hljs-comment">;</span>
        if(book==null){
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"请选择要修改的图书！"</span>)<span class="hljs-comment">;</span>
            return <span class="hljs-comment">;</span>
        }
        String uuid  = book<span class="hljs-preprocessor">.getUuid</span>()<span class="hljs-comment">;</span>

        mainFrame<span class="hljs-preprocessor">.setContentPane</span>(new BookUpdatePanel(mainFrame,uuid))<span class="hljs-comment">;</span>
        mainFrame<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>


    }

    private void btnToDeleteActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        BookModel book = (BookModel) bookLists<span class="hljs-preprocessor">.getSelectedValue</span>()<span class="hljs-comment">;</span>
        //System<span class="hljs-preprocessor">.out</span><span class="hljs-preprocessor">.println</span>(book)<span class="hljs-comment">;</span>
        if(book==null){
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"请选择要删除的图书！"</span>)<span class="hljs-comment">;</span>
            return <span class="hljs-comment">;</span>
        }
        String uuid  = book<span class="hljs-preprocessor">.getUuid</span>()<span class="hljs-comment">;</span>

        mainFrame<span class="hljs-preprocessor">.setContentPane</span>(new BookDeletePanel(mainFrame,uuid))<span class="hljs-comment">;</span>
        mainFrame<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>
    }

    private void btnToAddActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        mainFrame<span class="hljs-preprocessor">.setContentPane</span>(new BookAddPanel(mainFrame))<span class="hljs-comment">;</span>
        mainFrame<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>
    }

    //GEN-BEGIN:variables
    // Variables declaration - do not modify
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JList</span> bookLists<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnToAdd<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnToDelete<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnToQuery<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnToUpdate<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel1<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JScrollPane</span> jScrollPane1<span class="hljs-comment">;</span>
    // End of variables declaration//GEN-END:variables

}</code></pre>

<p>||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||</p>



<h2 id="bookaddpanel-类添加界面">BookAddPanel 类：添加界面：</h2>



<pre class="prettyprint"><code class=" hljs avrasm"><span class="hljs-comment">/*
 * BookAddPanel.java
 *
 * Created on __DATE__, __TIME__
 */</span>

package cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.ui</span><span class="hljs-comment">;</span>

import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JFrame</span><span class="hljs-comment">;</span>
import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JOptionPane</span><span class="hljs-comment">;</span>

import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.ebi</span><span class="hljs-preprocessor">.BookEbi</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.factory</span><span class="hljs-preprocessor">.BookEbiFactory</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.BookModel</span><span class="hljs-comment">;</span>

<span class="hljs-comment">/**
 * 
 * @author 陈浩翔
 *
 * @version 1.0
 */</span>
public class BookAddPanel extends javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPanel</span> {
    private JFrame mainFrame = null<span class="hljs-comment">;</span>

    <span class="hljs-comment">/** Creates new form BookAddPanel 
     * @param mainFrame */</span>
    public BookAddPanel(JFrame mainFrame) {
        this<span class="hljs-preprocessor">.mainFrame</span> = mainFrame<span class="hljs-comment">;</span>
        initComponents()<span class="hljs-comment">;</span>
    }

    <span class="hljs-comment">/** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */</span>
    //GEN-BEGIN:initComponents
    // &lt;editor-fold defaultstate=<span class="hljs-string">"collapsed"</span> desc=<span class="hljs-string">"Generated Code"</span>&gt;
    private void initComponents() {

        jLabel1 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdName = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel4 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        btnAdd = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>
        btnBack = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>
        tfdInPrice = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel5 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdSalePrice = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel6 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>

        setMinimumSize(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Dimension</span>(<span class="hljs-number">800</span>, <span class="hljs-number">600</span>))<span class="hljs-comment">;</span>
        setLayout(null)<span class="hljs-comment">;</span>

        jLabel1<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">48</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">204</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u6dfb\u52a0\u56fe\u4e66"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel1)<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">280</span>, <span class="hljs-number">40</span>, <span class="hljs-number">230</span>, <span class="hljs-number">80</span>)<span class="hljs-comment">;</span>

        tfdName<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setAutoscrolls</span>(false)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdName)<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">280</span>, <span class="hljs-number">170</span>, <span class="hljs-number">150</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel4<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u56fe\u4e66\u540d\u79f0:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel4)<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">180</span>, <span class="hljs-number">170</span>, <span class="hljs-number">90</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        btnAdd<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnAdd<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>))<span class="hljs-comment">;</span>
        btnAdd<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u6dfb\u52a0"</span>)<span class="hljs-comment">;</span>
        btnAdd<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnAddActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnAdd)<span class="hljs-comment">;</span>
        btnAdd<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">140</span>, <span class="hljs-number">440</span>, <span class="hljs-number">120</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>

        btnBack<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fd4\u56de"</span>)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnBackActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnBack)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">520</span>, <span class="hljs-number">440</span>, <span class="hljs-number">120</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>

        tfdInPrice<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        tfdInPrice<span class="hljs-preprocessor">.setAutoscrolls</span>(false)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdInPrice)<span class="hljs-comment">;</span>
        tfdInPrice<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">280</span>, <span class="hljs-number">250</span>, <span class="hljs-number">150</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel5<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel5<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fdb\u8d27\u4ef7\u683c\uff1a"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel5)<span class="hljs-comment">;</span>
        jLabel5<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">180</span>, <span class="hljs-number">250</span>, <span class="hljs-number">90</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdSalePrice<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        tfdSalePrice<span class="hljs-preprocessor">.setAutoscrolls</span>(false)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdSalePrice)<span class="hljs-comment">;</span>
        tfdSalePrice<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">280</span>, <span class="hljs-number">330</span>, <span class="hljs-number">150</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel6<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel6<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u552e\u8d27\u4ef7\u683c\uff1a"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel6)<span class="hljs-comment">;</span>
        jLabel6<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">180</span>, <span class="hljs-number">330</span>, <span class="hljs-number">90</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>
    }// &lt;/editor-fold&gt;
    //GEN-END:initComponents

    private void btnBackActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        back()<span class="hljs-comment">;</span>
    }

    private void back() {
        mainFrame<span class="hljs-preprocessor">.setContentPane</span>(new BookListPanel(mainFrame))<span class="hljs-comment">;</span>
        mainFrame<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>
    }

    private void btnAddActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        //<span class="hljs-number">1</span>收集参数
        String name = tfdName<span class="hljs-preprocessor">.getText</span>()<span class="hljs-comment">;</span>
        double inPrice = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
        double salePrice = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
        try {
            inPrice = Double<span class="hljs-preprocessor">.parseDouble</span>(tfdInPrice<span class="hljs-preprocessor">.getText</span>())<span class="hljs-comment">;</span>
            salePrice = Double<span class="hljs-preprocessor">.parseDouble</span>(tfdSalePrice<span class="hljs-preprocessor">.getText</span>())<span class="hljs-comment">;</span>
        } catch (NumberFormatException e1) {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"价格的格式错误，请重新输入！"</span>)<span class="hljs-comment">;</span>
            return<span class="hljs-comment">;</span>
        }


        if (name<span class="hljs-preprocessor">.equals</span>(<span class="hljs-string">""</span>) || name<span class="hljs-preprocessor">.equals</span>(null)) {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"用户名为空，请重新输入！"</span>)<span class="hljs-comment">;</span>
            return<span class="hljs-comment">;</span>
        }

        //<span class="hljs-number">2</span>组织参数
        BookModel book = new BookModel()<span class="hljs-comment">;</span>
        book<span class="hljs-preprocessor">.setName</span>(name)<span class="hljs-comment">;</span>
        book<span class="hljs-preprocessor">.setInPrice</span>(inPrice)<span class="hljs-comment">;</span>
        book<span class="hljs-preprocessor">.setSalePrice</span>(salePrice)<span class="hljs-comment">;</span>

        //<span class="hljs-number">3</span>调用逻辑层
        BookEbi ebi = BookEbiFactory<span class="hljs-preprocessor">.getBookEbi</span>()<span class="hljs-comment">;</span>

        //<span class="hljs-number">4</span>根据调用返回结果导向不同页面
        if (ebi<span class="hljs-preprocessor">.create</span>(book)) {
            back()<span class="hljs-comment">;</span>
        } else {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(null, <span class="hljs-string">"该图书已经存在!"</span>)<span class="hljs-comment">;</span>
        }
    }

    //GEN-BEGIN:variables
    // Variables declaration - do not modify
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnAdd<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnBack<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel1<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel4<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel5<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel6<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdInPrice<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdName<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdSalePrice<span class="hljs-comment">;</span>
    // End of variables declaration//GEN-END:variables

}</code></pre>

<p>||||||||||||||||||||||||||||||||||||||||||||||||||||||</p>



<h2 id="bookdeletepanel-类删除界面">BookDeletePanel 类：删除界面：</h2>



<pre class="prettyprint"><code class=" hljs avrasm"><span class="hljs-comment">/*
 * BookDeletePanel.java
 *
 * Created on __DATE__, __TIME__
 */</span>

package cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.ui</span><span class="hljs-comment">;</span>

import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JFrame</span><span class="hljs-comment">;</span>
import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JOptionPane</span><span class="hljs-comment">;</span>

import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.ebi</span><span class="hljs-preprocessor">.BookEbi</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.factory</span><span class="hljs-preprocessor">.BookEbiFactory</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.BookModel</span><span class="hljs-comment">;</span>

<span class="hljs-comment">/**
 * 
 * @author 陈浩翔
 *
 * @version 1.0
 */</span>
public class BookDeletePanel extends javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPanel</span> {
    private JFrame mainFrame = null<span class="hljs-comment">;</span>
    private String uuid = null<span class="hljs-comment">;</span>

    <span class="hljs-comment">/** Creates new form BookDeletePanel 
     * @param mainFrame 
     * @param uuid */</span>
    public BookDeletePanel(JFrame mainFrame, String uuid) {
        this<span class="hljs-preprocessor">.mainFrame</span> = mainFrame<span class="hljs-comment">;</span>
        this<span class="hljs-preprocessor">.uuid</span> = uuid<span class="hljs-comment">;</span>
        initComponents()<span class="hljs-comment">;</span>
        myInitData()<span class="hljs-comment">;</span>
    }

    private void myInitData() {
        BookModel book = BookEbiFactory<span class="hljs-preprocessor">.getBookEbi</span>()<span class="hljs-preprocessor">.getSingle</span>(uuid)<span class="hljs-comment">;</span>
        //System<span class="hljs-preprocessor">.out</span><span class="hljs-preprocessor">.println</span>(book)<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setText</span>(book<span class="hljs-preprocessor">.getName</span>())<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setEditable</span>(false)<span class="hljs-comment">;</span>

        tfdUuid<span class="hljs-preprocessor">.setText</span>(book<span class="hljs-preprocessor">.getUuid</span>())<span class="hljs-comment">;</span>
        tfdUuid<span class="hljs-preprocessor">.setEditable</span>(false)<span class="hljs-comment">;</span>

        tfdInPrice<span class="hljs-preprocessor">.setText</span>(String<span class="hljs-preprocessor">.valueOf</span>(book<span class="hljs-preprocessor">.getInPrice</span>()))<span class="hljs-comment">;</span>
        tfdInPrice<span class="hljs-preprocessor">.setEditable</span>(false)<span class="hljs-comment">;</span>

        tfdSalePrice<span class="hljs-preprocessor">.setText</span>(String<span class="hljs-preprocessor">.valueOf</span>(book<span class="hljs-preprocessor">.getSalePrice</span>()))<span class="hljs-comment">;</span>
        tfdSalePrice<span class="hljs-preprocessor">.setEditable</span>(false)<span class="hljs-comment">;</span>

    }

    <span class="hljs-comment">/** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */</span>
    //GEN-BEGIN:initComponents
    // &lt;editor-fold defaultstate=<span class="hljs-string">"collapsed"</span> desc=<span class="hljs-string">"Generated Code"</span>&gt;
    private void initComponents() {

        jLabel1 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdName = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel3 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdUuid = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel4 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        btnDelete = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>
        btnBack = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>
        tfdInPrice = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel5 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdSalePrice = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel6 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>

        setMinimumSize(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Dimension</span>(<span class="hljs-number">800</span>, <span class="hljs-number">600</span>))<span class="hljs-comment">;</span>
        setLayout(null)<span class="hljs-comment">;</span>

        jLabel1<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">48</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">204</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u5220\u9664\u56fe\u4e66"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel1)<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">280</span>, <span class="hljs-number">40</span>, <span class="hljs-number">230</span>, <span class="hljs-number">80</span>)<span class="hljs-comment">;</span>

        tfdName<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setAutoscrolls</span>(false)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdName)<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">480</span>, <span class="hljs-number">190</span>, <span class="hljs-number">150</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel3<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel3<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"uuid:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel3)<span class="hljs-comment">;</span>
        jLabel3<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">130</span>, <span class="hljs-number">190</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdUuid<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">12</span>))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdUuid)<span class="hljs-comment">;</span>
        tfdUuid<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">200</span>, <span class="hljs-number">190</span>, <span class="hljs-number">110</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel4<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u56fe\u4e66\u540d\u79f0:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel4)<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">380</span>, <span class="hljs-number">190</span>, <span class="hljs-number">90</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        btnDelete<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnDelete<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>))<span class="hljs-comment">;</span>
        btnDelete<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u5220\u9664"</span>)<span class="hljs-comment">;</span>
        btnDelete<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnDeleteActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnDelete)<span class="hljs-comment">;</span>
        btnDelete<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">140</span>, <span class="hljs-number">440</span>, <span class="hljs-number">120</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>

        btnBack<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fd4\u56de"</span>)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnBackActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnBack)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">520</span>, <span class="hljs-number">440</span>, <span class="hljs-number">120</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>

        tfdInPrice<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        tfdInPrice<span class="hljs-preprocessor">.setAutoscrolls</span>(false)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdInPrice)<span class="hljs-comment">;</span>
        tfdInPrice<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">200</span>, <span class="hljs-number">300</span>, <span class="hljs-number">150</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel5<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel5<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fdb\u8d27\u4ef7\u683c\uff1a"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel5)<span class="hljs-comment">;</span>
        jLabel5<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">100</span>, <span class="hljs-number">300</span>, <span class="hljs-number">90</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdSalePrice<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        tfdSalePrice<span class="hljs-preprocessor">.setAutoscrolls</span>(false)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdSalePrice)<span class="hljs-comment">;</span>
        tfdSalePrice<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">480</span>, <span class="hljs-number">300</span>, <span class="hljs-number">150</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel6<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel6<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u552e\u8d27\u4ef7\u683c\uff1a"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel6)<span class="hljs-comment">;</span>
        jLabel6<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">380</span>, <span class="hljs-number">300</span>, <span class="hljs-number">90</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>
    }// &lt;/editor-fold&gt;
    //GEN-END:initComponents

    private void btnBackActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        back()<span class="hljs-comment">;</span>
    }

    private void back() {
        mainFrame<span class="hljs-preprocessor">.setContentPane</span>(new BookListPanel(mainFrame))<span class="hljs-comment">;</span>
        mainFrame<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>
    }

    private void btnDeleteActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        //<span class="hljs-number">1</span>收集参数
        //<span class="hljs-number">2</span>组织参数
        //<span class="hljs-number">3</span>调用逻辑层

        //<span class="hljs-number">4</span>根据调用返回结果导向不同页面
        boolean isFlag = BookEbiFactory<span class="hljs-preprocessor">.getBookEbi</span>()<span class="hljs-preprocessor">.delete</span>(uuid)<span class="hljs-comment">;</span>
        if (isFlag) {
            back()<span class="hljs-comment">;</span>
        } else {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(null, <span class="hljs-string">"该图书已经不存在!"</span>)<span class="hljs-comment">;</span>
        }
    }

    //GEN-BEGIN:variables
    // Variables declaration - do not modify
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnBack<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnDelete<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel1<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel3<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel4<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel5<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel6<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdInPrice<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdName<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdSalePrice<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdUuid<span class="hljs-comment">;</span>
    // End of variables declaration//GEN-END:variables

}</code></pre>

<p>|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||</p>



<h2 id="bookquerypanel-类查询界面">BookQueryPanel 类：查询界面：</h2>



<pre class="prettyprint"><code class=" hljs avrasm"><span class="hljs-comment">/*
 * BookQueryPanel.java
 *
 * Created on __DATE__, __TIME__
 */</span>

package cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.ui</span><span class="hljs-comment">;</span>

import java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span><span class="hljs-comment">;</span>
import java<span class="hljs-preprocessor">.util</span><span class="hljs-preprocessor">.List</span><span class="hljs-comment">;</span>

import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JFrame</span><span class="hljs-comment">;</span>
import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JOptionPane</span><span class="hljs-comment">;</span>

import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.ebi</span><span class="hljs-preprocessor">.BookEbi</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.factory</span><span class="hljs-preprocessor">.BookEbiFactory</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.BookModel</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.BookQueryModel</span><span class="hljs-comment">;</span>

<span class="hljs-comment">/**
 * 
 * @author 陈浩翔
 *
 * @version 1.0
 */</span>
public class BookQueryPanel extends javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPanel</span> {
    private JFrame mainFrame = null<span class="hljs-comment">;</span>

    <span class="hljs-comment">/** Creates new form BookQueryPanel 
     * @param mainFrame */</span>
    public BookQueryPanel(JFrame mainFrame) {
        this<span class="hljs-preprocessor">.mainFrame</span> = mainFrame<span class="hljs-comment">;</span>
        initComponents()<span class="hljs-comment">;</span>
    }

    <span class="hljs-comment">/** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */</span>
    //GEN-BEGIN:initComponents
    // &lt;editor-fold defaultstate=<span class="hljs-string">"collapsed"</span> desc=<span class="hljs-string">"Generated Code"</span>&gt;
    private void initComponents() {

        jLabel1 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdName = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel3 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdUuid = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel4 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        btnQuery = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>
        btnBack = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>
        tfdInPrice = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel5 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdSalePrice = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel6 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdInPrice2 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel11 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdSalePrice2 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel12 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>

        setMinimumSize(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Dimension</span>(<span class="hljs-number">800</span>, <span class="hljs-number">600</span>))<span class="hljs-comment">;</span>
        setLayout(null)<span class="hljs-comment">;</span>

        jLabel1<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">48</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">204</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u67e5\u627e\u56fe\u4e66"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel1)<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">280</span>, <span class="hljs-number">40</span>, <span class="hljs-number">230</span>, <span class="hljs-number">80</span>)<span class="hljs-comment">;</span>

        tfdName<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setAutoscrolls</span>(false)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdName)<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">520</span>, <span class="hljs-number">190</span>, <span class="hljs-number">150</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel3<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel3<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"uuid:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel3)<span class="hljs-comment">;</span>
        jLabel3<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">130</span>, <span class="hljs-number">190</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdUuid<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">12</span>))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdUuid)<span class="hljs-comment">;</span>
        tfdUuid<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">200</span>, <span class="hljs-number">190</span>, <span class="hljs-number">150</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel4<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u56fe\u4e66\u540d\u79f0:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel4)<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">420</span>, <span class="hljs-number">190</span>, <span class="hljs-number">90</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        btnQuery<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnQuery<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>))<span class="hljs-comment">;</span>
        btnQuery<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u67e5\u627e"</span>)<span class="hljs-comment">;</span>
        btnQuery<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnQueryActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnQuery)<span class="hljs-comment">;</span>
        btnQuery<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">140</span>, <span class="hljs-number">470</span>, <span class="hljs-number">120</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>

        btnBack<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fd4\u56de"</span>)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnBackActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnBack)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">490</span>, <span class="hljs-number">470</span>, <span class="hljs-number">120</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>

        tfdInPrice<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        tfdInPrice<span class="hljs-preprocessor">.setAutoscrolls</span>(false)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdInPrice)<span class="hljs-comment">;</span>
        tfdInPrice<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">200</span>, <span class="hljs-number">280</span>, <span class="hljs-number">150</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel5<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel5<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fdb\u8d27\u6700\u4f4e\u4ef7\u683c\uff1a"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel5)<span class="hljs-comment">;</span>
        jLabel5<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">60</span>, <span class="hljs-number">280</span>, <span class="hljs-number">130</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdSalePrice<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        tfdSalePrice<span class="hljs-preprocessor">.setAutoscrolls</span>(false)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdSalePrice)<span class="hljs-comment">;</span>
        tfdSalePrice<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">200</span>, <span class="hljs-number">370</span>, <span class="hljs-number">150</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel6<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel6<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u552e\u8d27\u6700\u4f4e\u4ef7\u683c\uff1a"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel6)<span class="hljs-comment">;</span>
        jLabel6<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">60</span>, <span class="hljs-number">370</span>, <span class="hljs-number">130</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdInPrice2<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        tfdInPrice2<span class="hljs-preprocessor">.setAutoscrolls</span>(false)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdInPrice2)<span class="hljs-comment">;</span>
        tfdInPrice2<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">520</span>, <span class="hljs-number">280</span>, <span class="hljs-number">150</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel11<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel11<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fdb\u8d27\u6700\u9ad8\u4ef7\u683c\uff1a"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel11)<span class="hljs-comment">;</span>
        jLabel11<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">380</span>, <span class="hljs-number">280</span>, <span class="hljs-number">130</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdSalePrice2<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        tfdSalePrice2<span class="hljs-preprocessor">.setAutoscrolls</span>(false)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdSalePrice2)<span class="hljs-comment">;</span>
        tfdSalePrice2<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">520</span>, <span class="hljs-number">370</span>, <span class="hljs-number">150</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel12<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel12<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u552e\u8d27\u6700\u9ad8\u4ef7\u683c\uff1a"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel12)<span class="hljs-comment">;</span>
        jLabel12<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">380</span>, <span class="hljs-number">370</span>, <span class="hljs-number">130</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>
    }// &lt;/editor-fold&gt;
    //GEN-END:initComponents

    protected void btnQueryActionPerformed(ActionEvent evt) {
        //<span class="hljs-number">1</span>收集参数
        String uuid = tfdUuid<span class="hljs-preprocessor">.getText</span>()<span class="hljs-comment">;</span>
        String name = tfdName<span class="hljs-preprocessor">.getText</span>()<span class="hljs-comment">;</span>
        double inPrice = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
        double inPrice2 = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
        double salePrice = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
        double salePrice2 = <span class="hljs-number">0</span><span class="hljs-comment">;</span>

        if (tfdInPrice<span class="hljs-preprocessor">.getText</span>() != null
                &amp;&amp; tfdInPrice<span class="hljs-preprocessor">.getText</span>()<span class="hljs-preprocessor">.trim</span>()<span class="hljs-preprocessor">.length</span>() &gt; <span class="hljs-number">0</span>) {
            try {
                inPrice = Double<span class="hljs-preprocessor">.parseDouble</span>(tfdInPrice<span class="hljs-preprocessor">.getText</span>())<span class="hljs-comment">;</span>
            } catch (NumberFormatException e) {
                JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"最低进价输入格式错误!"</span>)<span class="hljs-comment">;</span>
                return<span class="hljs-comment">;</span>
            }
        }

        if (tfdInPrice2<span class="hljs-preprocessor">.getText</span>() != null
                &amp;&amp; tfdInPrice2<span class="hljs-preprocessor">.getText</span>()<span class="hljs-preprocessor">.trim</span>()<span class="hljs-preprocessor">.length</span>() &gt; <span class="hljs-number">0</span>) {
            try {
                inPrice2 = Double<span class="hljs-preprocessor">.parseDouble</span>(tfdInPrice2<span class="hljs-preprocessor">.getText</span>())<span class="hljs-comment">;</span>
            } catch (NumberFormatException e) {
                JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"最高进价输入格式错误!"</span>)<span class="hljs-comment">;</span>
                return<span class="hljs-comment">;</span>
            }
        }

        if (tfdSalePrice<span class="hljs-preprocessor">.getText</span>() != null
                &amp;&amp; tfdSalePrice<span class="hljs-preprocessor">.getText</span>()<span class="hljs-preprocessor">.trim</span>()<span class="hljs-preprocessor">.length</span>() &gt; <span class="hljs-number">0</span>) {
            try {
                salePrice = Double<span class="hljs-preprocessor">.parseDouble</span>(tfdSalePrice<span class="hljs-preprocessor">.getText</span>())<span class="hljs-comment">;</span>
            } catch (NumberFormatException e) {
                JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"最低进价输入格式错误!"</span>)<span class="hljs-comment">;</span>
                return<span class="hljs-comment">;</span>
            }
        }

        if (tfdSalePrice2<span class="hljs-preprocessor">.getText</span>() != null
                &amp;&amp; tfdSalePrice2<span class="hljs-preprocessor">.getText</span>()<span class="hljs-preprocessor">.trim</span>()<span class="hljs-preprocessor">.length</span>() &gt; <span class="hljs-number">0</span>) {
            try {
                salePrice2 = Double<span class="hljs-preprocessor">.parseDouble</span>(tfdSalePrice2<span class="hljs-preprocessor">.getText</span>())<span class="hljs-comment">;</span>
            } catch (NumberFormatException e) {
                JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"最低进价输入格式错误!"</span>)<span class="hljs-comment">;</span>
                return<span class="hljs-comment">;</span>
            }
        }
        //<span class="hljs-number">2</span>组织参数
        BookQueryModel bqm = new BookQueryModel()<span class="hljs-comment">;</span>
        bqm<span class="hljs-preprocessor">.setUuid</span>(uuid)<span class="hljs-comment">;</span>
        bqm<span class="hljs-preprocessor">.setName</span>(name)<span class="hljs-comment">;</span>
        bqm<span class="hljs-preprocessor">.setInPrice</span>(inPrice)<span class="hljs-comment">;</span>
        bqm<span class="hljs-preprocessor">.setInPrice</span>2(inPrice2)<span class="hljs-comment">;</span>
        bqm<span class="hljs-preprocessor">.setSalePrice</span>(salePrice)<span class="hljs-comment">;</span>
        bqm<span class="hljs-preprocessor">.setSalePrice</span>2(salePrice2)<span class="hljs-comment">;</span>

        //<span class="hljs-number">3</span>调用逻辑层
        BookEbi ebi = BookEbiFactory<span class="hljs-preprocessor">.getBookEbi</span>()<span class="hljs-comment">;</span>
        List&lt;BookModel&gt; results = ebi<span class="hljs-preprocessor">.getbyCondition</span>(bqm)<span class="hljs-comment">;</span>

        //<span class="hljs-number">4</span>根据调用返回结果导向不同页面
        mainFrame<span class="hljs-preprocessor">.setContentPane</span>(new BookListPanel(mainFrame, results))<span class="hljs-comment">;</span>
        mainFrame<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>

    }

    private void btnBackActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        back()<span class="hljs-comment">;</span>
    }

    private void back() {
        mainFrame<span class="hljs-preprocessor">.setContentPane</span>(new BookListPanel(mainFrame))<span class="hljs-comment">;</span>
        mainFrame<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>
    }

    //GEN-BEGIN:variables
    // Variables declaration - do not modify
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnBack<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnQuery<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel1<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel11<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel12<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel3<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel4<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel5<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel6<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdInPrice<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdInPrice2<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdName<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdSalePrice<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdSalePrice2<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdUuid<span class="hljs-comment">;</span>
    // End of variables declaration//GEN-END:variables

}</code></pre>

<p>|||||||||||||||||||||||||||||||||||||||||||||||||||||||</p>



<h2 id="bookupdatepanel类修改界面">BookUpdatePanel类：修改界面：</h2>



<pre class="prettyprint"><code class=" hljs avrasm"><span class="hljs-comment">/*
 * BookUpdatePanel.java
 *
 * Created on __DATE__, __TIME__
 */</span>

package cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.ui</span><span class="hljs-comment">;</span>

import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JFrame</span><span class="hljs-comment">;</span>
import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JOptionPane</span><span class="hljs-comment">;</span>

import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.ebi</span><span class="hljs-preprocessor">.BookEbi</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.factory</span><span class="hljs-preprocessor">.BookEbiFactory</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.book</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.BookModel</span><span class="hljs-comment">;</span>

<span class="hljs-comment">/**
 * 
 * @author 陈浩翔
 *
 * @version 1.0
 */</span>
public class BookUpdatePanel extends javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPanel</span> {
    private JFrame mainFrame = null<span class="hljs-comment">;</span>
    private String uuid = null<span class="hljs-comment">;</span>

    <span class="hljs-comment">/** Creates new form BookUpdatePanel 
     * @param uuid 
     * @param mainFrame */</span>
    public BookUpdatePanel(JFrame mainFrame, String uuid) {
        this<span class="hljs-preprocessor">.mainFrame</span> = mainFrame<span class="hljs-comment">;</span>
        this<span class="hljs-preprocessor">.uuid</span> = uuid<span class="hljs-comment">;</span>
        initComponents()<span class="hljs-comment">;</span>
        myInitData()<span class="hljs-comment">;</span>
    }

    private void myInitData() {
        BookModel book = BookEbiFactory<span class="hljs-preprocessor">.getBookEbi</span>()<span class="hljs-preprocessor">.getSingle</span>(uuid)<span class="hljs-comment">;</span>

        tfdUuid<span class="hljs-preprocessor">.setText</span>(uuid)<span class="hljs-comment">;</span>
        tfdUuid<span class="hljs-preprocessor">.setEditable</span>(false)<span class="hljs-comment">;</span>

        tfdName<span class="hljs-preprocessor">.setText</span>(book<span class="hljs-preprocessor">.getName</span>())<span class="hljs-comment">;</span>
        tfdInPrice<span class="hljs-preprocessor">.setText</span>(String<span class="hljs-preprocessor">.valueOf</span>(book<span class="hljs-preprocessor">.getInPrice</span>()))<span class="hljs-comment">;</span>
        tfdSalePrice<span class="hljs-preprocessor">.setText</span>(String<span class="hljs-preprocessor">.valueOf</span>(book<span class="hljs-preprocessor">.getSalePrice</span>()))<span class="hljs-comment">;</span>

    }

    <span class="hljs-comment">/** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */</span>
    //GEN-BEGIN:initComponents
    // &lt;editor-fold defaultstate=<span class="hljs-string">"collapsed"</span> desc=<span class="hljs-string">"Generated Code"</span>&gt;
    private void initComponents() {

        jLabel1 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdName = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel3 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdUuid = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel4 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        btnUpdata = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>
        btnBack = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>
        tfdInPrice = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel5 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdSalePrice = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel6 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>

        setMinimumSize(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Dimension</span>(<span class="hljs-number">800</span>, <span class="hljs-number">600</span>))<span class="hljs-comment">;</span>
        setLayout(null)<span class="hljs-comment">;</span>

        jLabel1<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">48</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">204</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u4fee\u6539\u56fe\u4e66"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel1)<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">280</span>, <span class="hljs-number">40</span>, <span class="hljs-number">230</span>, <span class="hljs-number">80</span>)<span class="hljs-comment">;</span>

        tfdName<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setAutoscrolls</span>(false)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdName)<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">480</span>, <span class="hljs-number">190</span>, <span class="hljs-number">150</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel3<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel3<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"uuid:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel3)<span class="hljs-comment">;</span>
        jLabel3<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">130</span>, <span class="hljs-number">190</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdUuid<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">12</span>))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdUuid)<span class="hljs-comment">;</span>
        tfdUuid<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">200</span>, <span class="hljs-number">190</span>, <span class="hljs-number">110</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel4<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u56fe\u4e66\u540d\u79f0:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel4)<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">380</span>, <span class="hljs-number">190</span>, <span class="hljs-number">90</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        btnUpdata<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnUpdata<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>))<span class="hljs-comment">;</span>
        btnUpdata<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u4fee\u6539"</span>)<span class="hljs-comment">;</span>
        btnUpdata<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnUpdataActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnUpdata)<span class="hljs-comment">;</span>
        btnUpdata<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">140</span>, <span class="hljs-number">440</span>, <span class="hljs-number">120</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>

        btnBack<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fd4\u56de"</span>)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnBackActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnBack)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">520</span>, <span class="hljs-number">440</span>, <span class="hljs-number">120</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>

        tfdInPrice<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        tfdInPrice<span class="hljs-preprocessor">.setAutoscrolls</span>(false)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdInPrice)<span class="hljs-comment">;</span>
        tfdInPrice<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">200</span>, <span class="hljs-number">300</span>, <span class="hljs-number">150</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel5<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel5<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fdb\u8d27\u4ef7\u683c\uff1a"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel5)<span class="hljs-comment">;</span>
        jLabel5<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">100</span>, <span class="hljs-number">300</span>, <span class="hljs-number">90</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdSalePrice<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        tfdSalePrice<span class="hljs-preprocessor">.setAutoscrolls</span>(false)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdSalePrice)<span class="hljs-comment">;</span>
        tfdSalePrice<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">480</span>, <span class="hljs-number">300</span>, <span class="hljs-number">150</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel6<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel6<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u552e\u8d27\u4ef7\u683c\uff1a"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel6)<span class="hljs-comment">;</span>
        jLabel6<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">380</span>, <span class="hljs-number">300</span>, <span class="hljs-number">90</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>
    }// &lt;/editor-fold&gt;
    //GEN-END:initComponents

    private void btnBackActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        back()<span class="hljs-comment">;</span>
    }

    private void back() {
        mainFrame<span class="hljs-preprocessor">.setContentPane</span>(new BookListPanel(mainFrame))<span class="hljs-comment">;</span>
        mainFrame<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>
    }

    private void btnUpdataActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        //<span class="hljs-number">1</span>收集参数
        String name = tfdName<span class="hljs-preprocessor">.getText</span>()<span class="hljs-comment">;</span>
        double inPrice = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
        double salePrice = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
        try {
            inPrice = Double<span class="hljs-preprocessor">.parseDouble</span>(tfdInPrice<span class="hljs-preprocessor">.getText</span>())<span class="hljs-comment">;</span>
            salePrice = Double<span class="hljs-preprocessor">.parseDouble</span>(tfdSalePrice<span class="hljs-preprocessor">.getText</span>())<span class="hljs-comment">;</span>
        } catch (NumberFormatException e1) {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"价格的格式错误，请重新输入！"</span>)<span class="hljs-comment">;</span>
            return<span class="hljs-comment">;</span>
        }

        if (name<span class="hljs-preprocessor">.equals</span>(<span class="hljs-string">""</span>) || name<span class="hljs-preprocessor">.equals</span>(null)) {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"用户名为空，请重新输入！"</span>)<span class="hljs-comment">;</span>
            return<span class="hljs-comment">;</span>
        }

        //<span class="hljs-number">2</span>组织参数
        BookModel book = new BookModel()<span class="hljs-comment">;</span>
        book<span class="hljs-preprocessor">.setName</span>(name)<span class="hljs-comment">;</span>
        book<span class="hljs-preprocessor">.setUuid</span>(uuid)<span class="hljs-comment">;</span>
        book<span class="hljs-preprocessor">.setInPrice</span>(inPrice)<span class="hljs-comment">;</span>
        book<span class="hljs-preprocessor">.setSalePrice</span>(salePrice)<span class="hljs-comment">;</span>

        //<span class="hljs-number">3</span>调用逻辑层
        BookEbi ebi = BookEbiFactory<span class="hljs-preprocessor">.getBookEbi</span>()<span class="hljs-comment">;</span>

        //<span class="hljs-number">4</span>根据调用返回结果导向不同页面
        if (ebi<span class="hljs-preprocessor">.update</span>(book)) {
            back()<span class="hljs-comment">;</span>
        } else {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(null, <span class="hljs-string">"该图书已经存在!"</span>)<span class="hljs-comment">;</span>
        }
    }

    //GEN-BEGIN:variables
    // Variables declaration - do not modify
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnBack<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnUpdata<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel1<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel3<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel4<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel5<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel6<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdInPrice<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdName<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdSalePrice<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdUuid<span class="hljs-comment">;</span>
    // End of variables declaration//GEN-END:variables

}</code></pre>



<h1 id="工具类">工具类：</h1>



<h2 id="fileioutil-类数据读取">FileIoUtil 类：数据读取：</h2>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.util;

<span class="hljs-keyword">import</span> java.io.File;
<span class="hljs-keyword">import</span> java.io.FileInputStream;
<span class="hljs-keyword">import</span> java.io.FileNotFoundException;
<span class="hljs-keyword">import</span> java.io.FileOutputStream;
<span class="hljs-keyword">import</span> java.io.IOException;
<span class="hljs-keyword">import</span> java.io.ObjectInputStream;
<span class="hljs-keyword">import</span> java.io.ObjectOutputStream;
<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> javax.swing.JOptionPane;

<span class="hljs-javadoc">/**
 * 用户的公用数据读取写入类
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FileIoUtil</span> {</span>

    <span class="hljs-keyword">public</span> <span class="hljs-title">FileIoUtil</span>() {
    }


    <span class="hljs-javadoc">/**
     *  从数据库中读取所有的数据并返回出来
     *  
     *<span class="hljs-javadoctag"> @param</span> fileName：(数据表对应的文件名字)
     *<span class="hljs-javadoctag"> @return</span> 所有表的记录！
     */</span>
    <span class="hljs-annotation">@SuppressWarnings</span>(<span class="hljs-string">"unchecked"</span>)<span class="hljs-comment">//压警告</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span>&lt;E&gt; List&lt;E&gt; <span class="hljs-title">readFormFile</span>(String fileName){
        List&lt;E&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;E&gt;();
        <span class="hljs-keyword">final</span> File file = <span class="hljs-keyword">new</span> File(fileName);

        ObjectInputStream in =<span class="hljs-keyword">null</span>;
        <span class="hljs-keyword">if</span>(!file.exists()){
            <span class="hljs-comment">//JOptionPane.showMessageDialog(null, "数据表不存在！");</span>
            <span class="hljs-keyword">return</span> list;
        }
        <span class="hljs-keyword">try</span> {
            in = <span class="hljs-keyword">new</span> ObjectInputStream(<span class="hljs-keyword">new</span> FileInputStream(fileName));
            <span class="hljs-keyword">try</span> {
                list = (List&lt;E&gt;) in.readObject();

            } <span class="hljs-keyword">catch</span> (ClassNotFoundException e) {
                e.printStackTrace();
            }
        } <span class="hljs-keyword">catch</span> (FileNotFoundException e) {
            e.printStackTrace();
        } <span class="hljs-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }<span class="hljs-keyword">finally</span>{
            <span class="hljs-keyword">if</span>(in!=<span class="hljs-keyword">null</span>){
                <span class="hljs-keyword">try</span> {
                    in.close();
                } <span class="hljs-keyword">catch</span> (IOException e) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RuntimeException(<span class="hljs-string">"数据库关闭失败"</span>);
                }
            }
        }
        <span class="hljs-keyword">return</span> list;
    }


    <span class="hljs-javadoc">/**
     * 写入一个list集合进入数据文件fileName
     * 
     *<span class="hljs-javadoctag"> @param</span> list(需要存储的数据集合)
     *<span class="hljs-javadoctag"> @param</span> fileName(写入到哪个文件的文件名字)
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span>&lt;E&gt; <span class="hljs-keyword">void</span> <span class="hljs-title">write2file</span>(List&lt;E&gt; list, String fileName){
        ObjectOutputStream out = <span class="hljs-keyword">null</span>;

        <span class="hljs-keyword">try</span> {
            out = <span class="hljs-keyword">new</span> ObjectOutputStream(<span class="hljs-keyword">new</span> FileOutputStream(fileName));
            out.writeObject(list);
        } <span class="hljs-keyword">catch</span> (FileNotFoundException e) {
            e.printStackTrace();
        } <span class="hljs-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }<span class="hljs-keyword">finally</span>{
            <span class="hljs-keyword">if</span>(out!=<span class="hljs-keyword">null</span>){
                <span class="hljs-keyword">try</span> {
                    out.close();
                } <span class="hljs-keyword">catch</span> (IOException e) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RuntimeException(<span class="hljs-string">"数据库关闭失败!"</span>);
                }
            }
        }
    }

}
</code></pre>



<h1 id="最后说明">最后说明：</h1>

<p>因为感觉实在是太长了，我系列四又分了2个小模块。 <br />
还有Uuid模块和用户模块和公共类，我会在Java-单机版的书店管理系统(练习设计模块和思想_系列 四(2) )贴出全部代码。</p></div>&#13;
        <script type="text/javascript">&#13;
            $(function () {&#13;
                $('pre.prettyprint code').each(function () {&#13;
                    var lines = $(this).text().split('\n').length;&#13;
                    var $numbering = $('&lt;ul/&gt;').addClass('pre-numbering').hide();&#13;
                    $(this).addClass('has-numbering').parent().append($numbering);&#13;
                    for (i = 1; i &lt;= lines; i++) {&#13;
                        $numbering.append($('&lt;li/&gt;').text(i));&#13;
                    };&#13;
                    $numbering.fadeIn(1700);&#13;
                });&#13;
            });&#13;
        </script>&#13;
   &#13;
