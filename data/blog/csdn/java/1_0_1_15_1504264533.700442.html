
        <div class="markdown_views"><p>Java-单机版的书店管理系统(练习设计模块和思想_系列 二 )： <br />
<a href="http://blog.csdn.net/qq_26525215/article/details/51089734">http://blog.csdn.net/qq_26525215/article/details/51089734</a></p>

<p>Java-单机版的书店管理系统(练习设计模块和思想_系列 一 )： <br />
<a href="http://blog.csdn.net/qq_26525215/article/details/51073546">http://blog.csdn.net/qq_26525215/article/details/51073546</a></p>

<h2 id="介绍">介绍</h2>

<p>今天对系列二的一个添加用户的输入小bug进行了解决， <br />
增加了用户模块的，删除用户，和修改用户模块。</p>

<p>下面的代码是相对于系列二来说进行了修改或者是增加的类.</p>

<p>先看AddPanel类的修改： <br />
在收集参数的时候进行防范就可防止那个bug了。</p>

<p><strong>cn.hncu.bookStore.user.ui;</strong></p>



<h2 id="addpanel类添加用户模块">AddPanel类：（添加用户模块）</h2>



<pre class="prettyprint"><code class=" hljs avrasm"><span class="hljs-comment">/*
 * AddPanel.java
 *
 * Created on __DATE__, __TIME__
 */</span>

package cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.ui</span><span class="hljs-comment">;</span>

import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JFrame</span><span class="hljs-comment">;</span>
import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JOptionPane</span><span class="hljs-comment">;</span>

import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.common</span><span class="hljs-preprocessor">.UserTypeEnum</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.ebi</span><span class="hljs-preprocessor">.UserEbi</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.factory</span><span class="hljs-preprocessor">.UserEbiFactory</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.UserModel</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.util</span><span class="hljs-preprocessor">.FileIoUtil</span><span class="hljs-comment">;</span>

<span class="hljs-comment">/**
 *
 * @author  陈浩翔
 */</span>
public class AddPanel extends javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPanel</span> {
    private JFrame mainFrame = null<span class="hljs-comment">;</span>

    <span class="hljs-comment">/** Creates new form AddPanel */</span>
    public AddPanel(JFrame mainFrame) {
        this<span class="hljs-preprocessor">.mainFrame</span> = mainFrame<span class="hljs-comment">;</span>
        initComponents()<span class="hljs-comment">;</span>
        myInitData()<span class="hljs-comment">;</span>
    }

    private void myInitData() {
        for (UserTypeEnum type : UserTypeEnum<span class="hljs-preprocessor">.values</span>()) {
            combType<span class="hljs-preprocessor">.addItem</span>(type<span class="hljs-preprocessor">.getName</span>())<span class="hljs-comment">;</span>
        }
    }

    <span class="hljs-comment">/** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */</span>
    //GEN-BEGIN:initComponents
    // &lt;editor-fold defaultstate=<span class="hljs-string">"collapsed"</span> desc=<span class="hljs-string">"Generated Code"</span>&gt;
    private void initComponents() {

        jLabel1 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        jLabel2 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdName = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel3 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdUuid = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel4 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdPwd2 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPasswordField</span>()<span class="hljs-comment">;</span>
        jLabel5 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        jLabel6 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        combType = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JComboBox</span>()<span class="hljs-comment">;</span>
        tfdPwd = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPasswordField</span>()<span class="hljs-comment">;</span>
        btnAdd = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>
        btnBack = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>

        setMinimumSize(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Dimension</span>(<span class="hljs-number">800</span>, <span class="hljs-number">600</span>))<span class="hljs-comment">;</span>
        setLayout(null)<span class="hljs-comment">;</span>

        jLabel1<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">48</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">204</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u6dfb\u52a0\u7528\u6237"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel1)<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">330</span>, <span class="hljs-number">30</span>, <span class="hljs-number">230</span>, <span class="hljs-number">80</span>)<span class="hljs-comment">;</span>

        jLabel2<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel2<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u7528\u6237\u7c7b\u578b:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel2)<span class="hljs-comment">;</span>
        jLabel2<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">90</span>, <span class="hljs-number">310</span>, <span class="hljs-number">90</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdName<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setAutoscrolls</span>(false)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdName)<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">470</span>, <span class="hljs-number">160</span>, <span class="hljs-number">120</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel3<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel3<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"uuid:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel3)<span class="hljs-comment">;</span>
        jLabel3<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">120</span>, <span class="hljs-number">160</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdUuid<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">12</span>))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdUuid)<span class="hljs-comment">;</span>
        tfdUuid<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">190</span>, <span class="hljs-number">160</span>, <span class="hljs-number">110</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel4<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u59d3\u540d:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel4)<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">410</span>, <span class="hljs-number">160</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdPwd2<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"宋体"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdPwd2)<span class="hljs-comment">;</span>
        tfdPwd2<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">470</span>, <span class="hljs-number">240</span>, <span class="hljs-number">170</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel5<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel5<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u5bc6\u7801:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel5)<span class="hljs-comment">;</span>
        jLabel5<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">120</span>, <span class="hljs-number">240</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel6<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel6<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u786e\u8ba4\u5bc6\u7801:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel6)<span class="hljs-comment">;</span>
        jLabel6<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">380</span>, <span class="hljs-number">240</span>, <span class="hljs-number">90</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        combType<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        combType<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">51</span>, <span class="hljs-number">51</span>, <span class="hljs-number">255</span>))<span class="hljs-comment">;</span>
        combType<span class="hljs-preprocessor">.setModel</span>(new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.DefaultComboBoxModel</span>(
                new String[] { <span class="hljs-string">"请选择..."</span> }))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(combType)<span class="hljs-comment">;</span>
        combType<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">190</span>, <span class="hljs-number">310</span>, <span class="hljs-number">160</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdPwd<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"宋体"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdPwd)<span class="hljs-comment">;</span>
        tfdPwd<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">190</span>, <span class="hljs-number">240</span>, <span class="hljs-number">160</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        btnAdd<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnAdd<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>))<span class="hljs-comment">;</span>
        btnAdd<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u6dfb\u52a0"</span>)<span class="hljs-comment">;</span>
        btnAdd<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnAddActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnAdd)<span class="hljs-comment">;</span>
        btnAdd<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">190</span>, <span class="hljs-number">430</span>, <span class="hljs-number">120</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>

        btnBack<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fd4\u56de"</span>)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnBackActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnBack)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">520</span>, <span class="hljs-number">430</span>, <span class="hljs-number">120</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>
    }// &lt;/editor-fold&gt;
    //GEN-END:initComponents

    private void back() {
        mainFrame<span class="hljs-preprocessor">.setContentPane</span>(new ListPanel(mainFrame))<span class="hljs-comment">;</span>
        mainFrame<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>
    }

    <span class="hljs-comment">/**
     *监听返回按钮
     * @param 返回按钮的点击监听
     */</span>
    private void btnBackActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        back()<span class="hljs-comment">;</span>
    }

    private void btnAddActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        //<span class="hljs-number">1</span>收集参数
        String uuid = tfdUuid<span class="hljs-preprocessor">.getText</span>()<span class="hljs-comment">;</span>
        String name = tfdName<span class="hljs-preprocessor">.getText</span>()<span class="hljs-comment">;</span>
        String pwd = new String(tfdPwd<span class="hljs-preprocessor">.getPassword</span>())<span class="hljs-comment">;</span>
        String pwd2 = new String(tfdPwd2<span class="hljs-preprocessor">.getPassword</span>())<span class="hljs-comment">;</span>
        //System<span class="hljs-preprocessor">.out</span><span class="hljs-preprocessor">.println</span>(uuid)<span class="hljs-comment">;</span>

        //System<span class="hljs-preprocessor">.out</span><span class="hljs-preprocessor">.println</span>(uuid+<span class="hljs-string">","</span>+name+<span class="hljs-string">","</span>+pwd)<span class="hljs-comment">;</span>
        if (uuid<span class="hljs-preprocessor">.equals</span>(<span class="hljs-string">""</span>) || uuid<span class="hljs-preprocessor">.equals</span>(null)) {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"用户ID为空，请重新输入！"</span>)<span class="hljs-comment">;</span>
            return<span class="hljs-comment">;</span>
        }

        if (name<span class="hljs-preprocessor">.equals</span>(<span class="hljs-string">""</span>) || name<span class="hljs-preprocessor">.equals</span>(null)) {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"用户名为空，请重新输入！"</span>)<span class="hljs-comment">;</span>
            return<span class="hljs-comment">;</span>
        }

        if (!pwd<span class="hljs-preprocessor">.equals</span>(pwd2) || pwd<span class="hljs-preprocessor">.equals</span>(<span class="hljs-string">""</span>) || pwd<span class="hljs-preprocessor">.equals</span>(null)
                || pwd2<span class="hljs-preprocessor">.equals</span>(<span class="hljs-string">""</span>) || pwd2<span class="hljs-preprocessor">.equals</span>(null)) {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"两次密码输入不一致或密码为空，请重新输入！"</span>)<span class="hljs-comment">;</span>
            return<span class="hljs-comment">;</span>
        }
        int type = <span class="hljs-number">0</span><span class="hljs-comment">;</span>

        try {
            type = UserTypeEnum<span class="hljs-preprocessor">.getTypeByName</span>(combType<span class="hljs-preprocessor">.getSelectedItem</span>()
                    <span class="hljs-preprocessor">.toString</span>())<span class="hljs-comment">;</span>
        } catch (Exception e) {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"请指定用户类型!"</span>)<span class="hljs-comment">;</span>
            return<span class="hljs-comment">;</span>
        }

        //<span class="hljs-number">2</span>组织参数
        UserModel user = new UserModel()<span class="hljs-comment">;</span>
        user<span class="hljs-preprocessor">.setName</span>(name)<span class="hljs-comment">;</span>
        user<span class="hljs-preprocessor">.setPwd</span>(pwd)<span class="hljs-comment">;</span>
        user<span class="hljs-preprocessor">.setType</span>(type)<span class="hljs-comment">;</span>
        user<span class="hljs-preprocessor">.setUuid</span>(uuid)<span class="hljs-comment">;</span>

        //<span class="hljs-number">3</span>调用逻辑层
        UserEbi ebi = UserEbiFactory<span class="hljs-preprocessor">.getUserEbi</span>()<span class="hljs-comment">;</span>

        //<span class="hljs-number">4</span>根据调用返回结果导向不同页面
        if (ebi<span class="hljs-preprocessor">.create</span>(user)) {
            back()<span class="hljs-comment">;</span>
        } else {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(null, <span class="hljs-string">"该用户已经存在!"</span>)<span class="hljs-comment">;</span>
        }
    }

    //GEN-BEGIN:variables
    // Variables declaration - do not modify
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnAdd<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnBack<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JComboBox</span> combType<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel1<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel2<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel3<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel4<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel5<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel6<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdName<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPasswordField</span> tfdPwd<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPasswordField</span> tfdPwd2<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdUuid<span class="hljs-comment">;</span>
    // End of variables declaration//GEN-END:variables

}</code></pre>

<p>| <br />
| <br />
|</p>

<p><strong>cn.hncu.bookStore.user.ui;</strong></p>



<h2 id="deletepanel类删除用户模块">DeletePanel类：（删除用户模块）</h2>



<pre class="prettyprint"><code class=" hljs avrasm"><span class="hljs-comment">/*
 * DeletePanel.java
 *
 * Created on __DATE__, __TIME__
 */</span>

package cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.ui</span><span class="hljs-comment">;</span>

import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JFrame</span><span class="hljs-comment">;</span>
import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JOptionPane</span><span class="hljs-comment">;</span>

import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.common</span><span class="hljs-preprocessor">.UserTypeEnum</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.ebi</span><span class="hljs-preprocessor">.UserEbi</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.factory</span><span class="hljs-preprocessor">.UserEbiFactory</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.UserModel</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.util</span><span class="hljs-preprocessor">.FileIoUtil</span><span class="hljs-comment">;</span>

<span class="hljs-comment">/**
 * 
 * @author 陈浩翔
 *
 * @version 1.0
 */</span>
public class DeletePanel extends javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPanel</span> {
    private JFrame mainFrame = null<span class="hljs-comment">;</span>
    private String uuid = null<span class="hljs-comment">;</span>

    <span class="hljs-comment">/** Creates new form DeletePanel 
     * @param uuid */</span>
    public DeletePanel(JFrame mainFrame, String uuid) {
        this<span class="hljs-preprocessor">.mainFrame</span> = mainFrame<span class="hljs-comment">;</span>
        this<span class="hljs-preprocessor">.uuid</span> = uuid<span class="hljs-comment">;</span>
        initComponents()<span class="hljs-comment">;</span>
        myInitData()<span class="hljs-comment">;</span>
    }

    private void myInitData() {
        UserEbi user = UserEbiFactory<span class="hljs-preprocessor">.getUserEbi</span>()<span class="hljs-comment">;</span>
        UserModel userModel = user<span class="hljs-preprocessor">.getSingle</span>(uuid)<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setText</span>(userModel<span class="hljs-preprocessor">.getName</span>())<span class="hljs-comment">;</span>
        tfdUuid<span class="hljs-preprocessor">.setText</span>(userModel<span class="hljs-preprocessor">.getUuid</span>())<span class="hljs-comment">;</span>
        tfdPwd<span class="hljs-preprocessor">.setText</span>(userModel<span class="hljs-preprocessor">.getPwd</span>())<span class="hljs-comment">;</span>
        tfdType<span class="hljs-preprocessor">.setText</span>(UserTypeEnum<span class="hljs-preprocessor">.getNameByType</span>(userModel<span class="hljs-preprocessor">.getType</span>()))<span class="hljs-comment">;</span>

        tfdName<span class="hljs-preprocessor">.setEditable</span>(false)<span class="hljs-comment">;</span>
        tfdPwd<span class="hljs-preprocessor">.setEditable</span>(false)<span class="hljs-comment">;</span>
        tfdType<span class="hljs-preprocessor">.setEditable</span>(false)<span class="hljs-comment">;</span>
        tfdUuid<span class="hljs-preprocessor">.setEditable</span>(false)<span class="hljs-comment">;</span>

    }

    //GEN-BEGIN:initComponents
    // &lt;editor-fold defaultstate=<span class="hljs-string">"collapsed"</span> desc=<span class="hljs-string">"Generated Code"</span>&gt;
    private void initComponents() {

        jLabel1 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        jLabel2 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdName = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel3 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdUuid = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel4 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        jLabel5 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdPwd = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        tfdType = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        btnBack = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>
        btnDelete = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>

        setMinimumSize(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Dimension</span>(<span class="hljs-number">800</span>, <span class="hljs-number">600</span>))<span class="hljs-comment">;</span>
        setLayout(null)<span class="hljs-comment">;</span>

        jLabel1<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">48</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">204</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u5220\u9664\u7528\u6237"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel1)<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">330</span>, <span class="hljs-number">30</span>, <span class="hljs-number">230</span>, <span class="hljs-number">80</span>)<span class="hljs-comment">;</span>

        jLabel2<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel2<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u7528\u6237\u7c7b\u578b:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel2)<span class="hljs-comment">;</span>
        jLabel2<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">100</span>, <span class="hljs-number">310</span>, <span class="hljs-number">90</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdName<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setAutoscrolls</span>(false)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdName)<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">480</span>, <span class="hljs-number">160</span>, <span class="hljs-number">120</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel3<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel3<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"uuid:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel3)<span class="hljs-comment">;</span>
        jLabel3<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">130</span>, <span class="hljs-number">160</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdUuid<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">11</span>))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdUuid)<span class="hljs-comment">;</span>
        tfdUuid<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">200</span>, <span class="hljs-number">160</span>, <span class="hljs-number">110</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel4<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u59d3\u540d:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel4)<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">420</span>, <span class="hljs-number">160</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel5<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel5<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u5bc6\u7801:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel5)<span class="hljs-comment">;</span>
        jLabel5<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">130</span>, <span class="hljs-number">240</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdPwd<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Tahoma"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">12</span>))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdPwd)<span class="hljs-comment">;</span>
        tfdPwd<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">200</span>, <span class="hljs-number">240</span>, <span class="hljs-number">160</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdType<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">12</span>))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdType)<span class="hljs-comment">;</span>
        tfdType<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">200</span>, <span class="hljs-number">310</span>, <span class="hljs-number">160</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        btnBack<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fd4\u56de"</span>)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnBackActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnBack)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">540</span>, <span class="hljs-number">450</span>, <span class="hljs-number">120</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>

        btnDelete<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnDelete<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>))<span class="hljs-comment">;</span>
        btnDelete<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u5220\u9664"</span>)<span class="hljs-comment">;</span>
        btnDelete<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnDeleteActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnDelete)<span class="hljs-comment">;</span>
        btnDelete<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">210</span>, <span class="hljs-number">450</span>, <span class="hljs-number">120</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>
    }// &lt;/editor-fold&gt;
    //GEN-END:initComponents

    private void btnDeleteActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        //<span class="hljs-number">3</span>调用逻辑层
        if (UserEbiFactory<span class="hljs-preprocessor">.getUserEbi</span>()<span class="hljs-preprocessor">.delete</span>(uuid)) {
            back()<span class="hljs-comment">;</span>
        } else {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"该用户已经不存在!"</span>)<span class="hljs-comment">;</span>
        }

        //<span class="hljs-number">4</span>根据调用返回结果导向不同页面

    }

    private void btnBackActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        back()<span class="hljs-comment">;</span>
    }

    private void back() {
        mainFrame<span class="hljs-preprocessor">.setContentPane</span>(new ListPanel(mainFrame))<span class="hljs-comment">;</span>
        mainFrame<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>
    }

    //GEN-BEGIN:variables
    // Variables declaration - do not modify
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnBack<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnDelete<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel1<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel2<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel3<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel4<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel5<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdName<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdPwd<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdType<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdUuid<span class="hljs-comment">;</span>
    // End of variables declaration//GEN-END:variables

}</code></pre>

<p>| <br />
| <br />
|</p>

<p><strong>cn.hncu.bookStore.user.ui;</strong></p>



<h2 id="updatepanel类修改用户模块">UpdatePanel类：（修改用户模块）</h2>



<pre class="prettyprint"><code class=" hljs avrasm"><span class="hljs-comment">/*
 * UpdatePanel.java
 *
 * Created on __DATE__, __TIME__
 */</span>

package cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.ui</span><span class="hljs-comment">;</span>

import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JFrame</span><span class="hljs-comment">;</span>
import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JOptionPane</span><span class="hljs-comment">;</span>

import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.common</span><span class="hljs-preprocessor">.UserTypeEnum</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.ebi</span><span class="hljs-preprocessor">.UserEbi</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.factory</span><span class="hljs-preprocessor">.UserEbiFactory</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.UserModel</span><span class="hljs-comment">;</span>

<span class="hljs-comment">/**
 * 
 * @author 陈浩翔
 *
 * @version 1.0
 */</span>
public class UpdatePanel extends javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPanel</span> {
    private JFrame mainFrame = null<span class="hljs-comment">;</span>
    private String uuid = null<span class="hljs-comment">;</span>

    <span class="hljs-comment">/**
     * Creates new form UpdatePanel
     * 
     * @param uuid
     * @param mainFrame
     */</span>
    public UpdatePanel(JFrame mainFrame, String uuid) {
        this<span class="hljs-preprocessor">.mainFrame</span> = mainFrame<span class="hljs-comment">;</span>
        this<span class="hljs-preprocessor">.uuid</span> = uuid<span class="hljs-comment">;</span>
        initComponents()<span class="hljs-comment">;</span>
        myInitData()<span class="hljs-comment">;</span>
    }

    private void myInitData() {
        UserEbi ebi = UserEbiFactory<span class="hljs-preprocessor">.getUserEbi</span>()<span class="hljs-comment">;</span>
        UserModel user = ebi<span class="hljs-preprocessor">.getSingle</span>(uuid)<span class="hljs-comment">;</span>
        tfdUuid<span class="hljs-preprocessor">.setText</span>(user<span class="hljs-preprocessor">.getUuid</span>())<span class="hljs-comment">;</span>
        tfdUuid<span class="hljs-preprocessor">.setEditable</span>(false)<span class="hljs-comment">;</span>

        tfdName<span class="hljs-preprocessor">.setText</span>(user<span class="hljs-preprocessor">.getName</span>())<span class="hljs-comment">;</span>
        tfdPwd<span class="hljs-preprocessor">.setText</span>(user<span class="hljs-preprocessor">.getPwd</span>())<span class="hljs-comment">;</span>
        tfdPwd2<span class="hljs-preprocessor">.setText</span>(user<span class="hljs-preprocessor">.getPwd</span>())<span class="hljs-comment">;</span>

        combType<span class="hljs-preprocessor">.removeAllItems</span>()<span class="hljs-comment">;</span>
        String usert = UserTypeEnum<span class="hljs-preprocessor">.getNameByType</span>(user<span class="hljs-preprocessor">.getType</span>())<span class="hljs-comment">;</span>
        combType<span class="hljs-preprocessor">.addItem</span>(usert)<span class="hljs-comment">;</span>
        for (UserTypeEnum userType : UserTypeEnum<span class="hljs-preprocessor">.values</span>()) {
            if (!userType<span class="hljs-preprocessor">.getName</span>()<span class="hljs-preprocessor">.equals</span>(usert)) {
                combType<span class="hljs-preprocessor">.addItem</span>(userType<span class="hljs-preprocessor">.getName</span>())<span class="hljs-comment">;</span>
            }
        }

    }

    // GEN-BEGIN:initComponents
    // &lt;editor-fold defaultstate=<span class="hljs-string">"collapsed"</span> desc=<span class="hljs-string">"Generated Code"</span>&gt;
    private void initComponents() {

        jLabel1 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        jLabel2 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdName = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel3 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdUuid = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel4 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdPwd2 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPasswordField</span>()<span class="hljs-comment">;</span>
        jLabel5 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        jLabel6 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdPwd = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPasswordField</span>()<span class="hljs-comment">;</span>
        combType = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JComboBox</span>()<span class="hljs-comment">;</span>
        btnBack = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>
        btnUpdate = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>

        setMinimumSize(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Dimension</span>(<span class="hljs-number">800</span>, <span class="hljs-number">600</span>))<span class="hljs-comment">;</span>
        setLayout(null)<span class="hljs-comment">;</span>

        jLabel1<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">48</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">204</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u4fee\u6539\u7528\u6237"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel1)<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">320</span>, <span class="hljs-number">30</span>, <span class="hljs-number">230</span>, <span class="hljs-number">80</span>)<span class="hljs-comment">;</span>

        jLabel2<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel2<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u7528\u6237\u7c7b\u578b:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel2)<span class="hljs-comment">;</span>
        jLabel2<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">90</span>, <span class="hljs-number">310</span>, <span class="hljs-number">90</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdName<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setAutoscrolls</span>(false)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdName)<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">470</span>, <span class="hljs-number">160</span>, <span class="hljs-number">120</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel3<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel3<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"uuid:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel3)<span class="hljs-comment">;</span>
        jLabel3<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">120</span>, <span class="hljs-number">160</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdUuid<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">12</span>))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdUuid)<span class="hljs-comment">;</span>
        tfdUuid<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">190</span>, <span class="hljs-number">160</span>, <span class="hljs-number">110</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel4<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u59d3\u540d:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel4)<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">410</span>, <span class="hljs-number">160</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdPwd2<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdPwd2)<span class="hljs-comment">;</span>
        tfdPwd2<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">470</span>, <span class="hljs-number">240</span>, <span class="hljs-number">170</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel5<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel5<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u5bc6\u7801:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel5)<span class="hljs-comment">;</span>
        jLabel5<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">120</span>, <span class="hljs-number">240</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel6<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel6<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u786e\u8ba4\u5bc6\u7801:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel6)<span class="hljs-comment">;</span>
        jLabel6<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">380</span>, <span class="hljs-number">240</span>, <span class="hljs-number">90</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdPwd<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"宋体"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdPwd)<span class="hljs-comment">;</span>
        tfdPwd<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">190</span>, <span class="hljs-number">240</span>, <span class="hljs-number">160</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        combType<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">12</span>))<span class="hljs-comment">;</span>
        combType<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">51</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>))<span class="hljs-comment">;</span>
        combType<span class="hljs-preprocessor">.setModel</span>(new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.DefaultComboBoxModel</span>(
                new String[] { <span class="hljs-string">""</span> }))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(combType)<span class="hljs-comment">;</span>
        combType<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">190</span>, <span class="hljs-number">310</span>, <span class="hljs-number">170</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        btnBack<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fd4\u56de"</span>)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnBackActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnBack)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">500</span>, <span class="hljs-number">430</span>, <span class="hljs-number">120</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>

        btnUpdate<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnUpdate<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>))<span class="hljs-comment">;</span>
        btnUpdate<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u4fee\u6539"</span>)<span class="hljs-comment">;</span>
        btnUpdate<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnUpdateActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnUpdate)<span class="hljs-comment">;</span>
        btnUpdate<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">170</span>, <span class="hljs-number">430</span>, <span class="hljs-number">120</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>
    }// &lt;/editor-fold&gt;
        // GEN-END:initComponents

    private void btnUpdateActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        // <span class="hljs-number">1</span>收集参数
        String uuid = tfdUuid<span class="hljs-preprocessor">.getText</span>()<span class="hljs-comment">;</span>
        String name = tfdName<span class="hljs-preprocessor">.getText</span>()<span class="hljs-comment">;</span>
        String pwd = new String(tfdPwd<span class="hljs-preprocessor">.getPassword</span>())<span class="hljs-comment">;</span>
        String pwd2 = new String(tfdPwd2<span class="hljs-preprocessor">.getPassword</span>())<span class="hljs-comment">;</span>

        if (uuid<span class="hljs-preprocessor">.equals</span>(<span class="hljs-string">""</span>) || uuid<span class="hljs-preprocessor">.equals</span>(null)) {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"用户ID为空，请重新输入！"</span>)<span class="hljs-comment">;</span>
            return<span class="hljs-comment">;</span>
        }

        if (name<span class="hljs-preprocessor">.equals</span>(<span class="hljs-string">""</span>) || name<span class="hljs-preprocessor">.equals</span>(null)) {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"用户名为空，请重新输入！"</span>)<span class="hljs-comment">;</span>
            return<span class="hljs-comment">;</span>
        }

        if (!pwd<span class="hljs-preprocessor">.equals</span>(pwd2) || pwd<span class="hljs-preprocessor">.equals</span>(<span class="hljs-string">""</span>) || pwd<span class="hljs-preprocessor">.equals</span>(null)
                || pwd2<span class="hljs-preprocessor">.equals</span>(<span class="hljs-string">""</span>) || pwd2<span class="hljs-preprocessor">.equals</span>(null)) {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"两次密码输入不一致或密码为空，请重新输入！"</span>)<span class="hljs-comment">;</span>
            return<span class="hljs-comment">;</span>
        }
        int type = <span class="hljs-number">0</span><span class="hljs-comment">;</span>

        try {
            type = UserTypeEnum<span class="hljs-preprocessor">.getTypeByName</span>(combType<span class="hljs-preprocessor">.getSelectedItem</span>()
                    <span class="hljs-preprocessor">.toString</span>())<span class="hljs-comment">;</span>
        } catch (Exception e) {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(mainFrame, <span class="hljs-string">"请指定用户类型!"</span>)<span class="hljs-comment">;</span>
            return<span class="hljs-comment">;</span>
        }

        // <span class="hljs-number">2</span>组织参数
        UserModel user = new UserModel()<span class="hljs-comment">;</span>
        user<span class="hljs-preprocessor">.setName</span>(name)<span class="hljs-comment">;</span>
        user<span class="hljs-preprocessor">.setPwd</span>(pwd)<span class="hljs-comment">;</span>
        user<span class="hljs-preprocessor">.setType</span>(type)<span class="hljs-comment">;</span>
        user<span class="hljs-preprocessor">.setUuid</span>(uuid)<span class="hljs-comment">;</span>

        // <span class="hljs-number">3</span>调用逻辑层
        UserEbi ebi = UserEbiFactory<span class="hljs-preprocessor">.getUserEbi</span>()<span class="hljs-comment">;</span>

        // <span class="hljs-number">4</span>根据调用返回结果导向不同页面
        if (ebi<span class="hljs-preprocessor">.update</span>(user)) {
            back()<span class="hljs-comment">;</span>
        } else {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(null, <span class="hljs-string">"该用户已经不存在!"</span>)<span class="hljs-comment">;</span>
        }

    }

    private void btnBackActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        back()<span class="hljs-comment">;</span>
    }

    private void back() {
        mainFrame<span class="hljs-preprocessor">.setContentPane</span>(new ListPanel(mainFrame))<span class="hljs-comment">;</span>
        mainFrame<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>
    }

    // GEN-BEGIN:variables
    // Variables declaration - do not modify
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnBack<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnUpdate<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JComboBox</span> combType<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel1<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel2<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel3<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel4<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel5<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel6<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdName<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPasswordField</span> tfdPwd<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPasswordField</span> tfdPwd2<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdUuid<span class="hljs-comment">;</span>
    // End of variables declaration//GEN-END:variables

}</code></pre>

<p>| <br />
| <br />
|</p>

<p><strong>cn.hncu.bookStore.user.ui;</strong></p>



<h2 id="listpanel类调用用户功能模块">ListPanel类（调用用户功能模块）</h2>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-comment">/*
 * ListPanel.java
 *
 * Created on __DATE__, __TIME__
 */</span>

<span class="hljs-keyword">package</span> cn.hncu.bookStore.user.ui;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">import</span> javax.swing.JFrame;
<span class="hljs-keyword">import</span> javax.swing.JOptionPane;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.business.ebi.UserEbi;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.business.factory.UserEbiFactory;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.vo.UserModel;

<span class="hljs-javadoc">/**
 * 表现层-用户列表面板
 * 
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ListPanel</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">javax</span>.<span class="hljs-title">swing</span>.<span class="hljs-title">JPanel</span> {</span>
    <span class="hljs-keyword">private</span> JFrame mainFrame = <span class="hljs-keyword">null</span>;

    <span class="hljs-javadoc">/** Creates new form ListPanel */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title">ListPanel</span>(JFrame mainFrame) {
        <span class="hljs-keyword">this</span>.mainFrame = mainFrame;
        initComponents();
        myInitData();
    }

    <span class="hljs-javadoc">/**
     * 读取所有用户并添加进列表
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">myInitData</span>() {
        UserEbi user = UserEbiFactory.getUserEbi();
        List&lt;UserModel&gt; list = user.getAll();
        userLists.setListData(list.toArray());
    }

    <span class="hljs-comment">//GEN-BEGIN:initComponents</span>
    <span class="hljs-comment">// &lt;editor-fold defaultstate="collapsed" desc="Generated Code"&gt;</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initComponents</span>() {

        jScrollPane1 = <span class="hljs-keyword">new</span> javax.swing.JScrollPane();
        userLists = <span class="hljs-keyword">new</span> javax.swing.JList();
        jLabel1 = <span class="hljs-keyword">new</span> javax.swing.JLabel();
        btnToAdd = <span class="hljs-keyword">new</span> javax.swing.JButton();
        btnToDelete = <span class="hljs-keyword">new</span> javax.swing.JButton();
        btnToUpdate = <span class="hljs-keyword">new</span> javax.swing.JButton();

        setMinimumSize(<span class="hljs-keyword">new</span> java.awt.Dimension(<span class="hljs-number">800</span>, <span class="hljs-number">600</span>));
        setLayout(<span class="hljs-keyword">null</span>);

        userLists.setModel(<span class="hljs-keyword">new</span> javax.swing.AbstractListModel() {
            String[] strings = { <span class="hljs-string">""</span> };

            <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getSize</span>() {
                <span class="hljs-keyword">return</span> strings.length;
            }

            <span class="hljs-keyword">public</span> Object <span class="hljs-title">getElementAt</span>(<span class="hljs-keyword">int</span> i) {
                <span class="hljs-keyword">return</span> strings[i];
            }
        });
        jScrollPane1.setViewportView(userLists);

        add(jScrollPane1);
        jScrollPane1.setBounds(<span class="hljs-number">170</span>, <span class="hljs-number">80</span>, <span class="hljs-number">480</span>, <span class="hljs-number">230</span>);

        jLabel1.setFont(<span class="hljs-keyword">new</span> java.awt.Font(<span class="hljs-string">"Tahoma"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">48</span>));
        jLabel1.setForeground(<span class="hljs-keyword">new</span> java.awt.Color(<span class="hljs-number">204</span>, <span class="hljs-number">0</span>, <span class="hljs-number">51</span>));
        jLabel1.setText(<span class="hljs-string">"User List"</span>);
        add(jLabel1);
        jLabel1.setBounds(<span class="hljs-number">300</span>, <span class="hljs-number">0</span>, <span class="hljs-number">260</span>, <span class="hljs-number">80</span>);

        btnToAdd.setFont(<span class="hljs-keyword">new</span> java.awt.Font(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>));
        btnToAdd.setForeground(<span class="hljs-keyword">new</span> java.awt.Color(<span class="hljs-number">0</span>, <span class="hljs-number">102</span>, <span class="hljs-number">102</span>));
        btnToAdd.setText(<span class="hljs-string">"\u6dfb\u52a0\u7528\u6237"</span>);
        btnToAdd.addActionListener(<span class="hljs-keyword">new</span> java.awt.event.ActionListener() {
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">actionPerformed</span>(java.awt.event.ActionEvent evt) {
                btnToAddActionPerformed(evt);
            }
        });
        add(btnToAdd);
        btnToAdd.setBounds(<span class="hljs-number">160</span>, <span class="hljs-number">350</span>, <span class="hljs-number">150</span>, <span class="hljs-number">50</span>);

        btnToDelete.setFont(<span class="hljs-keyword">new</span> java.awt.Font(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>));
        btnToDelete.setForeground(<span class="hljs-keyword">new</span> java.awt.Color(<span class="hljs-number">0</span>, <span class="hljs-number">102</span>, <span class="hljs-number">102</span>));
        btnToDelete.setText(<span class="hljs-string">"\u5220\u9664\u7528\u6237"</span>);
        btnToDelete.addActionListener(<span class="hljs-keyword">new</span> java.awt.event.ActionListener() {
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">actionPerformed</span>(java.awt.event.ActionEvent evt) {
                btnToDeleteActionPerformed(evt);
            }
        });
        add(btnToDelete);
        btnToDelete.setBounds(<span class="hljs-number">510</span>, <span class="hljs-number">350</span>, <span class="hljs-number">150</span>, <span class="hljs-number">50</span>);

        btnToUpdate.setFont(<span class="hljs-keyword">new</span> java.awt.Font(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>));
        btnToUpdate.setForeground(<span class="hljs-keyword">new</span> java.awt.Color(<span class="hljs-number">0</span>, <span class="hljs-number">102</span>, <span class="hljs-number">102</span>));
        btnToUpdate.setText(<span class="hljs-string">"\u4fee\u6539\u7528\u6237"</span>);
        btnToUpdate.addActionListener(<span class="hljs-keyword">new</span> java.awt.event.ActionListener() {
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">actionPerformed</span>(java.awt.event.ActionEvent evt) {
                btnToUpdateActionPerformed(evt);
            }
        });
        add(btnToUpdate);
        btnToUpdate.setBounds(<span class="hljs-number">160</span>, <span class="hljs-number">450</span>, <span class="hljs-number">150</span>, <span class="hljs-number">50</span>);
    }<span class="hljs-comment">// &lt;/editor-fold&gt;</span>
    <span class="hljs-comment">//GEN-END:initComponents</span>

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">btnToUpdateActionPerformed</span>(java.awt.event.ActionEvent evt) {
        UserModel user = (UserModel) userLists.getSelectedValue();

        <span class="hljs-keyword">if</span> (user == <span class="hljs-keyword">null</span>) {
            JOptionPane.showMessageDialog(mainFrame, <span class="hljs-string">"请选择要修改的用户!"</span>);
            <span class="hljs-keyword">return</span>;
        }

        String uuid = user.getUuid();

        mainFrame.setContentPane(<span class="hljs-keyword">new</span> UpdatePanel(mainFrame, uuid));
        mainFrame.validate();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">btnToDeleteActionPerformed</span>(java.awt.event.ActionEvent evt) {
        UserModel user = (UserModel) userLists.getSelectedValue();

        <span class="hljs-keyword">if</span> (user == <span class="hljs-keyword">null</span>) {
            JOptionPane.showMessageDialog(mainFrame, <span class="hljs-string">"请选择要删除的用户!"</span>);
            <span class="hljs-keyword">return</span>;
        }

        String uuid = user.getUuid();

        mainFrame.setContentPane(<span class="hljs-keyword">new</span> DeletePanel(mainFrame, uuid));
        mainFrame.validate();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">btnToAddActionPerformed</span>(java.awt.event.ActionEvent evt) {
        mainFrame.setContentPane(<span class="hljs-keyword">new</span> AddPanel(mainFrame));
        mainFrame.validate();
    }

    <span class="hljs-comment">//GEN-BEGIN:variables</span>
    <span class="hljs-comment">// Variables declaration - do not modify</span>
    <span class="hljs-keyword">private</span> javax.swing.JButton btnToAdd;
    <span class="hljs-keyword">private</span> javax.swing.JButton btnToDelete;
    <span class="hljs-keyword">private</span> javax.swing.JButton btnToUpdate;
    <span class="hljs-keyword">private</span> javax.swing.JLabel jLabel1;
    <span class="hljs-keyword">private</span> javax.swing.JScrollPane jScrollPane1;
    <span class="hljs-keyword">private</span> javax.swing.JList userLists;
    <span class="hljs-comment">// End of variables declaration//GEN-END:variables</span>

}</code></pre></div>&#13;
        <script type="text/javascript">&#13;
            $(function () {&#13;
                $('pre.prettyprint code').each(function () {&#13;
                    var lines = $(this).text().split('\n').length;&#13;
                    var $numbering = $('&lt;ul/&gt;').addClass('pre-numbering').hide();&#13;
                    $(this).addClass('has-numbering').parent().append($numbering);&#13;
                    for (i = 1; i &lt;= lines; i++) {&#13;
                        $numbering.append($('&lt;li/&gt;').text(i));&#13;
                    };&#13;
                    $numbering.fadeIn(1700);&#13;
                });&#13;
            });&#13;
        </script>&#13;
   &#13;
