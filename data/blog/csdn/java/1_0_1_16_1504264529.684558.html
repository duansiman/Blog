
        <div class="markdown_views"><p>Java-单机版的书店管理系统(练习设计模块和思想_系列 一 )： <br />
<a href="http://blog.csdn.net/qq_26525215/article/details/51073546">http://blog.csdn.net/qq_26525215/article/details/51073546</a></p>

<h2 id="介绍">介绍</h2>

<p>小提示：上面一点有一个目录，可以快速定位到自己需要看的类。 <br />
今天对前面的代码有了小小的修改，让代码更加完善了一点。 <br />
至于用户唯一标识码uuid，会在以后修改成程序内部生成的， <br />
现在的uuid还是由用户自己设置。</p>

<p>今天对这个程序，添加了用户界面的表现层的一部分，增加了公共类 枚举， <br />
下面贴出目前我写的这个程序的全部代码：我会逐渐的写完这个程序的，请大家放心！（需要实现的功能在这个书店管理系统的系列一可以找到，我为这个系列的文章已经分类了，方便大家寻找） <br />
这个系列的博客是不会断的。</p>

<p>现在的代码分层： <br />
<img src="http://img.blog.csdn.net/20160407212215603" alt="" title="" /></p>

<p><img src="http://img.blog.csdn.net/20160407212223463" alt="" title="" /></p>



<h2 id="现在的程序运行后的图片">现在的程序运行后的图片：</h2>

<p>| <br />
| <br />
我按照从目录上面到下面的顺序贴出代码： <br />
请注意！这个代码顺序并不是我写代码的顺序！ <br />
如果你们要参考我的写，请不要按照我贴的代码的顺序。 <br />
应该先写公共类，工具类。 <br />
再次：数据层类—&gt;逻辑层类—&gt;表现层类 <br />
| <br />
现在程序运行后的部分图片： <br />
<img src="http://img.blog.csdn.net/20160407213911001" alt="" title="" /></p>

<p>| <br />
| <br />
<img src="http://img.blog.csdn.net/20160407213921095" alt="" title="" /> <br />
| <br />
| <br />
|</p>

<hr />



<h2 id="usertypeenum类">UserTypeEnum类：</h2>

<p><strong>cn.hncu.bookStore.common;</strong> <br />
<strong>UserTypeEnum类：</strong></p>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.common;

<span class="hljs-javadoc">/**
 * 功能:用户类型的枚举！&lt;br/&gt;
 * 定义在公共模块。&lt;br/&gt;
 * 变量：&lt;br/&gt;
 *  ADMIN(1,"超级管理员"),&lt;br/&gt;
 *  BOOK(2,"图书管理员"),&lt;br/&gt;
 *  IN(3,"进货管理员"),&lt;br/&gt;
 *  OUT(4,"销售管理员"),&lt;br/&gt;
 *  STOCK(5,"库存管理员");&lt;br/&gt;
 *<span class="hljs-javadoctag"> @author</span> chx
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> UserTypeEnum {
    ADMIN(<span class="hljs-number">1</span>,<span class="hljs-string">"超级管理员"</span>),
    BOOK(<span class="hljs-number">2</span>,<span class="hljs-string">"图书管理员"</span>),
    IN(<span class="hljs-number">3</span>,<span class="hljs-string">"进货管理员"</span>),
    OUT(<span class="hljs-number">4</span>,<span class="hljs-string">"销售管理员"</span>),
    STOCK(<span class="hljs-number">5</span>,<span class="hljs-string">"库存管理员"</span>);

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> type;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String name;

    <span class="hljs-javadoc">/**
     * 初始化枚举变量名字
     *<span class="hljs-javadoctag"> @param</span> type---枚举变量对应的整型数字
     *<span class="hljs-javadoctag"> @param</span> name---枚举变量对应的String型名字
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title">UserTypeEnum</span>(<span class="hljs-keyword">int</span> type, String name) {
        <span class="hljs-keyword">this</span>.type=type;
        <span class="hljs-keyword">this</span>.name=name;
    }

    <span class="hljs-javadoc">/**
     * 得到当前枚举变量的数字
     *<span class="hljs-javadoctag"> @return</span>---type-编号
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getType</span>() {
        <span class="hljs-keyword">return</span> type;
    }

    <span class="hljs-javadoc">/**
     * 得到当前枚举变量的中文名字
     *<span class="hljs-javadoctag"> @return</span>---name-中文名字
     */</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span>() {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-javadoc">/**
     * 根据枚举变量的int数字得到数字对应的枚举变量的中文名字
     *<span class="hljs-javadoctag"> @param</span> type---需要传入的int型参数
     *<span class="hljs-javadoctag"> @return</span> ---如果存在这样的数字对应的枚举变量，就返回这个枚举变量的中文名字。
     *    &lt;br/&gt;---如果不存在这样的数字对应的枚举变量，就抛出一个异常信息。
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">getNameByType</span>(<span class="hljs-keyword">int</span> type){
        <span class="hljs-keyword">for</span>(UserTypeEnum userType:UserTypeEnum.values()){
            <span class="hljs-keyword">if</span>(userType.getType()==type){
                <span class="hljs-keyword">return</span> userType.getName();
            }
        }
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">"枚举中没有对应的用户类型:"</span>+type);
    }

    <span class="hljs-javadoc">/**
     * 根据枚举变量的name中文名字得到name对应的枚举变量的int型type
     *<span class="hljs-javadoctag"> @param</span> name---需要传入的String型名字
     *<span class="hljs-javadoctag"> @return</span> ---如果存在这样的名字对应的枚举变量，就返回这个枚举变量对应的type-int
     *   &lt;br/&gt; ---如果不存在这样的名字对应的枚举变量，就抛出一个异常信息
     */</span> 
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getTypeByName</span>(String name){
        <span class="hljs-keyword">for</span>(UserTypeEnum userType:UserTypeEnum.values()){
            <span class="hljs-keyword">if</span>(userType.getName().equals(name)){
                <span class="hljs-keyword">return</span> userType.getType();
            }
        }
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">"枚举中没有对应的用户类型:"</span>+name);
    }
}
</code></pre>

<hr />



<h2 id="userebi接口">UserEbi接口：</h2>

<p>| <br />
| <br />
|</p>

<p><strong>cn.hncu.bookStore.user.business.ebi;</strong> <br />
<strong>UserEbi接口：</strong></p>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.user.business.ebi;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.vo.UserModel;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.vo.UserQueryModel;
<span class="hljs-javadoc">/**
 * 逻辑层的接口
 *
 *<span class="hljs-javadoctag"> @author</span> chx
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserEbi</span> {</span>

    <span class="hljs-javadoc">/**
     * 功能：创建一个用户
     * 
     *<span class="hljs-javadoctag"> @param</span> userModel---将要创建的用户数据
     *<span class="hljs-javadoctag"> @return</span>---true表示创建成功，false表示创建失败
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">create</span>(UserModel user);

    <span class="hljs-javadoc">/**
     * 功能：根据用户的唯一标识码uuid删除一个用户
     * 
     *<span class="hljs-javadoctag"> @param</span> uuid---用户唯一的标识码，每个用户都不会相同
     *<span class="hljs-javadoctag"> @return</span>---true表示删除成功，false表示删除失败
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">delete</span>(String uuid);

    <span class="hljs-javadoc">/**
     * 功能：修改用户的数据资料
     * 
     *<span class="hljs-javadoctag"> @param</span> user---需要修改的用户数据参数名
     *<span class="hljs-javadoctag"> @return</span> 返回true-表示修改成功了，返回false-表示修改失败
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">update</span>(UserModel user);

    <span class="hljs-javadoc">/**
     * 功能：得到所有的用户数据
     * 
     *<span class="hljs-javadoctag"> @return</span>---一个UserModel集合，也就是用户的数据
     */</span>
    <span class="hljs-keyword">public</span> List&lt;UserModel&gt; <span class="hljs-title">getAll</span>();

    <span class="hljs-javadoc">/**
     * 功能：按照一定的查找条件进行查找，
     * &lt;br/&gt;
     * 把满足查找条件的用户数据返回。
     * 
     *<span class="hljs-javadoctag"> @param</span> uqm---被封装的查找条件
     *<span class="hljs-javadoctag"> @return</span>---满足查找条件的用户数据集合
     */</span>
    <span class="hljs-keyword">public</span> List&lt;UserModel&gt; <span class="hljs-title">getbyCondition</span>(UserQueryModel uqm);

    <span class="hljs-javadoc">/**
     * 功能：得到一个确定的用户的数据资料
     * 
     *<span class="hljs-javadoctag"> @param</span> uuid---用户唯一标识码
     *<span class="hljs-javadoctag"> @return</span> ---返回按这个唯一标识码找到的用户数据
     */</span>
    <span class="hljs-keyword">public</span> UserModel <span class="hljs-title">getSingle</span>(String uuid);
}
</code></pre>

<hr />



<h2 id="userebo类">UserEbo类：</h2>

<p>| <br />
| <br />
|</p>

<p><strong>cn.hncu.bookStore.user.business.ebo;</strong> <br />
<strong>UserEbo类：</strong></p>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.user.business.ebo;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.business.ebi.UserEbi;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.dao.dao.UserDao;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.dao.factory.UserDaoFactory;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.vo.UserModel;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.vo.UserQueryModel;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserEbo</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">UserEbi</span>{</span>
    <span class="hljs-keyword">private</span> UserDao dao = UserDaoFactory.getUserDao();

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">create</span>(UserModel user) {
        <span class="hljs-keyword">return</span> dao.create(user);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">delete</span>(String uuid) {
        <span class="hljs-keyword">return</span> dao.delete(uuid);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">update</span>(UserModel user) {
        <span class="hljs-keyword">return</span> dao.update(user);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> List&lt;UserModel&gt; <span class="hljs-title">getAll</span>() {
        <span class="hljs-keyword">return</span> dao.getAll();
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> List&lt;UserModel&gt; <span class="hljs-title">getbyCondition</span>(UserQueryModel uqm) {
        <span class="hljs-comment">// TODO Auto-generated method stub</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> UserModel <span class="hljs-title">getSingle</span>(String uuid) {
        <span class="hljs-keyword">return</span> dao.getSingle(uuid);
    }
}
</code></pre>

<hr />



<h2 id="userebifactory类">UserEbiFactory类：</h2>

<p>| <br />
| <br />
| <br />
<strong>cn.hncu.bookStore.user.business.factory;</strong> <br />
<strong>UserEbiFactory类：</strong></p>



<pre class="prettyprint"><code class=" hljs avrasm">package cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.factory</span><span class="hljs-comment">;</span>

import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.ebi</span><span class="hljs-preprocessor">.UserEbi</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.ebo</span><span class="hljs-preprocessor">.UserEbo</span><span class="hljs-comment">;</span>

public class UserEbiFactory {
    public static UserEbi getUserEbi(){
        return new UserEbo()<span class="hljs-comment">;</span>
    }
}
</code></pre>

<hr />



<h2 id="userdao接口">UserDao接口：</h2>

<p>| <br />
| <br />
| <br />
<strong>cn.hncu.bookStore.user.dao.dao;</strong> <br />
<strong>UserDao接口：</strong></p>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.user.dao.dao;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.vo.UserModel;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.vo.UserQueryModel;

<span class="hljs-javadoc">/**
 * 
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *
 *<span class="hljs-javadoctag"> @version</span> 1.0
 * 用户模块的数据层接口
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserDao</span> {</span>
    <span class="hljs-javadoc">/**
     * 功能：创建一个用户
     * 
     *<span class="hljs-javadoctag"> @param</span> userModel---将要创建的用户数据
     *<span class="hljs-javadoctag"> @return</span>---true表示创建成功，false表示创建失败
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">create</span>(UserModel user);

    <span class="hljs-javadoc">/**
     * 功能：根据用户的唯一标识码uuid删除一个用户
     * 
     *<span class="hljs-javadoctag"> @param</span> uuid---用户唯一的标识码，每个用户都不会相同
     *<span class="hljs-javadoctag"> @return</span>---true表示删除成功，false表示删除失败
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">delete</span>(String uuid);

    <span class="hljs-javadoc">/**
     * 功能：修改用户的数据资料
     * 
     *<span class="hljs-javadoctag"> @param</span> user---需要修改的用户数据参数名
     *<span class="hljs-javadoctag"> @return</span> 返回true-表示修改成功了，返回false-表示修改失败
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">update</span>(UserModel user);

    <span class="hljs-javadoc">/**
     * 功能：得到所有的用户数据
     * 
     *<span class="hljs-javadoctag"> @return</span>---一个UserModel集合，也就是用户的数据
     */</span>
    <span class="hljs-keyword">public</span> List&lt;UserModel&gt; <span class="hljs-title">getAll</span>();

    <span class="hljs-javadoc">/**
     * 功能：按照一定的查找条件进行查找，
     * &lt;br/&gt;
     * 把满足查找条件的用户数据返回。
     * 
     *<span class="hljs-javadoctag"> @param</span> uqm---被封装的查找条件
     *<span class="hljs-javadoctag"> @return</span>---满足查找条件的用户数据集合
     */</span>
    <span class="hljs-keyword">public</span> List&lt;UserModel&gt; <span class="hljs-title">getbyCondition</span>(UserQueryModel uqm);

    <span class="hljs-javadoc">/**
     * 功能：得到一个确定的用户的数据资料
     * 
     *<span class="hljs-javadoctag"> @param</span> uuid---用户唯一标识码
     *<span class="hljs-javadoctag"> @return</span> ---返回按这个唯一标识码找到的用户数据
     */</span>
    <span class="hljs-keyword">public</span> UserModel <span class="hljs-title">getSingle</span>(String uuid);

}
</code></pre>

<hr />



<h2 id="userdaofactory类">UserDaoFactory类：</h2>

<p>| <br />
| <br />
| <br />
<strong>cn.hncu.bookStore.user.dao.factory;</strong> <br />
<strong>UserDaoFactory类：</strong></p>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.user.dao.factory;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.dao.dao.UserDao;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.dao.impl.UserDaoSerImpl;
<span class="hljs-javadoc">/**
 * 工厂方法&lt;br/&gt;
 * new 一个dao的实例
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *
 *<span class="hljs-javadoctag"> @version</span> 1.0
 * 
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserDaoFactory</span> {</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> UserDao <span class="hljs-title">getUserDao</span>(){
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> UserDaoSerImpl();
    }
}
</code></pre>

<hr />



<h2 id="userdaoserimpl类">UserDaoSerImpl类：</h2>

<p>| <br />
| <br />
| <br />
<strong>cn.hncu.bookStore.user.dao.impl;</strong> <br />
<strong>UserDaoSerImpl类：</strong></p>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.user.dao.impl;

<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.dao.dao.UserDao;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.vo.UserModel;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.vo.UserQueryModel;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.util.FileIoUtil;

<span class="hljs-javadoc">/**
 * &lt;br/&gt;
 * 对用户数据处理的具体实现类 ----实现了UserDao接口
 * 
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 * 
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserDaoSerImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">UserDao</span> {</span>

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String FILE_NAME = <span class="hljs-string">"User.txt"</span>;

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">create</span>(UserModel user) {
        <span class="hljs-comment">// 1先把已有的数据反序列化(读)出来</span>
        List&lt;UserModel&gt; list = FileIoUtil.readFormFile(FILE_NAME);
        <span class="hljs-comment">// 2判断该用户是否已经存在，再决定是否创建</span>
        <span class="hljs-keyword">for</span> (UserModel userModel : list) {
            <span class="hljs-comment">// 如果2个用户的uuid相等，用户就是相同的</span>
            <span class="hljs-keyword">if</span> (userModel.getUuid().equals(user.getUuid())) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<span class="hljs-comment">// 用户已经存在了，返回false</span>
            }
        }
        <span class="hljs-comment">// 3如果用户不存在，就创建</span>
        list.add(user);
        FileIoUtil.write2file(list, FILE_NAME);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<span class="hljs-comment">// 创建成功，返回true</span>
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">delete</span>(String uuid) {

        <span class="hljs-comment">// 1先把已有的数据反序列化(读)出来</span>
        List&lt;UserModel&gt; list = FileIoUtil.readFormFile(FILE_NAME);

        <span class="hljs-comment">// 2判断该用户是否已经存在，再决定是否删除</span>

        <span class="hljs-comment">// for(int i=0;i&lt;list.size();i++){</span>
        <span class="hljs-comment">// if(list.get(i).getUuid().equals(uuid)){</span>
        <span class="hljs-comment">// list.remove(i);</span>
        <span class="hljs-comment">// FileIoUtil.write2file(list, FILE_NAME);</span>
        <span class="hljs-comment">// return true;</span>
        <span class="hljs-comment">// }</span>
        <span class="hljs-comment">// }</span>

        <span class="hljs-keyword">for</span> (UserModel userModel : list) {
            <span class="hljs-comment">// 如果2个用户的uuid相等，用户就是相同的</span>
            <span class="hljs-keyword">if</span> (userModel.getUuid().equals(uuid)) {
                list.remove(userModel);
                FileIoUtil.write2file(list, FILE_NAME);
                <span class="hljs-comment">// 删除成功，返回true</span>
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
            }
        }
        <span class="hljs-comment">// 3用户不存在</span>
        <span class="hljs-comment">// 删除失败，返回false</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">update</span>(UserModel user) {
        <span class="hljs-comment">// 1先把已有的数据反序列化(读)出来</span>
        List&lt;UserModel&gt; list = FileIoUtil.readFormFile(FILE_NAME);

        <span class="hljs-comment">// 2判断该用户是否已经存在，再决定是否创建</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; list.size(); i++) {
            <span class="hljs-comment">// uuid是不能改的，通过uuid来找到那个用户数据，再修改就ok了</span>
            <span class="hljs-keyword">if</span> (list.get(i).getUuid().equals(user.getUuid())) {
                <span class="hljs-comment">// 将找到的用户修改成user</span>
                list.set(i, user);
                FileIoUtil.write2file(list, FILE_NAME);
                <span class="hljs-comment">// 找到用户，返回true</span>
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
            }
        }
        <span class="hljs-comment">// 3若该用户不存在，则修改失败</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> List&lt;UserModel&gt; <span class="hljs-title">getAll</span>() {
        <span class="hljs-keyword">return</span> FileIoUtil.readFormFile(FILE_NAME);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> List&lt;UserModel&gt; <span class="hljs-title">getbyCondition</span>(UserQueryModel uqm) {
        <span class="hljs-comment">// TODO Auto-generated method stub</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> UserModel <span class="hljs-title">getSingle</span>(String uuid) {
        <span class="hljs-comment">// 1先把已有的数据反序列化(读)出来</span>
        List&lt;UserModel&gt; list = FileIoUtil.readFormFile(FILE_NAME);

        <span class="hljs-comment">// 2判断该用户是否已经存在,存在就返回那个用户</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; list.size(); i++) {
            <span class="hljs-keyword">if</span> (list.get(i).getUuid().equals(uuid)) {
                <span class="hljs-keyword">return</span> list.get(i);
            }
        }

        <span class="hljs-comment">// 3若该用户不存在,返回null</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
    }

}
</code></pre>

<hr />



<h2 id="addpanel类">AddPanel类：</h2>

<p>| <br />
| <br />
| <br />
<strong>cn.hncu.bookStore.user.ui;</strong> <br />
<strong>AddPanel类：</strong></p>



<pre class="prettyprint"><code class=" hljs avrasm"><span class="hljs-comment">/*
 * AddPanel.java
 *
 * Created on __DATE__, __TIME__
 */</span>

package cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.ui</span><span class="hljs-comment">;</span>

import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JFrame</span><span class="hljs-comment">;</span>
import javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JOptionPane</span><span class="hljs-comment">;</span>

import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.common</span><span class="hljs-preprocessor">.UserTypeEnum</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.ebi</span><span class="hljs-preprocessor">.UserEbi</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.business</span><span class="hljs-preprocessor">.factory</span><span class="hljs-preprocessor">.UserEbiFactory</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.user</span><span class="hljs-preprocessor">.vo</span><span class="hljs-preprocessor">.UserModel</span><span class="hljs-comment">;</span>
import cn<span class="hljs-preprocessor">.hncu</span><span class="hljs-preprocessor">.bookStore</span><span class="hljs-preprocessor">.util</span><span class="hljs-preprocessor">.FileIoUtil</span><span class="hljs-comment">;</span>

<span class="hljs-comment">/**
 *
 * @author  陈浩翔
 */</span>
public class AddPanel extends javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPanel</span> {

    private JFrame mainFrame = null<span class="hljs-comment">;</span>

    <span class="hljs-comment">/** Creates new form AddPanel */</span>
    public AddPanel(JFrame mainFrame) {
        this<span class="hljs-preprocessor">.mainFrame</span> = mainFrame<span class="hljs-comment">;</span>
        initComponents()<span class="hljs-comment">;</span>
        myInitData()<span class="hljs-comment">;</span>
    }

    private void myInitData() {
        for (UserTypeEnum type : UserTypeEnum<span class="hljs-preprocessor">.values</span>()) {
            combType<span class="hljs-preprocessor">.addItem</span>(type<span class="hljs-preprocessor">.getName</span>())<span class="hljs-comment">;</span>
        }
    }

    <span class="hljs-comment">/** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */</span>
    //GEN-BEGIN:initComponents
    // &lt;editor-fold defaultstate=<span class="hljs-string">"collapsed"</span> desc=<span class="hljs-string">"Generated Code"</span>&gt;
    private void initComponents() {

        jLabel1 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        jLabel2 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdName = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel3 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdUuid = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span>()<span class="hljs-comment">;</span>
        jLabel4 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        tfdPwd2 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPasswordField</span>()<span class="hljs-comment">;</span>
        jLabel5 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        jLabel6 = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span>()<span class="hljs-comment">;</span>
        combType = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JComboBox</span>()<span class="hljs-comment">;</span>
        tfdPwd = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPasswordField</span>()<span class="hljs-comment">;</span>
        btnAdd = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>
        btnBack = new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span>()<span class="hljs-comment">;</span>

        setMinimumSize(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Dimension</span>(<span class="hljs-number">800</span>, <span class="hljs-number">600</span>))<span class="hljs-comment">;</span>
        setLayout(null)<span class="hljs-comment">;</span>

        jLabel1<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">48</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">204</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u6dfb\u52a0\u7528\u6237"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel1)<span class="hljs-comment">;</span>
        jLabel1<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">270</span>, <span class="hljs-number">30</span>, <span class="hljs-number">230</span>, <span class="hljs-number">80</span>)<span class="hljs-comment">;</span>

        jLabel2<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel2<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u7528\u6237\u7c7b\u578b:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel2)<span class="hljs-comment">;</span>
        jLabel2<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">40</span>, <span class="hljs-number">310</span>, <span class="hljs-number">90</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdName<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setAutoscrolls</span>(false)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdName)<span class="hljs-comment">;</span>
        tfdName<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">420</span>, <span class="hljs-number">160</span>, <span class="hljs-number">120</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel3<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel3<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"uuid:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel3)<span class="hljs-comment">;</span>
        jLabel3<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">70</span>, <span class="hljs-number">160</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdUuid<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">11</span>))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdUuid)<span class="hljs-comment">;</span>
        tfdUuid<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">140</span>, <span class="hljs-number">160</span>, <span class="hljs-number">110</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel4<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u59d3\u540d:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel4)<span class="hljs-comment">;</span>
        jLabel4<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">360</span>, <span class="hljs-number">160</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdPwd2)<span class="hljs-comment">;</span>
        tfdPwd2<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">420</span>, <span class="hljs-number">240</span>, <span class="hljs-number">170</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel5<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel5<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u5bc6\u7801:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel5)<span class="hljs-comment">;</span>
        jLabel5<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">70</span>, <span class="hljs-number">240</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        jLabel6<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"微软雅黑"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        jLabel6<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u786e\u8ba4\u5bc6\u7801:"</span>)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(jLabel6)<span class="hljs-comment">;</span>
        jLabel6<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">330</span>, <span class="hljs-number">240</span>, <span class="hljs-number">90</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        combType<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        combType<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">51</span>, <span class="hljs-number">51</span>, <span class="hljs-number">255</span>))<span class="hljs-comment">;</span>
        combType<span class="hljs-preprocessor">.setModel</span>(new javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.DefaultComboBoxModel</span>(
                new String[] { <span class="hljs-string">"请选择..."</span> }))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(combType)<span class="hljs-comment">;</span>
        combType<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">140</span>, <span class="hljs-number">310</span>, <span class="hljs-number">160</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        tfdPwd<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"宋体"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>))<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(tfdPwd)<span class="hljs-comment">;</span>
        tfdPwd<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">140</span>, <span class="hljs-number">240</span>, <span class="hljs-number">160</span>, <span class="hljs-number">30</span>)<span class="hljs-comment">;</span>

        btnAdd<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnAdd<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>))<span class="hljs-comment">;</span>
        btnAdd<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u6dfb\u52a0"</span>)<span class="hljs-comment">;</span>
        btnAdd<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnAddActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnAdd)<span class="hljs-comment">;</span>
        btnAdd<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">140</span>, <span class="hljs-number">430</span>, <span class="hljs-number">120</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>

        btnBack<span class="hljs-preprocessor">.setFont</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Font</span>(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setForeground</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.Color</span>(<span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>))<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setText</span>(<span class="hljs-string">"\u8fd4\u56de"</span>)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.addActionListener</span>(new java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionListener</span>() {
            public void actionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
                btnBackActionPerformed(evt)<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
        <span class="hljs-keyword">add</span>(btnBack)<span class="hljs-comment">;</span>
        btnBack<span class="hljs-preprocessor">.setBounds</span>(<span class="hljs-number">470</span>, <span class="hljs-number">430</span>, <span class="hljs-number">120</span>, <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>
    }// &lt;/editor-fold&gt;
    //GEN-END:initComponents

    private void back() {
        mainFrame<span class="hljs-preprocessor">.setContentPane</span>(new ListPanel(mainFrame))<span class="hljs-comment">;</span>
        mainFrame<span class="hljs-preprocessor">.validate</span>()<span class="hljs-comment">;</span>
    }

    <span class="hljs-comment">/**
     *监听返回按钮
     * @param 返回按钮的点击监听
     */</span>
    private void btnBackActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        back()<span class="hljs-comment">;</span>
    }

    private void btnAddActionPerformed(java<span class="hljs-preprocessor">.awt</span><span class="hljs-preprocessor">.event</span><span class="hljs-preprocessor">.ActionEvent</span> evt) {
        //<span class="hljs-number">1</span>收集参数
        String uuid = tfdUuid<span class="hljs-preprocessor">.getText</span>()<span class="hljs-comment">;</span>
        String name = tfdName<span class="hljs-preprocessor">.getText</span>()<span class="hljs-comment">;</span>
        String pwd = new String(tfdPwd<span class="hljs-preprocessor">.getPassword</span>())<span class="hljs-comment">;</span>
        String pwd2 = new String(tfdPwd2<span class="hljs-preprocessor">.getPassword</span>())<span class="hljs-comment">;</span>

        if (!pwd<span class="hljs-preprocessor">.equals</span>(pwd2)) {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(null, <span class="hljs-string">"两次密码输入不一致，请重新输入！"</span>)<span class="hljs-comment">;</span>
            return<span class="hljs-comment">;</span>
        }
        int type = <span class="hljs-number">0</span><span class="hljs-comment">;</span>

        try {
            type = UserTypeEnum<span class="hljs-preprocessor">.getTypeByName</span>(combType<span class="hljs-preprocessor">.getSelectedItem</span>()
                    <span class="hljs-preprocessor">.toString</span>())<span class="hljs-comment">;</span>
        } catch (Exception e) {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(null, <span class="hljs-string">"请指定用户类型!"</span>)<span class="hljs-comment">;</span>
            return<span class="hljs-comment">;</span>
        }

        //<span class="hljs-number">2</span>组织参数
        UserModel user = new UserModel()<span class="hljs-comment">;</span>
        user<span class="hljs-preprocessor">.setName</span>(name)<span class="hljs-comment">;</span>
        user<span class="hljs-preprocessor">.setPwd</span>(pwd)<span class="hljs-comment">;</span>
        user<span class="hljs-preprocessor">.setType</span>(type)<span class="hljs-comment">;</span>
        user<span class="hljs-preprocessor">.setUuid</span>(uuid)<span class="hljs-comment">;</span>

        //<span class="hljs-number">3</span>调用逻辑层
        UserEbi ebi = UserEbiFactory<span class="hljs-preprocessor">.getUserEbi</span>()<span class="hljs-comment">;</span>

        //<span class="hljs-number">4</span>根据调用返回结果导向不同页面
        if (ebi<span class="hljs-preprocessor">.create</span>(user)) {
            back()<span class="hljs-comment">;</span>
        } else {
            JOptionPane<span class="hljs-preprocessor">.showMessageDialog</span>(null, <span class="hljs-string">"该用户已经存在!"</span>)<span class="hljs-comment">;</span>
        }
    }

    //GEN-BEGIN:variables
    // Variables declaration - do not modify
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnAdd<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JButton</span> btnBack<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JComboBox</span> combType<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel1<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel2<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel3<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel4<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel5<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JLabel</span> jLabel6<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdName<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPasswordField</span> tfdPwd<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JPasswordField</span> tfdPwd2<span class="hljs-comment">;</span>
    private javax<span class="hljs-preprocessor">.swing</span><span class="hljs-preprocessor">.JTextField</span> tfdUuid<span class="hljs-comment">;</span>
    // End of variables declaration//GEN-END:variables

}</code></pre>

<hr />



<h2 id="listpanel类">ListPanel类：</h2>

<p>| <br />
| <br />
| <br />
<strong>cn.hncu.bookStore.user.ui;</strong> <br />
<strong>ListPanel类：</strong></p>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-comment">/*
 * ListPanel.java
 *
 * Created on __DATE__, __TIME__
 */</span>

<span class="hljs-keyword">package</span> cn.hncu.bookStore.user.ui;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">import</span> javax.swing.JFrame;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.business.ebi.UserEbi;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.business.factory.UserEbiFactory;
<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.vo.UserModel;

<span class="hljs-javadoc">/**
 * 表现层-用户列表面板
 * 
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ListPanel</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">javax</span>.<span class="hljs-title">swing</span>.<span class="hljs-title">JPanel</span> {</span>
    <span class="hljs-keyword">private</span> JFrame mainFrame = <span class="hljs-keyword">null</span>;

    <span class="hljs-javadoc">/** Creates new form ListPanel */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title">ListPanel</span>(JFrame mainFrame) {
        <span class="hljs-keyword">this</span>.mainFrame = mainFrame;
        initComponents();
        myInitData();
    }

    <span class="hljs-javadoc">/**
     * 读取所有用户并添加进列表
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">myInitData</span>() {
        UserEbi user = UserEbiFactory.getUserEbi();
        List&lt;UserModel&gt; list = user.getAll();
        userLists.setListData(list.toArray());
    }

    <span class="hljs-javadoc">/** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */</span>
    <span class="hljs-comment">//GEN-BEGIN:initComponents</span>
    <span class="hljs-comment">// &lt;editor-fold defaultstate="collapsed" desc="Generated Code"&gt;</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initComponents</span>() {

        jScrollPane1 = <span class="hljs-keyword">new</span> javax.swing.JScrollPane();
        userLists = <span class="hljs-keyword">new</span> javax.swing.JList();
        jLabel1 = <span class="hljs-keyword">new</span> javax.swing.JLabel();
        btnToAdd = <span class="hljs-keyword">new</span> javax.swing.JButton();

        setMinimumSize(<span class="hljs-keyword">new</span> java.awt.Dimension(<span class="hljs-number">800</span>, <span class="hljs-number">600</span>));
        setLayout(<span class="hljs-keyword">null</span>);

        userLists.setModel(<span class="hljs-keyword">new</span> javax.swing.AbstractListModel() {
            String[] strings = { <span class="hljs-string">""</span> };

            <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getSize</span>() {
                <span class="hljs-keyword">return</span> strings.length;
            }

            <span class="hljs-keyword">public</span> Object <span class="hljs-title">getElementAt</span>(<span class="hljs-keyword">int</span> i) {
                <span class="hljs-keyword">return</span> strings[i];
            }
        });
        jScrollPane1.setViewportView(userLists);

        add(jScrollPane1);
        jScrollPane1.setBounds(<span class="hljs-number">150</span>, <span class="hljs-number">150</span>, <span class="hljs-number">480</span>, <span class="hljs-number">230</span>);

        jLabel1.setFont(<span class="hljs-keyword">new</span> java.awt.Font(<span class="hljs-string">"Tahoma"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">48</span>));
        jLabel1.setForeground(<span class="hljs-keyword">new</span> java.awt.Color(<span class="hljs-number">204</span>, <span class="hljs-number">0</span>, <span class="hljs-number">51</span>));
        jLabel1.setText(<span class="hljs-string">"User List"</span>);
        add(jLabel1);
        jLabel1.setBounds(<span class="hljs-number">270</span>, <span class="hljs-number">30</span>, <span class="hljs-number">260</span>, <span class="hljs-number">80</span>);

        btnToAdd.setFont(<span class="hljs-keyword">new</span> java.awt.Font(<span class="hljs-string">"Dialog"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">18</span>));
        btnToAdd.setText(<span class="hljs-string">"\u6dfb\u52a0\u7528\u6237"</span>);
        btnToAdd.addActionListener(<span class="hljs-keyword">new</span> java.awt.event.ActionListener() {
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">actionPerformed</span>(java.awt.event.ActionEvent evt) {
                btnToAddActionPerformed(evt);
            }
        });
        add(btnToAdd);
        btnToAdd.setBounds(<span class="hljs-number">60</span>, <span class="hljs-number">420</span>, <span class="hljs-number">150</span>, <span class="hljs-number">50</span>);
    }<span class="hljs-comment">// &lt;/editor-fold&gt;</span>
    <span class="hljs-comment">//GEN-END:initComponents</span>

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">btnToAddActionPerformed</span>(java.awt.event.ActionEvent evt) {
        mainFrame.setContentPane(<span class="hljs-keyword">new</span> AddPanel(mainFrame));
        mainFrame.validate();
    }

    <span class="hljs-comment">//GEN-BEGIN:variables</span>
    <span class="hljs-comment">// Variables declaration - do not modify</span>
    <span class="hljs-keyword">private</span> javax.swing.JButton btnToAdd;
    <span class="hljs-keyword">private</span> javax.swing.JLabel jLabel1;
    <span class="hljs-keyword">private</span> javax.swing.JScrollPane jScrollPane1;
    <span class="hljs-keyword">private</span> javax.swing.JList userLists;
    <span class="hljs-comment">// End of variables declaration//GEN-END:variables</span>

}</code></pre>

<hr />



<h2 id="usermodel类">UserModel类：</h2>

<p>| <br />
| <br />
|</p>

<p><strong>cn.hncu.bookStore.user.vo;</strong> <br />
<strong>UserModel类：</strong> <br />
用户值对象模块：</p>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.user.vo;

<span class="hljs-keyword">import</span> java.io.Serializable;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.common.UserTypeEnum;

<span class="hljs-javadoc">/**
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *<span class="hljs-javadoctag"> @version</span> 1.0
 * 
 * &lt;br/&gt;
 * 用于保存用户信息的值对象&lt;br/&gt;
 * 1、可序列化&lt;br/&gt;
 * 2、私有化所有变量成员，补setter-getters方法&lt;br/&gt;
 * 3、写equals和hashCode方法----用主键(uuid)唯一标识码&lt;br/&gt;
 * 4、toString方法&lt;br/&gt;
 * 5,空参构造方法&lt;br/&gt;
 */</span>

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserModel</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Serializable</span>{</span>
    <span class="hljs-keyword">private</span> String uuid;<span class="hljs-comment">//用户唯一标识码</span>
    <span class="hljs-keyword">private</span> String name;<span class="hljs-comment">//用户名</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> type;<span class="hljs-comment">//用户类型</span>
    <span class="hljs-keyword">private</span> String pwd;<span class="hljs-comment">//用户密码</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title">UserModel</span>() {
    }

    <span class="hljs-javadoc">/**
     * 功能：得到uuid-用户唯一的标识码
     * 
     *<span class="hljs-javadoctag"> @return</span> 返回uuid-用户唯一的标识码
     */</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title">getUuid</span>() {
        <span class="hljs-keyword">return</span> uuid;
    }

    <span class="hljs-javadoc">/**
     * 功能：设置uuid-用户唯一的标识码
     *<span class="hljs-javadoctag"> @param</span> uuid-用户唯一的标识码-String型参数
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUuid</span>(String uuid) {
        <span class="hljs-keyword">this</span>.uuid = uuid;
    }

    <span class="hljs-javadoc">/**
     * 功能：得到用户的用户名
     *<span class="hljs-javadoctag"> @return</span>---name-用户名
     */</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span>() {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-javadoc">/**
     * 功能：设置用户的用户名
     * 
     *<span class="hljs-javadoctag"> @param</span> name--用户设置的用户名，String型参数
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span>(String name) {
        <span class="hljs-keyword">this</span>.name = name;
    }

    <span class="hljs-javadoc">/**
     * 功能：得到用户的类型：
     *  1——表示为admin，可以进行全部操作
     *  2——表示为能操作图书模块的人员
     *  3——表示为能操作进货模块的人员
     *  4——表示为能操作销售模块的人员
     *  5——表示为能操作库存模块的人员
     *<span class="hljs-javadoctag"> @return</span> 用户的类型
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getType</span>() {
        <span class="hljs-keyword">return</span> type;
    }

    <span class="hljs-javadoc">/**
     *  功能：设置用户的类型：
     *  1——表示为admin，可以进行全部操作
     *  2——表示为能操作图书模块的人员
     *  3——表示为能操作进货模块的人员
     *  4——表示为能操作销售模块的人员
     *  5——表示为能操作库存模块的人员
     *<span class="hljs-javadoctag"> @param</span> type--用户的类型-int型参数
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setType</span>(<span class="hljs-keyword">int</span> type) {
        <span class="hljs-keyword">this</span>.type = type;
    }

    <span class="hljs-javadoc">/**
     *功能：得到用户的密码
     *<span class="hljs-javadoctag"> @return</span> String型，用户的密码
     */</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title">getPwd</span>() {
        <span class="hljs-keyword">return</span> pwd;
    }

    <span class="hljs-javadoc">/**
     * 功能：设置用户的密码
     *<span class="hljs-javadoctag"> @param</span> pwd--String型参数
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setPwd</span>(String pwd) {
        <span class="hljs-keyword">this</span>.pwd = pwd;
    }


    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">hashCode</span>() {
        <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> prime = <span class="hljs-number">31</span>;
        <span class="hljs-keyword">int</span> result = <span class="hljs-number">1</span>;
        result = prime * result + ((uuid == <span class="hljs-keyword">null</span>) ? <span class="hljs-number">0</span> : uuid.hashCode());
        <span class="hljs-keyword">return</span> result;
    }
    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">equals</span>(Object obj) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == obj)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
        <span class="hljs-keyword">if</span> (obj == <span class="hljs-keyword">null</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
        <span class="hljs-keyword">if</span> (getClass() != obj.getClass())
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
        UserModel other = (UserModel) obj;
        <span class="hljs-keyword">if</span> (uuid == <span class="hljs-keyword">null</span>) {
            <span class="hljs-keyword">if</span> (other.uuid != <span class="hljs-keyword">null</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!uuid.equals(other.uuid))
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }
    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span>() {
        <span class="hljs-keyword">return</span> uuid + <span class="hljs-string">","</span> + name + <span class="hljs-string">","</span> + UserTypeEnum.getNameByType(type);
    }

}
</code></pre>

<hr />



<h2 id="userquerymodel类">UserQueryModel类：</h2>

<p>| <br />
| <br />
|</p>

<p><strong>cn.hncu.bookStore.user.vo;</strong> <br />
<strong>UserQueryModel类：</strong> <br />
虽然没有代码，但不能不写！这是查找用户时需要的。 <br />
原因我在系列一写了。</p>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.user.vo;
<span class="hljs-javadoc">/**
 * 
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserQueryModel</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">UserModel</span>{</span>

}
</code></pre>

<hr />



<h2 id="fileioutil类">FileIoUtil类：</h2>

<p>| <br />
| <br />
|</p>

<p><strong>cn.hncu.bookStore.util;</strong> <br />
<strong>FileIoUtil类：</strong></p>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> cn.hncu.bookStore.util;

<span class="hljs-keyword">import</span> java.io.File;
<span class="hljs-keyword">import</span> java.io.FileInputStream;
<span class="hljs-keyword">import</span> java.io.FileNotFoundException;
<span class="hljs-keyword">import</span> java.io.FileOutputStream;
<span class="hljs-keyword">import</span> java.io.IOException;
<span class="hljs-keyword">import</span> java.io.ObjectInputStream;
<span class="hljs-keyword">import</span> java.io.ObjectOutputStream;
<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> javax.swing.JOptionPane;

<span class="hljs-javadoc">/**
 * 用户的公用数据读取写入类
 *<span class="hljs-javadoctag"> @author</span> 陈浩翔
 *
 *<span class="hljs-javadoctag"> @version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FileIoUtil</span> {</span>

    <span class="hljs-keyword">public</span> <span class="hljs-title">FileIoUtil</span>() {
    }


    <span class="hljs-javadoc">/**
     *  从数据库中读取所有的数据并返回出来
     *  
     *<span class="hljs-javadoctag"> @param</span> fileName：(数据表对应的文件名字)
     *<span class="hljs-javadoctag"> @return</span> 所有表的记录！
     */</span>
    <span class="hljs-annotation">@SuppressWarnings</span>(<span class="hljs-string">"unchecked"</span>)<span class="hljs-comment">//压警告</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span>&lt;E&gt; List&lt;E&gt; <span class="hljs-title">readFormFile</span>(String fileName){
        List&lt;E&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;E&gt;();
        <span class="hljs-keyword">final</span> File file = <span class="hljs-keyword">new</span> File(fileName);

        ObjectInputStream in =<span class="hljs-keyword">null</span>;
        <span class="hljs-keyword">if</span>(!file.exists()){
            <span class="hljs-comment">//JOptionPane.showMessageDialog(null, "数据表不存在！");</span>
            <span class="hljs-keyword">return</span> list;
        }
        <span class="hljs-keyword">try</span> {
            in = <span class="hljs-keyword">new</span> ObjectInputStream(<span class="hljs-keyword">new</span> FileInputStream(fileName));
            <span class="hljs-keyword">try</span> {
                list = (List&lt;E&gt;) in.readObject();

            } <span class="hljs-keyword">catch</span> (ClassNotFoundException e) {
                e.printStackTrace();
            }
        } <span class="hljs-keyword">catch</span> (FileNotFoundException e) {
            e.printStackTrace();
        } <span class="hljs-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }<span class="hljs-keyword">finally</span>{
            <span class="hljs-keyword">if</span>(in!=<span class="hljs-keyword">null</span>){
                <span class="hljs-keyword">try</span> {
                    in.close();
                } <span class="hljs-keyword">catch</span> (IOException e) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RuntimeException(<span class="hljs-string">"数据库关闭失败"</span>);
                }
            }
        }
        <span class="hljs-keyword">return</span> list;
    }


    <span class="hljs-javadoc">/**
     * 写入一个list集合进入数据文件fileName
     * 
     *<span class="hljs-javadoctag"> @param</span> list(需要存储的数据集合)
     *<span class="hljs-javadoctag"> @param</span> fileName(写入到哪个文件的文件名字)
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span>&lt;E&gt; <span class="hljs-keyword">void</span> <span class="hljs-title">write2file</span>(List&lt;E&gt; list, String fileName){
        ObjectOutputStream out = <span class="hljs-keyword">null</span>;

        <span class="hljs-keyword">try</span> {
            out = <span class="hljs-keyword">new</span> ObjectOutputStream(<span class="hljs-keyword">new</span> FileOutputStream(fileName));
            out.writeObject(list);
        } <span class="hljs-keyword">catch</span> (FileNotFoundException e) {
            e.printStackTrace();
        } <span class="hljs-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }<span class="hljs-keyword">finally</span>{
            <span class="hljs-keyword">if</span>(out!=<span class="hljs-keyword">null</span>){
                <span class="hljs-keyword">try</span> {
                    out.close();
                } <span class="hljs-keyword">catch</span> (IOException e) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RuntimeException(<span class="hljs-string">"数据库关闭失败!"</span>);
                }
            }
        }
    }

}
</code></pre>

<hr />



<h2 id="bookstore类含main方法">BookStore类：(含main方法)</h2>

<p>| <br />
| <br />
| <br />
<strong>cn.hncu.bookStore;</strong> <br />
<strong>BookStore类：</strong> <br />
用户模块的main方法在这个类中：</p>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-comment">/*
 * BookStore.java
 *
 * Created on __DATE__, __TIME__
 */</span>

<span class="hljs-keyword">package</span> cn.hncu.bookStore;

<span class="hljs-keyword">import</span> cn.hncu.bookStore.user.ui.ListPanel;

<span class="hljs-javadoc">/**
 *
 *<span class="hljs-javadoctag"> @author</span>  陈浩翔
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookStore</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">javax</span>.<span class="hljs-title">swing</span>.<span class="hljs-title">JFrame</span> {</span>

    <span class="hljs-javadoc">/** Creates new form BookStore */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title">BookStore</span>() {
        initComponents();
        <span class="hljs-keyword">this</span>.setContentPane(<span class="hljs-keyword">new</span> ListPanel(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">this</span>.setResizable(<span class="hljs-keyword">false</span>);<span class="hljs-comment">//不能缩放</span>
        <span class="hljs-keyword">this</span>.setDefaultCloseOperation(EXIT_ON_CLOSE);
    }

    <span class="hljs-javadoc">/** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */</span>
    <span class="hljs-comment">//GEN-BEGIN:initComponents</span>
    <span class="hljs-comment">// &lt;editor-fold defaultstate="collapsed" desc="Generated Code"&gt;</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initComponents</span>() {

        menuBar = <span class="hljs-keyword">new</span> javax.swing.JMenuBar();
        fileMenu = <span class="hljs-keyword">new</span> javax.swing.JMenu();
        openMenuItem = <span class="hljs-keyword">new</span> javax.swing.JMenuItem();
        saveMenuItem = <span class="hljs-keyword">new</span> javax.swing.JMenuItem();
        saveAsMenuItem = <span class="hljs-keyword">new</span> javax.swing.JMenuItem();
        exitMenuItem = <span class="hljs-keyword">new</span> javax.swing.JMenuItem();
        editMenu = <span class="hljs-keyword">new</span> javax.swing.JMenu();
        cutMenuItem = <span class="hljs-keyword">new</span> javax.swing.JMenuItem();
        copyMenuItem = <span class="hljs-keyword">new</span> javax.swing.JMenuItem();
        pasteMenuItem = <span class="hljs-keyword">new</span> javax.swing.JMenuItem();
        deleteMenuItem = <span class="hljs-keyword">new</span> javax.swing.JMenuItem();
        helpMenu = <span class="hljs-keyword">new</span> javax.swing.JMenu();
        contentsMenuItem = <span class="hljs-keyword">new</span> javax.swing.JMenuItem();
        aboutMenuItem = <span class="hljs-keyword">new</span> javax.swing.JMenuItem();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setMinimumSize(<span class="hljs-keyword">new</span> java.awt.Dimension(<span class="hljs-number">800</span>, <span class="hljs-number">600</span>));

        fileMenu.setText(<span class="hljs-string">"File"</span>);

        openMenuItem.setText(<span class="hljs-string">"Open"</span>);
        fileMenu.add(openMenuItem);

        saveMenuItem.setText(<span class="hljs-string">"Save"</span>);
        fileMenu.add(saveMenuItem);

        saveAsMenuItem.setText(<span class="hljs-string">"Save As ..."</span>);
        fileMenu.add(saveAsMenuItem);

        exitMenuItem.setText(<span class="hljs-string">"Exit"</span>);
        exitMenuItem.addActionListener(<span class="hljs-keyword">new</span> java.awt.event.ActionListener() {
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">actionPerformed</span>(java.awt.event.ActionEvent evt) {
                exitMenuItemActionPerformed(evt);
            }
        });
        fileMenu.add(exitMenuItem);

        menuBar.add(fileMenu);

        editMenu.setText(<span class="hljs-string">"Edit"</span>);

        cutMenuItem.setText(<span class="hljs-string">"Cut"</span>);
        editMenu.add(cutMenuItem);

        copyMenuItem.setText(<span class="hljs-string">"Copy"</span>);
        editMenu.add(copyMenuItem);

        pasteMenuItem.setText(<span class="hljs-string">"Paste"</span>);
        editMenu.add(pasteMenuItem);

        deleteMenuItem.setText(<span class="hljs-string">"Delete"</span>);
        editMenu.add(deleteMenuItem);

        menuBar.add(editMenu);

        helpMenu.setText(<span class="hljs-string">"Help"</span>);

        contentsMenuItem.setText(<span class="hljs-string">"Contents"</span>);
        helpMenu.add(contentsMenuItem);

        aboutMenuItem.setText(<span class="hljs-string">"About"</span>);
        helpMenu.add(aboutMenuItem);

        menuBar.add(helpMenu);

        setJMenuBar(menuBar);

        javax.swing.GroupLayout layout = <span class="hljs-keyword">new</span> javax.swing.GroupLayout(
                getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(layout.createParallelGroup(
                javax.swing.GroupLayout.Alignment.LEADING).addGap(<span class="hljs-number">0</span>, <span class="hljs-number">400</span>,
                Short.MAX_VALUE));
        layout.setVerticalGroup(layout.createParallelGroup(
                javax.swing.GroupLayout.Alignment.LEADING).addGap(<span class="hljs-number">0</span>, <span class="hljs-number">279</span>,
                Short.MAX_VALUE));

        pack();
    }<span class="hljs-comment">// &lt;/editor-fold&gt;</span>
    <span class="hljs-comment">//GEN-END:initComponents</span>

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">exitMenuItemActionPerformed</span>(java.awt.event.ActionEvent evt) {<span class="hljs-comment">//GEN-FIRST:event_exitMenuItemActionPerformed</span>
        System.exit(<span class="hljs-number">0</span>);
    }<span class="hljs-comment">//GEN-LAST:event_exitMenuItemActionPerformed</span>

    <span class="hljs-javadoc">/**
     *<span class="hljs-javadoctag"> @param</span> args the command line arguments
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(String args[]) {
        java.awt.EventQueue.invokeLater(<span class="hljs-keyword">new</span> Runnable() {
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span>() {
                <span class="hljs-keyword">new</span> BookStore().setVisible(<span class="hljs-keyword">true</span>);
            }
        });
    }

    <span class="hljs-comment">//GEN-BEGIN:variables</span>
    <span class="hljs-comment">// Variables declaration - do not modify</span>
    <span class="hljs-keyword">private</span> javax.swing.JMenuItem aboutMenuItem;
    <span class="hljs-keyword">private</span> javax.swing.JMenuItem contentsMenuItem;
    <span class="hljs-keyword">private</span> javax.swing.JMenuItem copyMenuItem;
    <span class="hljs-keyword">private</span> javax.swing.JMenuItem cutMenuItem;
    <span class="hljs-keyword">private</span> javax.swing.JMenuItem deleteMenuItem;
    <span class="hljs-keyword">private</span> javax.swing.JMenu editMenu;
    <span class="hljs-keyword">private</span> javax.swing.JMenuItem exitMenuItem;
    <span class="hljs-keyword">private</span> javax.swing.JMenu fileMenu;
    <span class="hljs-keyword">private</span> javax.swing.JMenu helpMenu;
    <span class="hljs-keyword">private</span> javax.swing.JMenuBar menuBar;
    <span class="hljs-keyword">private</span> javax.swing.JMenuItem openMenuItem;
    <span class="hljs-keyword">private</span> javax.swing.JMenuItem pasteMenuItem;
    <span class="hljs-keyword">private</span> javax.swing.JMenuItem saveAsMenuItem;
    <span class="hljs-keyword">private</span> javax.swing.JMenuItem saveMenuItem;
    <span class="hljs-comment">// End of variables declaration//GEN-END:variables</span>

}</code></pre>

<p>今天就写到这里的，未完待续。。。 <br />
目前的添加有一个小bug，就是添加用户时，什么都不输入， <br />
只选择用户类型，也能创建！下次我会修复的。</p></div>&#13;
        <script type="text/javascript">&#13;
            $(function () {&#13;
                $('pre.prettyprint code').each(function () {&#13;
                    var lines = $(this).text().split('\n').length;&#13;
                    var $numbering = $('&lt;ul/&gt;').addClass('pre-numbering').hide();&#13;
                    $(this).addClass('has-numbering').parent().append($numbering);&#13;
                    for (i = 1; i &lt;= lines; i++) {&#13;
                        $numbering.append($('&lt;li/&gt;').text(i));&#13;
                    };&#13;
                    $numbering.fadeIn(1700);&#13;
                });&#13;
            });&#13;
        </script>&#13;
   &#13;
