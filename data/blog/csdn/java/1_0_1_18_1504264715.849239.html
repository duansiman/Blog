
        <div class="markdown_views"><h2 id="概念理解">概念理解</h2>

<p>抽象工厂模式：生产出不同业务品种的不同业务分类，强调的是每个不同品种下的分类，而他的生产类中是按照业务分类来区别的，就像《设计模式之禅》举的例子，有奔驰车和宝马车，这个车强调的就是业务品种，要生产车门（车门就是业务分类），但是车门分为左侧车门个右侧车门。估计看到这个定义会不太理解，但通过阅读代码在回头看，就会很好理解。</p>

<h2 id="类图">类图</h2>

<p><img src="http://img.blog.csdn.net/20170319091716996?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcmVucGVuZ2RkeHg=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title="" /></p>



<h2 id="代码实现">代码实现</h2>

<p>1.java <br />
产品A抽象类</p>



<pre class="prettyprint"><code class=" hljs cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> AbsProductA {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">commonFunction</span>(){}

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doSomething</span>();
}</code></pre>

<p>产品B抽象类</p>



<pre class="prettyprint"><code class=" hljs cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> AbsProductB {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">commonFunction</span>(){}

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doSomething</span>();
}</code></pre>

<p>A产品分类1实现类</p>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProductA1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbsProductA</span> {</span>
    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doSomething</span>() {
        System.out.print(<span class="hljs-string">"A1"</span>);
    }
}</code></pre>

<p>A产品分类2实现类</p>

<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProductA2</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbsProductA</span> {</span>
    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doSomething</span>() {
        System.out.print(<span class="hljs-string">"A2"</span>);
    }
}</code></pre>

<p>B产品分类1实现类</p>

<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProductB1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbsProductB</span>{</span>
    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doSomething</span>() {
        System.out.print(<span class="hljs-string">"B1"</span>);
    }
}</code></pre>

<p>B产品分类2实现类</p>

<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProductB2</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbsProductB</span>{</span>
    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doSomething</span>() {
        System.out.print(<span class="hljs-string">"B2"</span>);
    }
}</code></pre>

<p>工厂抽象类</p>

<pre class="prettyprint"><code class=" hljs cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> AbsCreater {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> AbsProductA <span class="hljs-title">createProductA</span>();

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> AbsProductB <span class="hljs-title">createPriductB</span>();

}</code></pre>

<p>分类1工厂类</p>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Creater1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbsCreater</span> {</span>
    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> AbsProductA <span class="hljs-title">createProductA</span>() {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ProductA1();
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> AbsProductB <span class="hljs-title">createPriductB</span>() {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ProductB1();
    }
}</code></pre>

<p>分类2工厂类</p>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Creater2</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbsCreater</span> {</span>

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> AbsProductA <span class="hljs-title">createProductA</span>() {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ProductA2();
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> AbsProductB <span class="hljs-title">createPriductB</span>() {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ProductB2();
    }
}</code></pre>

<p>2.php</p>



<pre class="prettyprint"><code class=" hljs php"><span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AbsProductA</span>
{</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">commomFunction</span><span class="hljs-params">()</span>{</span>}

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doSomething</span><span class="hljs-params">()</span>;</span>
}

<span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AbsProductB</span>
{</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">commonFunction</span><span class="hljs-params">()</span>{</span>}

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doSomething</span><span class="hljs-params">()</span>;</span>
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProductA1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbsProductA</span>
{</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doSomething</span><span class="hljs-params">()</span>
    {</span>
        <span class="hljs-keyword">echo</span> <span class="hljs-string">'A1'</span>;
    }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProductA2</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbsProductA</span>
{</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doSomething</span><span class="hljs-params">()</span>
    {</span>
        <span class="hljs-keyword">echo</span> <span class="hljs-string">'A2'</span>;
    }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProductB1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbsProductB</span>
{</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doSomething</span><span class="hljs-params">()</span>
    {</span>
        <span class="hljs-keyword">echo</span> <span class="hljs-string">'B1'</span>;
    }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProductB2</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbsProductB</span>
{</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doSomething</span><span class="hljs-params">()</span>
    {</span>
        <span class="hljs-keyword">echo</span> <span class="hljs-string">'B2'</span>;
    }
}

<span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AbsCreater</span>
{</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createA</span><span class="hljs-params">()</span>;</span>

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createB</span><span class="hljs-params">()</span>;</span>
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Creater1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbsCreater</span>
{</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createA</span><span class="hljs-params">()</span>
    {</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ProductA1();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createB</span><span class="hljs-params">()</span>
    {</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ProductB1();
    }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Creater2</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbsCreater</span>
{</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createA</span><span class="hljs-params">()</span>
    {</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ProductA2();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createB</span><span class="hljs-params">()</span>
    {</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ProductB2();
    }
}

<span class="hljs-variable">$creater1</span> = <span class="hljs-keyword">new</span> Creater1();
<span class="hljs-variable">$creater1</span>-&gt;createA()-&gt;doSomething();
<span class="hljs-variable">$creater1</span>-&gt;createB()-&gt;doSomething();

<span class="hljs-variable">$creater2</span> = <span class="hljs-keyword">new</span> Creater2();
<span class="hljs-variable">$creater2</span>-&gt;createA()-&gt;doSomething();
<span class="hljs-variable">$creater2</span>-&gt;createB()-&gt;doSomething();</code></pre></div>&#13;
        <script type="text/javascript">&#13;
            $(function () {&#13;
                $('pre.prettyprint code').each(function () {&#13;
                    var lines = $(this).text().split('\n').length;&#13;
                    var $numbering = $('&lt;ul/&gt;').addClass('pre-numbering').hide();&#13;
                    $(this).addClass('has-numbering').parent().append($numbering);&#13;
                    for (i = 1; i &lt;= lines; i++) {&#13;
                        $numbering.append($('&lt;li/&gt;').text(i));&#13;
                    };&#13;
                    $numbering.fadeIn(1700);&#13;
                });&#13;
            });&#13;
        </script>&#13;
   &#13;
