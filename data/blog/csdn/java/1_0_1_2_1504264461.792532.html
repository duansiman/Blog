
        <div class="markdown_views"><h1 id="1struts标签的介绍"><strong>1.struts标签的介绍</strong></h1>

<p>Struts框架提供了一组非常丰富的框架组件，同时也提供了一组标签库用于和这些组件交互，主要介绍以下三类：</p>

<ul>
<li>html标签</li>
<li>bean标签</li>
<li>logic标签</li>
</ul>



<h1 id="2html标签库"><strong>2.Html标签库</strong></h1>

<p>struts标签库中包括很多标签，其中html标签是最常用的标签之一，该标签库包含的标签可以用来创建Struts输入表单和用户界面。</p>

<p>这类标签实际上就是普通的html标签，Struts设计者主要是为了和Struts框架统一，对普通的html标签做了一个封装，它的本质仍然是html标签。</p>

<p>使用struts的html标签，在文件的开头要使用如下语句引入标签库：</p>

<blockquote>
  <p><code>&lt;%@ taglib prefix="html" uri="http://struts.apache.org/tags-html" %&gt;</code></p>
</blockquote>

<p>举几个简单的例子：</p>

<p><strong>（1）<code>&lt;html:button&gt;标签</code></strong> <br />
这个标签就相当于HTML中的<code>&lt;input type="button"&gt;</code>标签，它的property属性就相当于<code>&lt;button&gt;</code>的<code>name</code>属性</p>



<pre class="prettyprint"><code class="language-html hljs "><span class="hljs-tag">&lt;<span class="hljs-title">html:button</span> <span class="hljs-attribute">property</span>=<span class="hljs-value">"button1"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"提交"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">html:button</span>&gt;</span></code></pre>

<p><strong>(2)<code>&lt;html:image&gt;</code>标签和<code>&lt;html:img&gt;</code>标签</strong> <br />
<code>&lt;html:image&gt;</code>这个标签是一个<strong>图片按钮</strong>，而并不是一个单纯的图片。 <br />
<code>&lt;html:img&gt;</code>标签是一个单纯的图片。</p>



<pre class="prettyprint"><code class="language-html hljs "><span class="hljs-tag">&lt;<span class="hljs-title">html:image</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"images/psb.jpg"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">html:image</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html:img</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"images/psb.jpg"</span>/&gt;</span></code></pre>

<p><strong>（3）<code>&lt;html:link&gt;</code>标签</strong> <br />
超链接标签。它可以通过<code>href</code>属性链接到当前应用外的链接，也可以通过<code>page</code>属性链接到当前应用下的某个资源。</p>



<pre class="prettyprint"><code class="language-html hljs "><span class="hljs-tag">&lt;<span class="hljs-title">html:link</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"http://www.sohu.com"</span>&gt;</span>链接到Sohu<span class="hljs-tag">&lt;/<span class="hljs-title">html:link</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html:link</span> <span class="hljs-attribute">page</span>=<span class="hljs-value">"/login.jsp"</span>&gt;</span>Login<span class="hljs-tag">&lt;/<span class="hljs-title">html:link</span>&gt;</span></code></pre>

<p>所以，在<code>href</code>属性中要写全路径，而在<code>page</code>属性中要写基于当前应用的路径。 <br />
使用struts的link标签有一个好处是：它自动帮我们做了<strong>URL重写</strong>的工作，所以我们不用再担心客户端禁用了Cookie。</p>

<hr />

<p>在html标签库中form标签是最重要的标签，它和struts框架紧密结合。form标签和一个ActionForm对应，当form的各个字段与ActionForm的属性匹配时，那么当客户把Form提交后，struts框架将用户的输入保存到对应的ActionForm中。这样就完成了标签与组件的交互工作。</p>

<p>所以，<code>&lt;html:form&gt;</code>标签的action属性值所指的struts动作在struts-config.xml文件中必须正确配置，否则会报错。</p>

<p>下面主要介绍一下form标签，以及其常用的子标签。</p>

<p><strong>（1）<code>&lt;html:form&gt;</code>标签</strong></p>

<p>用法如下：</p>



<pre class="prettyprint"><code class="language-html hljs "><span class="hljs-tag">&lt;<span class="hljs-title">html:form</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"/login.do(struts动作)"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"post/get"</span>&gt;</span></code></pre>

<p><strong>（2）<code>&lt;html:text&gt;</code>标签</strong> <br />
该标签是最常用的HTML标签，它对应于HTML中的<code>&lt;input type="text"&gt;</code>标签，它的property属性对应于<code>&lt;input type="text"&gt;</code>标签的name属性，而且，它的property属性和其对应的ActionForm对象实例绑定，也就是说，property属性的值必须和ActionForm子类中相应的属性拥有同样的名字。否则，该标签将会抛出异常。</p>



<pre class="prettyprint"><code class="language-html hljs "><span class="hljs-tag">&lt;<span class="hljs-title">html:text</span> <span class="hljs-attribute">property</span>=<span class="hljs-value">"name"</span>/&gt;</span></code></pre>

<p>该标签的其他用法和<code>&lt;input type="text"&gt;</code>这个标签的用法完全一致。</p>

<p><strong>（2）<code>&lt;html:radio&gt;</code>标签</strong> <br />
<code>&lt;html:radio&gt;</code>标签对应于HTML中的<code>&lt;input type=radio&gt;</code>标签，如性别选项对应两个<code>&lt;html:radio&gt;</code>标签：</p>



<pre class="prettyprint"><code class="language-html hljs ">男<span class="hljs-tag">&lt;<span class="hljs-title">html:radio</span> <span class="hljs-attribute">property</span>=<span class="hljs-value">"sex"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"0"</span>/&gt;</span>
女<span class="hljs-tag">&lt;<span class="hljs-title">html:radio</span> <span class="hljs-attribute">property</span>=<span class="hljs-value">"sex"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"1"</span>/&gt;</span></code></pre>

<p>这里的两个radio标签中的property属性值必须都为一样的”sex”，这个名字和其对应的ActionForm子类中的属性值一致。每个value表示选中当前选项后，提交给服务器的值，也就是通过ActionForm的子类实例对象的相应属性可以获得的值。</p>

<p><strong>（3）<code>&lt;html:checkbox&gt;</code>标签</strong> <br />
<code>&lt;html:checkbox&gt;</code>标签对应于HTML中的<code>&lt;input type=checkbox&gt;</code>标签，它的基本用法如下：</p>



<pre class="prettyprint"><code class="language-html hljs "><span class="hljs-tag">&lt;<span class="hljs-title">html:checkbox</span> <span class="hljs-attribute">property</span>=<span class="hljs-value">"student"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"true"</span>/&gt;</span></code></pre>

<p>其中的value属性表示勾选这个复选框时提交给服务端的值。</p>

<p><strong>（4）<code>&lt;html:multibox&gt;</code>标签</strong> <br />
<code>&lt;html:multibox&gt;</code>标签也对应于HTML中的<code>&lt;input type=checkbox&gt;</code>标签，但是<code>&lt;html:multibox&gt;</code>标签和<code>&lt;html:checkbox&gt;</code>标签在映射到ActionForm子类实例对象的相应属性的映射方式不同。所有property属性值相同的<code>&lt;html:multibox&gt;</code>标签被映射到同一个property所指的属性中，并且这个属性是一个数组类型。而<code>&lt;html:checkbox&gt;</code>标签值对应了一个值。 <br />
<code>&lt;html:multibox&gt;</code>标签的基本用法如下：</p>



<pre class="prettyprint"><code class="language-html hljs ">香蕉<span class="hljs-tag">&lt;<span class="hljs-title">html:multibox</span> <span class="hljs-attribute">property</span>=<span class="hljs-value">"fruits"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"香蕉"</span>/&gt;</span>
苹果<span class="hljs-tag">&lt;<span class="hljs-title">html:multibox</span> <span class="hljs-attribute">property</span>=<span class="hljs-value">"fruits"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"苹果"</span>/&gt;</span>
西瓜<span class="hljs-tag">&lt;<span class="hljs-title">html:multibox</span> <span class="hljs-attribute">property</span>=<span class="hljs-value">"fruits"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"西瓜"</span>/&gt;</span>
桃子<span class="hljs-tag">&lt;<span class="hljs-title">html:multibox</span> <span class="hljs-attribute">property</span>=<span class="hljs-value">"fruits"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"桃子"</span>/&gt;</span></code></pre>

<p>其中，value属性也表示选中当前复选框的返回值。</p>

<p><strong>（5）<code>&lt;html:select&gt;</code>和<code>&lt;html:option&gt;</code>标签</strong> <br />
<code>&lt;html:select&gt;</code>和<code>&lt;html:option&gt;</code>标签组合对应了HTML中的<code>&lt;select&gt;&lt;option&gt;</code>组合，基本用法如下：</p>



<pre class="prettyprint"><code class="language-html hljs "><span class="hljs-tag">&lt;<span class="hljs-title">html:select</span> <span class="hljs-attribute">property</span>=<span class="hljs-value">"address"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">html:option</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"北京"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">html:option</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"上海"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">html:option</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"深圳"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">html:option</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"广州"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html:select</span>&gt;</span></code></pre>

<p>其中，value属性表示在下拉列表框中选择某一项时像服务端提交的值。</p>

<p><strong>（6）<code>&lt;html:submit&gt;</code>和<code>&lt;html:reset&gt;</code>标签</strong> <br />
这两个标签分别对应了HTML中的<code>&lt;input type="submit"&gt;</code>和<code>&lt;input type="submit"&gt;</code>标签，用法如下：</p>



<pre class="prettyprint"><code class="language-html hljs "><span class="hljs-tag">&lt;<span class="hljs-title">html:submit</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"提交"</span>/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html:reset</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"重置"</span>/&gt;</span></code></pre>

<p>除了上述所介绍的之外，Struts1的HTML标签库还有其他的标签，这里不再一一赘述。</p>



<h1 id="3bean标签库"><strong>3.Bean标签库</strong></h1>

<p>Bean标签库为访问Bean和它的属性提供了方便的机制： <br />
1.该标签库包含的标签可以用来创建bean、访问bean和访问bean的属性。 <br />
2.提供了依据cookies、headers和parameters的值创建相关bean的能力。</p>

<p>使用struts的bean标签库，也需要在文件的开头引入：</p>

<blockquote>
  <p><code>&lt;%@ taglib prefix="bean" uri="http://struts.apache.org/tags-bean" %&gt;</code></p>
</blockquote>

<p>我们常用的主要是<code>&lt;bean:write&gt;</code>标签和<code>&lt;bean:message&gt;</code>标签，下面也主要介绍这两种标签。</p>

<p><strong>（1）<code>&lt;bean:write&gt;</code>标签</strong> <br />
该标签主要用来输出，与JSTL中的<code>&lt;c:out&gt;</code>标签类似，但是用法略有不同，如下：</p>



<pre class="prettyprint"><code class="language-html hljs "><span class="vbscript">&lt;%
<span class="hljs-built_in">request</span>.setAttribute(<span class="hljs-string">"abc"</span>,<span class="hljs-string">"Hello World!"</span>);
Cat cat = <span class="hljs-keyword">new</span> Cat(<span class="hljs-string">"小花猫"</span>,<span class="hljs-number">5</span>);
<span class="hljs-built_in">request</span>.setAttribute(<span class="hljs-string">"cat1"</span>, cat);
%&gt;</span>
<span class="hljs-comment">&lt;!-- bean:write 用于输出信息 --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">h1</span>&gt;</span>输出变量<span class="hljs-tag">&lt;/<span class="hljs-title">h1</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">bean:write</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"abc"</span> <span class="hljs-attribute">scope</span>=<span class="hljs-value">"request"</span>/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">h1</span>&gt;</span>输出对象的属性值<span class="hljs-tag">&lt;/<span class="hljs-title">h1</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">bean:write</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"cat1"</span> <span class="hljs-attribute">property</span>=<span class="hljs-value">"name"</span> <span class="hljs-attribute">scope</span>=<span class="hljs-value">"request"</span>/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">bean:write</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"cat1"</span> <span class="hljs-attribute">property</span>=<span class="hljs-value">"age"</span> <span class="hljs-attribute">scope</span>=<span class="hljs-value">"request"</span>/&gt;</span></code></pre>

<p><strong>（2）<code>&lt;bean:message&gt;</code>标签</strong> <br />
该标签通常和资源文件配合使用，可以更加方便地输出信息，这些信息在资源文件中配置。 <br />
所谓的资源文件，就是指struts自动为我们配置的ApplicationResource.properties文件：</p>

<p>比如，我们在资源文件中配置如下：</p>



<pre class="prettyprint"><code class=" hljs fix"><span class="hljs-attribute">key1 </span>=<span class="hljs-string"> welcome {0}</span></code></pre>

<p>在JSP页面，我们可以做如下输出：</p>



<pre class="prettyprint"><code class="language-html hljs "><span class="hljs-tag">&lt;<span class="hljs-title">bean:message</span> <span class="hljs-attribute">key</span>=<span class="hljs-value">"key1"</span> <span class="hljs-attribute">arg0</span>=<span class="hljs-value">"John"</span>/&gt;</span></code></pre>

<p>此时，界面会输出 welcome John</p>

<p>这个标签通常用于国际化，在资源文件中用不同的语言配置不同的提示语，在界面上判断输出。</p>



<h1 id="4logic标签库"><strong>4.logic标签库</strong></h1>

<p>logic标签库主要用于管理和条件相关的输出，都某些对象进行迭代和输出，和流程管理。</p>

<p>同样的，引入logic标签库：</p>

<blockquote>
  <p><code>&lt;%@ taglib prefix="logic" uri="http://struts.apache.org/tags-logic" %&gt;</code></p>
</blockquote>

<p><strong>（1）<code>&lt;logic:iterate&gt;</code>循环标签</strong> <br />
与jstl中的<code>&lt;c:forEach&gt;</code>标签类似，使用方法如下：</p>

<pre class="prettyprint"><code class="language-html hljs "><span class="vbscript">&lt;%
Cat cat1 = <span class="hljs-keyword">new</span> Cat(<span class="hljs-string">"小黑"</span>, <span class="hljs-number">5</span>);
Cat cat2 = <span class="hljs-keyword">new</span> Cat(<span class="hljs-string">"小花"</span>, <span class="hljs-number">6</span>);
Cat cat3 = <span class="hljs-keyword">new</span> Cat(<span class="hljs-string">"小灰"</span>, <span class="hljs-number">7</span>);
ArrayList&lt;Cat&gt; al = <span class="hljs-keyword">new</span> ArrayList&lt;Cat&gt;();
al.add(cat1);
al.add(cat2);
al.add(cat3);
<span class="hljs-built_in">request</span>.setAttribute(<span class="hljs-string">"cats"</span>, al);
%&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">logic:iterate</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"cat"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"cats"</span> <span class="hljs-attribute">scope</span>=<span class="hljs-value">"request"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">bean:write</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"cat"</span> <span class="hljs-attribute">property</span>=<span class="hljs-value">"name"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">bean:write</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"cat"</span> <span class="hljs-attribute">property</span>=<span class="hljs-value">"age"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">br</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">logic:iterate</span>&gt;</span></code></pre>

<p>这里，循环的对象为request域中的cats，每次将对象赋给id=cat的变量，然后再调用bean:write标签输出。</p>

<p>其实更简单的，这里也可以直接用EL表达式输出，效果是一样的：</p>



<pre class="prettyprint"><code class="language-html hljs "><span class="hljs-tag">&lt;<span class="hljs-title">logic:iterate</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"cat"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"cats"</span> <span class="hljs-attribute">scope</span>=<span class="hljs-value">"request"</span>&gt;</span>
    ${cat.name}
    ${cat.age }<span class="hljs-tag">&lt;<span class="hljs-title">br</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">logic:iterate</span>&gt;</span></code></pre>

<p><strong>（2）<code>&lt;logic:greaterThan&gt;</code>标签</strong> <br />
该标签用于判断一个变量是否大于一个值。如下，我们可以循环判断哪一只猫的年龄大于5岁：</p>



<pre class="prettyprint"><code class="language-html hljs "><span class="hljs-tag">&lt;<span class="hljs-title">logic:iterate</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"cat"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"cats"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">logic:greaterThan</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"cat"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"5"</span> <span class="hljs-attribute">property</span>=<span class="hljs-value">"age"</span>&gt;</span>
        ${cat.name}的年龄大于5岁！<span class="hljs-tag">&lt;<span class="hljs-title">br</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">logic:greaterThan</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">logic:iterate</span>&gt;</span></code></pre>

<p>与此类似的，还有<code>&lt;logic:equal&gt;</code>，<code>&lt;logic:greaterEqual&gt;</code>，<code>&lt;logic:lessThan&gt;</code>标签等等。</p>

<p><strong>(3)<code>&lt;logic:empty&gt;</code>和<code>&lt;logic:notEmpty&gt;</code>标签</strong> <br />
这两个标签用于判断在一个域对象中是否存在某一个属性，如下例：</p>



<pre class="prettyprint"><code class="language-html hljs "><span class="hljs-tag">&lt;<span class="hljs-title">logic:empty</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"ee"</span> <span class="hljs-attribute">scope</span>=<span class="hljs-value">"request"</span>&gt;</span>
    ee属性在request域对象中不存在<span class="hljs-tag">&lt;<span class="hljs-title">br</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">logic:empty</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-title">logic:notEmpty</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"cats"</span> <span class="hljs-attribute">scope</span>=<span class="hljs-value">"request"</span>&gt;</span>
    cats属性在request域对象中存在<span class="hljs-tag">&lt;<span class="hljs-title">br</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">logic:notEmpty</span>&gt;</span></code></pre>

<hr />

<p>到这里，我们已经知道了很多不同的标签，有HTML原生标签，JSTL标准标签，EL表达式和Struts标签，其中有很多标签的功能是一样的，这里给出一个选择使用标签的原则：</p>

<blockquote>
  <p>JSTC -&gt; EL -&gt; Struts</p>
</blockquote>

<p>即，优先使用JSTL和EL表达式，最后再选择使用struts标签库。</p></div>&#13;
        <script type="text/javascript">&#13;
            $(function () {&#13;
                $('pre.prettyprint code').each(function () {&#13;
                    var lines = $(this).text().split('\n').length;&#13;
                    var $numbering = $('&lt;ul/&gt;').addClass('pre-numbering').hide();&#13;
                    $(this).addClass('has-numbering').parent().append($numbering);&#13;
                    for (i = 1; i &lt;= lines; i++) {&#13;
                        $numbering.append($('&lt;li/&gt;').text(i));&#13;
                    };&#13;
                    $numbering.fadeIn(1700);&#13;
                });&#13;
            });&#13;
        </script>&#13;
   &#13;
