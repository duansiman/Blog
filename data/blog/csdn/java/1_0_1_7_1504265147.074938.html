
                
<p/>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px; text-align:center">&#13;
<span style="font-size:24px">要想正确理解设计模式，首先必须明确它是为了解决什么问题而提出来的。</span></p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px; text-align:center">&#13;
<span style="font-size:24px">设计模式学习笔记</span></p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px; text-align:right">&#13;
<span style="font-size:24px">——Shulin</span></p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px; text-align:right">&#13;
<span style="font-size:24px">转载请注明出处：<a target="_blank" href="http://blog.csdn.net/zhshulin" style="color:rgb(202,0,0); text-decoration:none">http://blog.csdn.net/zhshulin</a></span></p>&#13;
<p/>&#13;
<blockquote style="margin:0 0 0 40px; border:none; padding:0px">&#13;
<p/>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><br/>&#13;
</p>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">桥接模式的定义："</span><span style="font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)"><span style="color:#ff0000">将抽象部分与实现部分分离，使它们都可以独立的变化</span></span><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">"</span><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">。</span><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)"/></p>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)"><br/>&#13;
</span></p>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)"><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">桥接模式是所有</span><span style="font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)"><span style="color:#ff0000">面向对象模式的基础</span></span><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">，通过对桥接模式的学习来理解设计模式的思想。</span><span style="color:#333333">理由如下：</span></span><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)"/></p>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">1、</span><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">它教导如何思考抽象，这是面向对象设计模式的关键概念。</span><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)"/></p>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">2、</span><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">它实现了基本的OOD原则。</span><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)"/></p>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">3、</span><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">它容易理解。</span><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)"/></p>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">4、</span><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">如果正确理解该模式，学习其他模式会很容易。</span><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)"/></p>&#13;
<br/>&#13;
</blockquote>&#13;
<p/>&#13;
<p style="text-align:center"><img src="http://img.blog.csdn.net/20140106210731187?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvemhzaHVsaW4=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""/><br/>&#13;
</p>&#13;
<blockquote style="margin:0 0 0 40px; border:none; padding:0px">&#13;
<p>假设以下场景：</p>&#13;
</blockquote>&#13;
<p/>&#13;
<blockquote style="margin:0 0 0 40px; border:none; padding:0px">&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">我们房间里有些电器(电灯，风扇等)。这些设备按照某些方式布局，并由开关控制。任何时候你都能替换或排查一个电器而不用碰到其他东西。例如，你可以换一个电灯而不需要换开关。同样，你可以换一个开关或排查它而不需要碰到或替换相应的电灯或风扇;甚至你可以用把电灯连接到风扇的开关上，把风扇连到电灯的开关上，而不需要碰到开关。</span></p>&#13;
</blockquote>&#13;
<br/>&#13;
<p/>&#13;
<blockquote style="margin:0 0 0 40px; border:none; padding:0px">&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">当不同东西联系在一起时，它们应该按照一定方式联系：</span><span style="font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)"><span style="color:#ff0000">修改或替换一个系统时不会影响到另一个</span></span><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">，或者说即便有，也应该最小化。这能够让你的系统易于管理，且成本低。</span></p>&#13;
</blockquote>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><br/>&#13;
</p>&#13;
<blockquote style="margin:0 0 0 40px; border:none; padding:0px">&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">把电灯/风扇和开关联系到一起的是电线和电器布局。我们可以它们看做不同系统间相互联系的桥梁。其基本的思想是，一个事物不能和另一外一个事物直接联系。它们应当通过某些桥梁或接口联系在一起。用软件术语来说，这叫“</span><span style="color:rgb(255,0,0); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">松耦合</span><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">”。</span></p>&#13;
</blockquote>&#13;
<br/>&#13;
<p/>&#13;
<blockquote style="margin:0 0 0 40px; border:none; padding:0px">&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">例子中我们有开关，可能有几种开关，如普通的开关，漂亮的开关，但通常来说它们还是开关，并且每种开关都能够打开和关闭。</span></p>&#13;
</blockquote>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)"><br/>&#13;
</span></p>&#13;
<blockquote style="margin:0 0 0 40px; border:none; padding:0px">&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">所以下面我们会有一个</span><span style="font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)"><span style="color:#ff0000">开关的父类Switch</span></span><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">：</span></p>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)"><span style="white-space:pre"/></span></p>&#13;
<pre code_snippet_id="145119" snippet_file_name="blog_20140106_1_165951" name="code" class="java">public class Switch {          
      public void On() {  }       
      public void Off(){  }   
} </pre>&#13;
<p/>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="font-family:宋体; color:#333333"><span style="font-size:14px; white-space:pre"><br/>&#13;
</span></span></p>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="font-family:宋体; color:#333333"><span style="font-size:14px; white-space:pre">接下来我们会有其他的具体的开关来继承这个父类，他们都各自有自己的特征和行为，当然最基本的就是开、关，如:</span></span></p>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><br/>&#13;
</p>&#13;
</blockquote>&#13;
<blockquote style="margin:0 0 0 40px; border:none; padding:0px"><pre code_snippet_id="145119" snippet_file_name="blog_20140106_3_9266017" name="code" class="java">public class FancySwitch extends Switch {
	public void on(){
		System.out.println("打开开关！！！！");
	}
	public void off(){
		System.out.println("关闭开关！！！！");
	}
}</pre><br/>&#13;
<pre code_snippet_id="145119" snippet_file_name="blog_20140106_4_3867824" name="code" class="java">public class NormalSwitch extends Switch {
	public void on(){
		System.out.println("打开开关！！！！");
	}
	public void off(){
		System.out.println("关闭开关！！！！");
	}
	
}</pre><br/>&#13;
<p/>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">对于电灯和电扇等具体的电器，根据OODP的开放闭合原则，我们知道只要可能，就应该尝试抽象</span><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)"/></p>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><br/>&#13;
</p>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">跟开关不一样，风扇和电灯等是两种不同的事物。对于开关，我们能够使用一个开关基类Switch，但风扇和电灯是两个不同的事物，相比定义一个基类，接口可能更合适。一般来说，他们都是电器。所以我们可以定义一个接口，如IElectricalEquipment，作为对电灯和风扇的抽象。</span><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)"/></p>&#13;
<br/>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)"/></p>&#13;
<pre code_snippet_id="145119" snippet_file_name="blog_20140106_5_4009527" name="code" class="java">public interface IElectricalEquipment {
	public void powerOn();	//每个电器都可以打开
	public void powerOff();	//每个电器都可以关闭
}</pre><br/>&#13;
<p/>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">现在我们需要一座桥梁。在现实中，电线是桥梁。在我们对象设计中，开关知道如何打开和关闭电器，电器以某种方式联系到开关。这里我们没有电线，让电器连接到开关的唯一方式是封装。但开关不能直接知道风扇或电灯。开关应当知道一个电器IElectricalEquipment能够打开或关闭。这意味着，Switch应该有一个IElectricalEquipment实例。</span></p>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="background-color:rgb(248,248,248); color:rgb(51,51,51); font-family:宋体; font-size:10.5pt"><br/>&#13;
</span></p>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="background-color:rgb(248,248,248); color:rgb(51,51,51); font-family:宋体; font-size:10.5pt"><br/>&#13;
</span></p>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="background-color:rgb(248,248,248); color:rgb(51,51,51); font-family:宋体; font-size:10.5pt">对风扇或电灯的封装的实例是一个桥梁。所以让我们修改Switch类以便封装一个电器：</span></p>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"/>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="background-color:rgb(248,248,248); color:rgb(51,51,51); font-family:宋体; font-size:10.5pt"/></p>&#13;
<pre code_snippet_id="145119" snippet_file_name="blog_20140207_5_77425" name="code" class="java">public class Switch {      
    public IElectricalEquipment iEquip;        
    public IElectricalEquipment getiEquip() {
		return iEquip;
	}
	public void setiEquip(IElectricalEquipment iEquip) {
		this.iEquip = iEquip;
	}
	public void On() {        
      //开关打开           
   }        
    public void Off() {         
     //开关关闭        
  }     
} </pre>&#13;
<p/>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="background-color:rgb(248,248,248); color:rgb(51,51,51); font-family:宋体; font-size:10.5pt"><br/>&#13;
</span></p>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="background-color:rgb(248,248,248); color:rgb(51,51,51); font-family:宋体; font-size:10.5pt">下面定义真实的电器：风扇和电灯，他们都实现了IElectricalEquipment接口。</span></p>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"/>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">电扇：</span><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)"/></p>&#13;
<pre code_snippet_id="145119" snippet_file_name="blog_20140106_7_7357597" name="code" class="java">public class Fan implements IElectricalEquipment {
	@Override
	public void powerOn() {
		System.out.println("打开电扇！");
	} 
	@Override
	public void powerOff() {
		System.out.println("关闭电风扇！");
	}
}</pre>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">电灯：</span><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)"/></p>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)"/></p>&#13;
<pre code_snippet_id="145119" snippet_file_name="blog_20140106_8_6627249" name="code" class="java">public class Light implements IElectricalEquipment {
	
	@Override
	public void powerOn() {
		System.out.println("打开电灯！");
	}

	@Override
	public void powerOff() {
		System.out.println("电灯关闭！");
	}

}</pre>&#13;
<p><br/>&#13;
</p>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)">现在开关必须可以控制电器：</span></p>&#13;
<p class="p0" style="margin-bottom:0pt; margin-top:0pt"><span style="color:rgb(51,51,51); font-size:10.5pt; font-family:宋体; background-color:rgb(248,248,248)"/></p>&#13;
<pre code_snippet_id="145119" snippet_file_name="blog_20140106_9_4817106" name="code" class="java">public class BridgeModeDemo {

	public static void main(String[] args) {
		Switch fancySwitch = new FancySwitch();	//实例化漂亮的开关
		Switch normalSwitch = new NormalSwitch();	//实例化普通开关
		IElectricalEquipment fan = new Fan();	//实例化电风扇
		IElectricalEquipment light = new Light();	//实例化电灯
		normalSwitch.setiEquip(light);
		fancySwitch.setiEquip(fan);
		fancySwitch.getiEquip().powerOn();	//此时具体的开关和电扇连接起来了
		normalSwitch.getiEquip().powerOn();	//打开电灯
	}

}</pre><br/>&#13;
<br/>&#13;
<p/>&#13;
</blockquote>&#13;
<link rel="stylesheet" href="http://static.blog.csdn.net/public/res-min/markdown_views.css?v=1.0"/>&#13;
            