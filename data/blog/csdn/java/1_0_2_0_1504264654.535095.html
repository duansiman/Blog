
        <div class="markdown_views"><p>一、java实现的三种方式</p>

<p>方式一</p>



<pre class="prettyprint"><code class=" hljs cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> SingleInstance {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> final SingleInstance instance = <span class="hljs-keyword">new</span> SingleInstance();

    <span class="hljs-keyword">private</span> <span class="hljs-title">SingleInstance</span>(){}

    <span class="hljs-keyword">public</span> SingleInstance <span class="hljs-title">getInstance</span>(){
        <span class="hljs-keyword">return</span> instance;
    }

}</code></pre>

<p>方式二</p>



<pre class="prettyprint"><code class=" hljs cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> SingleInstance {

    <span class="hljs-keyword">private</span> <span class="hljs-title">SingleInstance</span>(){}

    <span class="hljs-keyword">public</span> SingleInstance <span class="hljs-title">getInstance</span>(){
        <span class="hljs-keyword">return</span> SingleInstanceFactory.instance;
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> SingleInstanceFactory{
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> final SingleInstance instance = <span class="hljs-keyword">new</span> SingleInstance(); 
    }

}</code></pre>

<p>方式三</p>



<pre class="prettyprint"><code class=" hljs cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> SingleInstance {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> SingleInstance instance = <span class="hljs-keyword">null</span>;

    <span class="hljs-keyword">private</span> <span class="hljs-title">SingleInstance</span>(){}

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SingleInstance <span class="hljs-title">getInstance</span>(){
        <span class="hljs-keyword">if</span>(instance == <span class="hljs-keyword">null</span>){
            synchronized (SingleInstance.class){
                <span class="hljs-keyword">if</span>(instance == <span class="hljs-keyword">null</span>){
                    instance = <span class="hljs-keyword">new</span> SingleInstance();
                }
            }
        }
        <span class="hljs-keyword">return</span> instance;
    }

}</code></pre>

<p>二、php方式</p>



<pre class="prettyprint"><code class=" hljs php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SingleInstance</span>
{</span>
      <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">()</span>{</span>
          <span class="hljs-keyword">echo</span> <span class="hljs-string">"11111"</span>;
      }

      <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getInstance</span><span class="hljs-params">()</span>
      {</span>
          <span class="hljs-keyword">static</span> <span class="hljs-variable">$instance</span>;
          <span class="hljs-keyword">if</span>(<span class="hljs-keyword">false</span> == <span class="hljs-variable">$instance</span>)
          {
              <span class="hljs-variable">$instance</span> = <span class="hljs-keyword">new</span> <span class="hljs-keyword">self</span>();
          }

          <span class="hljs-keyword">return</span> <span class="hljs-variable">$instance</span>;
      }
 }</code></pre></div>&#13;
        <script type="text/javascript">&#13;
            $(function () {&#13;
                $('pre.prettyprint code').each(function () {&#13;
                    var lines = $(this).text().split('\n').length;&#13;
                    var $numbering = $('&lt;ul/&gt;').addClass('pre-numbering').hide();&#13;
                    $(this).addClass('has-numbering').parent().append($numbering);&#13;
                    for (i = 1; i &lt;= lines; i++) {&#13;
                        $numbering.append($('&lt;li/&gt;').text(i));&#13;
                    };&#13;
                    $numbering.fadeIn(1700);&#13;
                });&#13;
            });&#13;
        </script>&#13;
   &#13;
