
        <div class="markdown_views"><p>多模块的好处就是协同开发,对于大的项目这样分工可以提高效率,同时减轻代码耦合,看起来也一目了然,maven多模块还解决了不同人开发使用的架包版本冲突等问题</p>



<h1 id="一创建项目">一.创建项目</h1>



<h3 id="1创建父级容器">1.创建父级容器</h3>

<p>不要使用模板,直接创建,创建后就可以直接把src目录删除,这个容器是用来承载其他子项目的</p>



<h3 id="2创建子项目">2.创建子项目</h3>

<p>直接对着父项目右键,然后创建module,选择你需要用到的模板</p>

<p><img src="http://img.blog.csdn.net/20160602210838904" alt="这里写图片描述" title="" /></p>



<h3 id="3创建后idea生成的配置">3.创建后IDEA生成的配置</h3>

<p>首先是目录结构, <br />
<img src="http://img.blog.csdn.net/20160602211116014" alt="这里写图片描述" title="" /></p>

<p>对应的maven结构,root代表父项目</p>

<p><img src="http://img.blog.csdn.net/20160602211218250" alt="这里写图片描述" title="" /></p>

<p>父项目的pom.xml,IDEA很智能的把要配置的都配置完整了</p>



<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-pi">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">project</span> <span class="hljs-attribute">xmlns</span>=<span class="hljs-value">"http://maven.apache.org/POM/4.0.0"</span>
         <span class="hljs-attribute">xmlns:xsi</span>=<span class="hljs-value">"http://www.w3.org/2001/XMLSchema-instance"</span>
         <span class="hljs-attribute">xsi:schemaLocation</span>=<span class="hljs-value">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-title">modelVersion</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>com.mrdear<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>module_main<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
    <span class="hljs-comment">&lt;!--pom类型表示当前项目是一个父项目--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">packaging</span>&gt;</span>pom<span class="hljs-tag">&lt;/<span class="hljs-title">packaging</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
    <span class="hljs-comment">&lt;!--modules用来定义当前模块的项目列表--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">modules</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">module</span>&gt;</span>maven-parent<span class="hljs-tag">&lt;/<span class="hljs-title">module</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">module</span>&gt;</span>maven-entity<span class="hljs-tag">&lt;/<span class="hljs-title">module</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">module</span>&gt;</span>maven-core<span class="hljs-tag">&lt;/<span class="hljs-title">module</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">module</span>&gt;</span>maven-web<span class="hljs-tag">&lt;/<span class="hljs-title">module</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">modules</span>&gt;</span>


<span class="hljs-tag">&lt;/<span class="hljs-title">project</span>&gt;</span></code></pre>

<p>子项目的pom.xml</p>



<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-pi">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">project</span> <span class="hljs-attribute">xmlns</span>=<span class="hljs-value">"http://maven.apache.org/POM/4.0.0"</span>
         <span class="hljs-attribute">xmlns:xsi</span>=<span class="hljs-value">"http://www.w3.org/2001/XMLSchema-instance"</span>
         <span class="hljs-attribute">xsi:schemaLocation</span>=<span class="hljs-value">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span>
    <span class="hljs-comment">&lt;!--表示当前继承与这个maven坐标对应的项目--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">parent</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>module_main<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>com.mrdear<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">parent</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-title">modelVersion</span>&gt;</span>
<span class="hljs-comment">&lt;!--打包类型没配置,默认为jar--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>maven-entity<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>


<span class="hljs-tag">&lt;/<span class="hljs-title">project</span>&gt;</span></code></pre>

<p>到此整个多模块就算创建完毕了,不得不说用IDEA实在是太方便了,总结一下 <br />
1. 创建父项目 <br />
2. 创建子项目 <br />
3. 父项目设置打包类型packaging为pom,表示为父项目,并且使用modules标签管理子项目 <br />
4. 子项目使用parent标签来继承父项目</p>

<hr />



<h1 id="二使用dependencymanagement管理依赖">二.使用dependencyManagement管理依赖</h1>

<p>在 pom 中指明 dependencymanagement 元素的方式 maven 结合项目继承来管理依赖。在多模块应用中，可能多个子项目会有共同的依赖。此时为了正确运行，必须让所有的子项目使用依赖项的同一版本。必须确保应用的各个项目的依赖项和版本一致，才能保证测试的和发布的是相同的成果。因此，应在顶层的 pom 中定义共同的依赖关系。</p>

<p>与dependencys不同的是在项目中虽然子项目继承了这个pom文件,但是只有显示的声明引入,才会真正的引入,并不是像dependencys这样全部引入继承的包. <br />
换句话说<strong>dependencyManagement只会影响现有依赖的配置，但不会引入依赖</strong></p>

<p>例如在主项目中配置:</p>



<pre class="prettyprint"><code class=" hljs xml">    <span class="hljs-tag">&lt;<span class="hljs-title">dependencyManagement</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">dependencies</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">dependency</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>4.10<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-title">scope</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">dependencies</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">dependencyManagement</span>&gt;</span></code></pre>

<p>子项目中引入:</p>



<pre class="prettyprint"><code class=" hljs xml">    <span class="hljs-tag">&lt;<span class="hljs-title">dependencies</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">dependencies</span>&gt;</span></code></pre>

<p>这样就保证了所有的子项目使用的包都是同一版本的</p>

<hr />



<h1 id="三使用pluginmanagement管理插件">三.使用pluginManagement管理插件</h1>

<p>pluginManagement和dependencyManagement不同,配置完成后,子项目<strong>直接继承使用</strong>,可以通过effectivePom查看,所以一般配置公共的插件,如编译版本,编码之类的.</p>



<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">build</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">pluginManagement</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">plugins</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">plugin</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>org.apache.maven.plugins<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>maven-compiler-plugin<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>2.3.2<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">configuration</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">source</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-title">source</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">target</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-title">target</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">encoding</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-title">encoding</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-title">configuration</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">plugin</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">plugins</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">pluginManagement</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">build</span>&gt;</span></code></pre>

<p>直接在父项目中如上配置,子项目就可以直接使用这个插件,无需配置了.</p>



<h1 id="四项目间互相依赖">四.项目间互相依赖</h1>

<p>直接使用dependency标签配置即可,把子项目就当成jar包用就好了,如下面就是增加entity实体的依赖,这样做的好处就是协同开发,不同的人写不同的模块</p>



<pre class="prettyprint"><code class=" hljs xml">  <span class="hljs-comment">&lt;!--配置子项目依赖--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>com.mrdear<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>maven-entity<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">dependency</span>&gt;</span></code></pre></div>&#13;
        <script type="text/javascript">&#13;
            $(function () {&#13;
                $('pre.prettyprint code').each(function () {&#13;
                    var lines = $(this).text().split('\n').length;&#13;
                    var $numbering = $('&lt;ul/&gt;').addClass('pre-numbering').hide();&#13;
                    $(this).addClass('has-numbering').parent().append($numbering);&#13;
                    for (i = 1; i &lt;= lines; i++) {&#13;
                        $numbering.append($('&lt;li/&gt;').text(i));&#13;
                    };&#13;
                    $numbering.fadeIn(1700);&#13;
                });&#13;
            });&#13;
        </script>&#13;
   &#13;
