
        <div class="markdown_views"><p>在使用SpringMVC的时候我们可以使用Spring封装的一系列表单标签，这些标签都可以访问到ModelMap中的内容。下面将对这些标签一一介绍。</p>

<hr />



<h2 id="1引入标签头文件">1.引入标签头文件</h2>

<p>在正式介绍SpringMVC的表单标签之前，我们需要先在JSP中声明使用的标签，具体做法是在JSP文件的顶部加入以下指令：</p>



<pre class="prettyprint"><code class=" hljs mel">&lt;<span class="hljs-variable">%@</span>taglib prefix=<span class="hljs-string">"sf"</span> uri=<span class="hljs-string">"http://www.springframework.org/tags/form"</span> <span class="hljs-variable">%&gt;</span></code></pre>

<hr />



<h2 id="2form标签">2.form标签</h2>

<p>使用Spring的form标签主要有两个作用，第一是它会自动的绑定来自Model中的一个属性值到当前form对应的实体对象，默认是command属性(一般都用modelAttribute,两者本质上没有区别)，这样我们就可以在form表单体里面方便的使用该对象的属性了；第二是它支持我们在提交表单的时候使用除GET和POST之外的其他方法进行提交，包括DELETE和PUT等。</p>

<ul>
<li>代码实例</li>
</ul>



<pre class="prettyprint"><code class="language-jsp hljs xml">        // 这里使用modelAttribute换成commandName也是一样的效果
 <span class="hljs-tag">&lt;<span class="hljs-title">sf:form</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"formTag/form.do"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"post"</span> <span class="hljs-attribute">modelAttribute</span>=<span class="hljs-value">"user"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">table</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>Name:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">form:input</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"name"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>Age:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">form:input</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"age"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span> <span class="hljs-attribute">colspan</span>=<span class="hljs-value">"2"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"提交"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">sf:form</span>&gt;</span></code></pre>

<p>这个时候如果Model中存在一个属性名称为user的javaBean，而且该javaBean拥有属性name和age的时候，在渲染上面的代码时就会取command的对应属性值赋给对应标签的值。如在上面的代码中，假设Model中存在一个属性名称为user的javaBean，且它的name和age属性分别为“Zhangsan”和“36”时，那么它在渲染时就会生成如下一段代码：</p>



<pre class="prettyprint"><code class="language-jsp hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">form</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"user"</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"formTag/form.do"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"post"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">table</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>Name:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"name"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"name"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"ZhangSan"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>Age:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"age"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"age"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"36"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span> <span class="hljs-attribute">colspan</span>=<span class="hljs-value">"2"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"提交"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form</span>&gt;</span></code></pre>

<p>从上面生成的代码中，我们可以看出，当没有指定form标签的id时它会自动获取该form标签绑定的Model中对应属性名称作为id，而对于input标签在没有指定id的情况下它会自动获取path指定的属性作为id和name。</p>



<h3 id="2支持隐藏域请求">2.支持隐藏域请求</h3>

<p>看下面代码,我们可以把form的method设为delete</p>



<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">form:form</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"formTag/form.do"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"delete"</span> <span class="hljs-attribute">modelAttribute</span>=<span class="hljs-value">"user"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">table</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>Name:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">form:input</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"name"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>Age:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">form:input</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"age"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span> <span class="hljs-attribute">colspan</span>=<span class="hljs-value">"2"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"提交"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form:form</span>&gt;</span></code></pre>

<p>在上面代码中我们设定了该form的提交方法是delete，这样在后台我们就可以给对应的请求方法的RequestMapping加上method为RequestMethod.DELETE的限制。我们来看一下上面的代码在进行渲染的时候会生成怎样的Html代码，其生成的代码如下所示：</p>



<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">form</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"user"</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"formTag/form.do"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"post"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"hidden"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"_method"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"delete"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">table</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>Name:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"name"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"name"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"ZhangSan"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>Age:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"age"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"age"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"36"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span> <span class="hljs-attribute">colspan</span>=<span class="hljs-value">"2"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"提交"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form</span>&gt;</span></code></pre>

<p>从它生成的代码我们可以看出，Spring在实现除GET和POST之外的请求方法时，还是使用的POST方法进行请求，然后给表单加上了一个隐藏域，用以表示真正的请求方法，这个隐藏域的名称默认是“_method”。上面这样定义之后是不是就意味着我们可以以delete方式访问到“formTag/form.do”了呢？答案是不行的。这样定义我们只是多加了一个用以表示请求方法的隐藏域而已，实际的请求方式还是POST。Spring为我们提供了一个Filter——HiddenHttpMethodFilter，通过这个Filter我们可以把以POST方式传递过来的表示实际请求方式的参数转换为对应的真正的Http请求方法。所以这个时候我们还需要在<strong>web.xml</strong>中加上如下代码：</p>



<pre class="prettyprint"><code class=" hljs vbscript">    &lt;<span class="hljs-built_in">filter</span>&gt;
       &lt;<span class="hljs-built_in">filter</span>-name&gt;hiddenHttpMethodFilter&lt;/<span class="hljs-built_in">filter</span>-name&gt;
       &lt;<span class="hljs-built_in">filter</span>-<span class="hljs-keyword">class</span>&gt;org.springframework.web.<span class="hljs-built_in">filter</span>.HiddenHttpMethodFilter&lt;/<span class="hljs-built_in">filter</span>-<span class="hljs-keyword">class</span>&gt;
    &lt;/<span class="hljs-built_in">filter</span>&gt;
    &lt;<span class="hljs-built_in">filter</span>-mapping&gt;
       &lt;<span class="hljs-built_in">filter</span>-name&gt;hiddenHttpMethodFilter&lt;/<span class="hljs-built_in">filter</span>-name&gt;
       &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
    &lt;/<span class="hljs-built_in">filter</span>-mapping&gt;</code></pre>

<p>注意：HiddenHttpMethodFilter只能对以POST方式进行传递的表示请求方式的隐藏域转换为真正的Http请求方式。当我们直接在form：form标签的method中使用除GET和POST方法以外的其他方法时，Spring会自动生成以POST方式进行传递的表单以及对应的隐藏域。所以当我们需要手动的设置表示请求方法的隐藏域时，我们就需要指定表单的请求方式为POST，为GET将不会生效。</p>



<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">form:form</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"formTag/form.do"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"post"</span> <span class="hljs-attribute">modelAttribute</span>=<span class="hljs-value">"user"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"hidden"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"_method"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"head"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">table</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>Name:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">form:input</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"name"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>Age:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">form:input</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"age"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span> <span class="hljs-attribute">colspan</span>=<span class="hljs-value">"2"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"提交"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form:form</span>&gt;</span></code></pre>

<p>上面代码就是一个手动定义请求方式的隐藏域的示例。这里表示请求方式的隐藏域的名称默认是“_method”，如果不想使用这个默认值的话，我们也可以通过form:form标签的methodParam属性来指定。如下面这个示例：</p>



<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">form:form</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"formTag/form.do"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"post"</span> <span class="hljs-attribute">methodParam</span>=<span class="hljs-value">"requestMethod"</span> <span class="hljs-attribute">modelAttribute</span>=<span class="hljs-value">"user"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"hidden"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"requestMethod"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"head"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">table</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>Name:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">form:input</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"name"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>Age:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">form:input</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"age"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span> <span class="hljs-attribute">colspan</span>=<span class="hljs-value">"2"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"提交"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form:form</span>&gt;</span></code></pre>

<p>同时我们也要告诉HiddenHttpMethodFilter我们是使用哪个表单参数作为methodParam，所以我们需要在配置HiddenHttpMethodFilter的时候指明methodParam对应的值。</p>



<pre class="prettyprint"><code class=" hljs xml">    <span class="hljs-tag">&lt;<span class="hljs-title">filter</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-title">filter-name</span>&gt;</span>hiddenHttpMethodFilter<span class="hljs-tag">&lt;/<span class="hljs-title">filter-name</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-title">filter-class</span>&gt;</span>org.springframework.web.filter.HiddenHttpMethodFilter<span class="hljs-tag">&lt;/<span class="hljs-title">filter-class</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-title">init-param</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-title">param-name</span>&gt;</span>methodParam<span class="hljs-tag">&lt;/<span class="hljs-title">param-name</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-title">param-value</span>&gt;</span>requestMethod<span class="hljs-tag">&lt;/<span class="hljs-title">param-value</span>&gt;</span>
       <span class="hljs-tag">&lt;/<span class="hljs-title">init-param</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">filter</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">filter-mapping</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-title">filter-name</span>&gt;</span>hiddenHttpMethodFilter<span class="hljs-tag">&lt;/<span class="hljs-title">filter-name</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-title">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-title">url-pattern</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">filter-mapping</span>&gt;</span></code></pre>

<p>另外需要注意的是在有Multipart请求处理的时候HiddenHttpMethodFilter需要在Multipart处理之后执行，因为在处理Multipart时需要从POST请求体中获取参数。所以我们通常会在HiddenHttpMethodFilter之前设立一个MultipartFilter。MultipartFilter默认会去寻找一个名称为filterMultipartResolver的MultipartResolver bean对象来对当前的请求进行封装。所以当你定义的MultipartResolver的名称不为filterMultipartResolver的时候就需要在定义MultipartFilter的时候通过参数multipartResolverBeanName来指定。</p>



<pre class="prettyprint"><code class=" hljs xml">    <span class="hljs-tag">&lt;<span class="hljs-title">filter</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-title">filter-name</span>&gt;</span>multipartFilter<span class="hljs-tag">&lt;/<span class="hljs-title">filter-name</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-title">filter-class</span>&gt;</span>org.springframework.web.multipart.support.MultipartFilter<span class="hljs-tag">&lt;/<span class="hljs-title">filter-class</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-title">init-param</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-title">param-name</span>&gt;</span>multipartResolverBeanName<span class="hljs-tag">&lt;/<span class="hljs-title">param-name</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-title">param-value</span>&gt;</span>multipartResolver<span class="hljs-tag">&lt;/<span class="hljs-title">param-value</span>&gt;</span>
       <span class="hljs-tag">&lt;/<span class="hljs-title">init-param</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">filter</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">filter-mapping</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-title">filter-name</span>&gt;</span>multipartFilter<span class="hljs-tag">&lt;/<span class="hljs-title">filter-name</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-title">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-title">url-pattern</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">filter-mapping</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-title">filter</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-title">filter-name</span>&gt;</span>hiddenHttpMethodFilter<span class="hljs-tag">&lt;/<span class="hljs-title">filter-name</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-title">filter-class</span>&gt;</span>org.springframework.web.filter.HiddenHttpMethodFilter<span class="hljs-tag">&lt;/<span class="hljs-title">filter-class</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-title">init-param</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-title">param-name</span>&gt;</span>methodParam<span class="hljs-tag">&lt;/<span class="hljs-title">param-name</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-title">param-value</span>&gt;</span>requestMethod<span class="hljs-tag">&lt;/<span class="hljs-title">param-value</span>&gt;</span>
       <span class="hljs-tag">&lt;/<span class="hljs-title">init-param</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">filter</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">filter-mapping</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-title">filter-name</span>&gt;</span>hiddenHttpMethodFilter<span class="hljs-tag">&lt;/<span class="hljs-title">filter-name</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-title">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-title">url-pattern</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">filter-mapping</span>&gt;</span></code></pre>

<hr />



<h2 id="2input标签">2.input标签</h2>

<p>SpringMVC的input标签会被渲染为一个type为text的普通Html input标签。使用SpringMVC的input标签的唯一作用就是它能绑定表单数据。SpringMVC表单标签最大的好处就是它支持数据绑定，当我们的表单标签不需要绑定的数据的时候，我们应该使用普通的Html标签。关于input标签绑定表单数据的方法已经在介绍form标签的时候顺带介绍过了，这里就不再过多的赘述了。</p>



<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">form:form</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"formTag/form.do"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"head"</span> <span class="hljs-attribute">modelAttribute</span>=<span class="hljs-value">"user"</span> <span class="hljs-attribute">methodParam</span>=<span class="hljs-value">"requestMethod"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">table</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>Name:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">form:input</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"name"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>Age:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">form:input</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"age"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span> <span class="hljs-attribute">colspan</span>=<span class="hljs-value">"2"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"提交"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form:form</span>&gt;</span></code></pre>

<hr />



<h2 id="3hidden标签">3.hidden标签</h2>

<p>hidden标签会被渲染为一个type为hidden的普通Html input标签。用法跟input标签一样，也能绑定表单数据，只是它生成的是一个隐藏域。</p>

<hr />



<h2 id="4checkbox标签">4.checkbox标签</h2>

<p>checkbox标签会被渲染为一个type为checkbox的普通HTML input标签。checkbox标签也是支持绑定数据的。我们知道checkbox就是一个复选框，有选中和不选中两种状态，那么我们在使用checkbox标签的时候是如何来设定它的状态的呢？checkbox标签的选中与否状态是根据它绑定的值来判断的</p>

<ul>
<li>绑定boolean数据</li>
</ul>



<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">form:form</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"formTag/form.do"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"post"</span> <span class="hljs-attribute">commandName</span>=<span class="hljs-value">"user"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">table</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>Male:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">form:checkbox</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"male"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span> <span class="hljs-attribute">colspan</span>=<span class="hljs-value">"2"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"提交"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form:form</span>&gt;</span></code></pre>

<p>看上面这段代码，这个时候假设我们在渲染该视图之前往ModelMap中添加了一个user属性，并且该user对象有一个类型为boolean的属性male，那么这个时候如果male属性为true则Male那一栏的复选框将会被选中。</p>

<ul>
<li>绑定列表数据 <br />
这里的列表数据包括数组、List和Set。下面将以List为例讲一下checkbox是如何根据绑定的列表数据来设定选中状态的。现在假设有一个类User，其有一个类型为List的属性roles，如下所示：</li>
</ul>



<pre class="prettyprint"><code class=" hljs cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> User {

    <span class="hljs-keyword">private</span> List&lt;String&gt; roles;

    <span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title">getRoles</span>() {
       <span class="hljs-keyword">return</span> roles;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setRoles</span>(List&lt;String&gt; roles) {
       <span class="hljs-keyword">this</span>.roles = roles;
    }
}</code></pre>

<p>那么当我们需要展现该User是否拥有某一个Role的时候，我们可以使用checkbox标签来绑定roles数据进行展现。当checkbox标签的value在我们绑定的列表数据中存在的时候该checkbox将为选中状态。来看下面一段代码：</p>



<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">form:form</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"formTag/form.do"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"post"</span> <span class="hljs-attribute">commandName</span>=<span class="hljs-value">"user"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">table</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>Roles:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-title">form:checkbox</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"roles"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"role1"</span>/&gt;</span>Role1<span class="hljs-tag">&lt;<span class="hljs-title">br</span>/&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-title">form:checkbox</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"roles"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"role2"</span>/&gt;</span>Role2<span class="hljs-tag">&lt;<span class="hljs-title">br</span>/&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-title">form:checkbox</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"roles"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"role3"</span>/&gt;</span>Role3
            <span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form:form</span>&gt;</span></code></pre>

<p>就上面代码而言就是当User拥有role1的时候对应的就会为选中状态，也就是说roles列表中包含role1的时候该checkbox就会为选中状态。</p>

<ul>
<li>绑定一个Object数据 <br />
checkbox还支持绑定数据类型为Object的数据，这种情况下Spring会拿所绑定对象数据的toString结果跟当前checkbox的value进行比较，如果能够进行匹配则该checkbox将为选中状态。</li>
</ul>

<hr />



<h2 id="5checkboxes标签">5.Checkboxes标签</h2>

<p>相对于一个checkbox标签只能生成一个对应的复选框而言，一个checkboxes标签将根据其绑定的数据生成N个复选框。checkboxes绑定的数据可以是数组、集合和Map。在使用checkboxes时我们有两个属性是必须指定的，一个是path，另一个是items。Items表示当前要用来展现的项有哪些，而path所绑定的表单对象的属性表示当前表单对象拥有的项，即在items所展现的所有项中表单对象拥有的项会被设定为选中状态。先来看以下一段代码：</p>



<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">form:form</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"formTag/form.do"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"post"</span> <span class="hljs-attribute">commandName</span>=<span class="hljs-value">"user"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">table</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>Roles:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-title">form:checkboxes</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"roles"</span> <span class="hljs-attribute">items</span>=<span class="hljs-value">"${roleList}"</span>/&gt;</span> 
            <span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span> <span class="hljs-attribute">colspan</span>=<span class="hljs-value">"2"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"提交"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form:form</span>&gt;</span></code></pre>

<p>上面的JSP视图对应着如下的处理器方法：</p>



<pre class="prettyprint"><code class=" hljs lasso">    @RequestMapping(value<span class="hljs-subst">=</span><span class="hljs-string">"form"</span>, method<span class="hljs-subst">=</span>RequestMethod<span class="hljs-built_in">.</span>GET)
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">String</span> formTag(<span class="hljs-built_in">Map</span><span class="hljs-subst">&lt;</span><span class="hljs-built_in">String</span>, Object<span class="hljs-subst">&gt;</span> <span class="hljs-built_in">map</span>) {
       User user <span class="hljs-subst">=</span> <span class="hljs-literal">new</span> User();
       <span class="hljs-built_in">List</span><span class="hljs-subst">&lt;</span><span class="hljs-built_in">String</span><span class="hljs-subst">&gt;</span> roles <span class="hljs-subst">=</span> <span class="hljs-literal">new</span> ArrayList<span class="hljs-subst">&lt;</span><span class="hljs-built_in">String</span><span class="hljs-subst">&gt;</span>();
       roles<span class="hljs-built_in">.</span>add(<span class="hljs-string">"role1"</span>);
       roles<span class="hljs-built_in">.</span>add(<span class="hljs-string">"role3"</span>);
       user<span class="hljs-built_in">.</span>setRoles(roles);
       <span class="hljs-built_in">List</span><span class="hljs-subst">&lt;</span><span class="hljs-built_in">String</span><span class="hljs-subst">&gt;</span> roleList <span class="hljs-subst">=</span> <span class="hljs-literal">new</span> ArrayList<span class="hljs-subst">&lt;</span><span class="hljs-built_in">String</span><span class="hljs-subst">&gt;</span>();
       roleList<span class="hljs-built_in">.</span>add(<span class="hljs-string">"role1"</span>);
       roleList<span class="hljs-built_in">.</span>add(<span class="hljs-string">"role2"</span>);
       roleList<span class="hljs-built_in">.</span>add(<span class="hljs-string">"role3"</span>);
       <span class="hljs-built_in">map</span><span class="hljs-built_in">.</span>put(<span class="hljs-string">"user"</span>, user);
       <span class="hljs-built_in">map</span><span class="hljs-built_in">.</span>put(<span class="hljs-string">"roleList"</span>, roleList);
       <span class="hljs-keyword">return</span> <span class="hljs-string">"formTag/form"</span>;
    }</code></pre>

<p>从以上代码中我们可以看到我们放在ModelMap中的roleList对象有三个元素，分别是role1、role2和role3，而我们的表单对象User的roles属性只拥有两个元素，分别是role1和role3,，所以当我们访问该处理器方法返回如上所示的视图页面时，我们要展现的复选框项是roleList，也就是role1、role2和role3，而我们表单对象只拥有role1和role3，所以在页面进行渲染的时候会展示3个复选框项，但只有role1和role3会被设定为选中状态。</p>

<hr />

<p>上面介绍的这种情况是使用List作为展现复选框项的数据源，这种情况我们已经看到了它所呈现出来的标签Label和它的值是一样的。使用Array和Set作为数据源也是这种情况。那么如果要让checkboxes呈现出来的Label和实际上送的value不同的话应该怎么做呢？这个时候我们就可以使用Map作为数据源了。使用Map作为checkboxes的items属性的数据源时Key将作为真正的复选框的value，而Map的value将作为Label进行展示。当使用Map作为checkboxes的items属性的数据源时我们绑定的表单对象属性的类型可以是Array、集合和Map，这种情况就是判断items Map中是否含有对应的key来决定当前的复选框是否处于选中状态。我们来看以下一个处理器方法以及其对应的视图代码。</p>



<pre class="prettyprint"><code class=" hljs lasso">    @RequestMapping(value<span class="hljs-subst">=</span><span class="hljs-string">"form"</span>, method<span class="hljs-subst">=</span>RequestMethod<span class="hljs-built_in">.</span>GET)
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">String</span> formTag(<span class="hljs-built_in">Map</span><span class="hljs-subst">&lt;</span><span class="hljs-built_in">String</span>, Object<span class="hljs-subst">&gt;</span> <span class="hljs-built_in">map</span>) {
       User user <span class="hljs-subst">=</span> <span class="hljs-literal">new</span> User();
       <span class="hljs-built_in">List</span><span class="hljs-subst">&lt;</span><span class="hljs-built_in">String</span><span class="hljs-subst">&gt;</span> roles <span class="hljs-subst">=</span> <span class="hljs-literal">new</span> ArrayList<span class="hljs-subst">&lt;</span><span class="hljs-built_in">String</span><span class="hljs-subst">&gt;</span>();
       roles<span class="hljs-built_in">.</span>add(<span class="hljs-string">"role1"</span>);
       roles<span class="hljs-built_in">.</span>add(<span class="hljs-string">"role3"</span>);
       user<span class="hljs-built_in">.</span>setRoles(roles);
       <span class="hljs-built_in">Map</span><span class="hljs-subst">&lt;</span><span class="hljs-built_in">String</span>, <span class="hljs-built_in">String</span><span class="hljs-subst">&gt;</span> roleMap <span class="hljs-subst">=</span> <span class="hljs-literal">new</span> HashMap<span class="hljs-subst">&lt;</span><span class="hljs-built_in">String</span>, <span class="hljs-built_in">String</span><span class="hljs-subst">&gt;</span>();
       roleMap<span class="hljs-built_in">.</span>put(<span class="hljs-string">"role1"</span>, <span class="hljs-string">"角色1"</span>);
       roleMap<span class="hljs-built_in">.</span>put(<span class="hljs-string">"role2"</span>, <span class="hljs-string">"角色2"</span>);
       roleMap<span class="hljs-built_in">.</span>put(<span class="hljs-string">"role3"</span>, <span class="hljs-string">"角色3"</span>);
       <span class="hljs-built_in">map</span><span class="hljs-built_in">.</span>put(<span class="hljs-string">"user"</span>, user);
       <span class="hljs-built_in">map</span><span class="hljs-built_in">.</span>put(<span class="hljs-string">"roleMap"</span>, roleMap);
       <span class="hljs-keyword">return</span> <span class="hljs-string">"formTag/form"</span>;
    }</code></pre>

<p>对应的视图代码：</p>



<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">form:form</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"formTag/form.do"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"post"</span> <span class="hljs-attribute">commandName</span>=<span class="hljs-value">"user"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">table</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>Roles:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-title">form:checkboxes</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"roles"</span> <span class="hljs-attribute">items</span>=<span class="hljs-value">"${roleMap}"</span>/&gt;</span>  
            <span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span> <span class="hljs-attribute">colspan</span>=<span class="hljs-value">"2"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"提交"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form:form</span>&gt;</span></code></pre>

<p>这个时候我们知道会呈现出3个复选框，而checkboxes绑定的表单对象user的roles属性是一个集合对象，其包含的两个元素都能在checkboxes的items数据源中找到对应的Key，所以以这两个元素为value的checkbox将处于选中状态</p>

<p>当我们使用Array或者集合作为数据源，且里面的元素都是一个一个POJO时，我们还可以使用checkboxes标签的itemLabel和itemValue属性来表示使用数组或者集合中元素对象的哪一个属性作为需要呈现的单选框的label和value。</p>

<hr />



<h2 id="6radiobutton标签">6.radiobutton标签</h2>

<p>radiobutton标签会被渲染为一个type为radio的普通HTML input标签。radiobutton标签也是可以绑定数据的。以下是一个radiobutton的简单应用示例：</p>



<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">form:form</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"formTag/form.do"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"post"</span> <span class="hljs-attribute">commandName</span>=<span class="hljs-value">"user"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">table</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>性别:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-title">form:radiobutton</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"sex"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"1"</span>/&gt;</span>男
               <span class="hljs-tag">&lt;<span class="hljs-title">form:radiobutton</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"sex"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"0"</span>/&gt;</span>女
            <span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span> <span class="hljs-attribute">colspan</span>=<span class="hljs-value">"2"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"提交"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form:form</span>&gt;</span></code></pre>

<p>在上面代码中我们的radiobutton标签都是绑定了表单对象user的sex属性，当sex为1的时候就代表性别为男，上面性别为男的那一行就会被选中，当sex为0的时候就代表性别为女，上面性别为女的那一行就会被选中。</p>

<hr />



<h2 id="7radiobuttons标签">7.radiobuttons标签</h2>

<p>radiobuttons标签跟radiobutton标签的区别如同checkbox标签对checkboxes标签的区别。使用radiobuttons标签的时候将生成多个单选按钮。使用radiobuttons有两个属性也是我们必须指定的，一个是path属性，表示绑定的表单对象对应的属性，另一个是items属性，表示用于生成单选按钮的数据源。跟checkboxes一样，radiobuttons的items属性和path属性都可以是Array、集合或者是Map。现在我们假设user在篮球、足球、乒乓球、羽毛球和排球这5种运动中选择一种作为自己最喜欢的球类运动。处理器方法和返回的对应的视图代码如下：</p>



<pre class="prettyprint"><code class=" hljs lasso">    @RequestMapping(value<span class="hljs-subst">=</span><span class="hljs-string">"form"</span>, method<span class="hljs-subst">=</span>RequestMethod<span class="hljs-built_in">.</span>GET)
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">String</span> formTag(<span class="hljs-built_in">Map</span><span class="hljs-subst">&lt;</span><span class="hljs-built_in">String</span>, Object<span class="hljs-subst">&gt;</span> <span class="hljs-built_in">map</span>) {
       User user <span class="hljs-subst">=</span> <span class="hljs-literal">new</span> User();
       user<span class="hljs-built_in">.</span>setFavoriteBall(<span class="hljs-number">4</span>);<span class="hljs-comment">//设置我最喜爱的球类运动是4羽毛球</span>
       <span class="hljs-built_in">Map</span><span class="hljs-subst">&lt;</span><span class="hljs-built_in">Integer</span>, <span class="hljs-built_in">String</span><span class="hljs-subst">&gt;</span> ballMap <span class="hljs-subst">=</span> <span class="hljs-literal">new</span> HashMap<span class="hljs-subst">&lt;</span><span class="hljs-built_in">Integer</span>, <span class="hljs-built_in">String</span><span class="hljs-subst">&gt;</span>();
       ballMap<span class="hljs-built_in">.</span>put(<span class="hljs-number">1</span>, <span class="hljs-string">"篮球"</span>);
       ballMap<span class="hljs-built_in">.</span>put(<span class="hljs-number">2</span>, <span class="hljs-string">"足球"</span>);
       ballMap<span class="hljs-built_in">.</span>put(<span class="hljs-number">3</span>, <span class="hljs-string">"乒乓球"</span>);
       ballMap<span class="hljs-built_in">.</span>put(<span class="hljs-number">4</span>, <span class="hljs-string">"羽毛球"</span>);
       ballMap<span class="hljs-built_in">.</span>put(<span class="hljs-number">5</span>, <span class="hljs-string">"排球"</span>);
       <span class="hljs-built_in">map</span><span class="hljs-built_in">.</span>put(<span class="hljs-string">"user"</span>, user);
       <span class="hljs-built_in">map</span><span class="hljs-built_in">.</span>put(<span class="hljs-string">"ballMap"</span>, ballMap);
       <span class="hljs-keyword">return</span> <span class="hljs-string">"formTag/form"</span>;
    }</code></pre>

<p>JSP视图</p>



<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">form:form</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"formTag/form.do"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"post"</span> <span class="hljs-attribute">commandName</span>=<span class="hljs-value">"user"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">table</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>最喜欢的球类:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-title">form:radiobuttons</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"favoriteBall"</span> <span class="hljs-attribute">items</span>=<span class="hljs-value">"${ballMap}"</span> <span class="hljs-attribute">delimiter</span>=<span class="hljs-value">"&amp;nbsp;"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span> <span class="hljs-attribute">colspan</span>=<span class="hljs-value">"2"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"提交"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form:form</span>&gt;</span></code></pre>

<p>在上述代码中我们可以看到我们使用了radiobuttons的delimiter属性，该属性表示进行展示的radiobutton之间的分隔符。这里用的是一个空格。结果页面如下所示：</p>

<hr />



<h2 id="8password标签">8.password标签</h2>

<p>password标签将会被渲染为一个type为password的普通HTML input标签。</p>

<hr />



<h2 id="9select标签">9.select标签</h2>

<p>select标签将会被渲染为一个普通的HTML select标签。这里还拿前面的user最喜欢的球类运动来做示例，有如下这样一个处理器方法和对应的视图页面：</p>



<pre class="prettyprint"><code class=" hljs lasso">    @RequestMapping(value<span class="hljs-subst">=</span><span class="hljs-string">"form"</span>, method<span class="hljs-subst">=</span>RequestMethod<span class="hljs-built_in">.</span>GET)
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">String</span> formTag(<span class="hljs-built_in">Map</span><span class="hljs-subst">&lt;</span><span class="hljs-built_in">String</span>, Object<span class="hljs-subst">&gt;</span> <span class="hljs-built_in">map</span>) {
       User user <span class="hljs-subst">=</span> <span class="hljs-literal">new</span> User();
       user<span class="hljs-built_in">.</span>setFavoriteBall(<span class="hljs-number">4</span>);<span class="hljs-comment">//设置我最喜爱的球类运动是4羽毛球</span>
       <span class="hljs-built_in">Map</span><span class="hljs-subst">&lt;</span><span class="hljs-built_in">Integer</span>, <span class="hljs-built_in">String</span><span class="hljs-subst">&gt;</span> ballMap <span class="hljs-subst">=</span> <span class="hljs-literal">new</span> HashMap<span class="hljs-subst">&lt;</span><span class="hljs-built_in">Integer</span>, <span class="hljs-built_in">String</span><span class="hljs-subst">&gt;</span>();
       ballMap<span class="hljs-built_in">.</span>put(<span class="hljs-number">1</span>, <span class="hljs-string">"篮球"</span>);
       ballMap<span class="hljs-built_in">.</span>put(<span class="hljs-number">2</span>, <span class="hljs-string">"足球"</span>);
       ballMap<span class="hljs-built_in">.</span>put(<span class="hljs-number">3</span>, <span class="hljs-string">"乒乓球"</span>);
       ballMap<span class="hljs-built_in">.</span>put(<span class="hljs-number">4</span>, <span class="hljs-string">"羽毛球"</span>);
       ballMap<span class="hljs-built_in">.</span>put(<span class="hljs-number">5</span>, <span class="hljs-string">"排球"</span>);
       <span class="hljs-built_in">map</span><span class="hljs-built_in">.</span>put(<span class="hljs-string">"user"</span>, user);
       <span class="hljs-built_in">map</span><span class="hljs-built_in">.</span>put(<span class="hljs-string">"ballMap"</span>, ballMap);
       <span class="hljs-keyword">return</span> <span class="hljs-string">"formTag/form"</span>;
    }</code></pre>

<p>JSP视图</p>



<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">form:form</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"formTag/form.do"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"post"</span> <span class="hljs-attribute">commandName</span>=<span class="hljs-value">"user"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">table</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>最喜欢的运动:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-title">form:select</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"favoriteBall"</span> <span class="hljs-attribute">items</span>=<span class="hljs-value">"${ballMap}"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span> <span class="hljs-attribute">colspan</span>=<span class="hljs-value">"2"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"提交"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form:form</span>&gt;</span></code></pre>

<p>从上面示例我们可以看出，我们通过items属性给select标签指定了一个数据源，并且绑定了表单对象user的favoriteBall属性。Items属性是用于指定当前select的所有可选项的，但是它对于select标签而言不是必须的，因为我们还可以手动的在select标签中间加上option标签来指定select可选的option。Select标签支持的items属性的数据类型可以是Array、Collection和Map，当数据类型为Array或Collection时且其中的元素为一个POJO时，我们可以通过属性itemLabel和itemValue来指定将用于呈现的option Label和Value，其他情况下Array和Collection数据源中的元素将既作为可选项option的value又作为它的Label。当items的数据类型为Map时，Map的key将作为可选项option的value，而Map的value将作为option的Label标签。</p>

<hr />



<h2 id="10option标签">10.option标签</h2>

<p>option标签会被渲染为一个普通的HTML option标签。当一个SpringMVC select标签没有通过items属性指定自己的数据源的时候，我们就可以在select标签中通过普通HTML option标签或者SpringMVC option标签来指定可以选择的项。</p>



<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">form:form</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"formTag/form.do"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"post"</span> <span class="hljs-attribute">commandName</span>=<span class="hljs-value">"user"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">table</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>最喜欢的运动:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-title">form:select</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"favoriteBall"</span>&gt;</span>
                   <span class="hljs-tag">&lt;<span class="hljs-title">option</span>&gt;</span>请选择<span class="hljs-tag">&lt;/<span class="hljs-title">option</span>&gt;</span>
                   <span class="hljs-tag">&lt;<span class="hljs-title">form:option</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"1"</span>&gt;</span>篮球<span class="hljs-tag">&lt;/<span class="hljs-title">form:option</span>&gt;</span>
                   <span class="hljs-tag">&lt;<span class="hljs-title">option</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"4"</span>&gt;</span>羽毛球<span class="hljs-tag">&lt;/<span class="hljs-title">option</span>&gt;</span>
               <span class="hljs-tag">&lt;/<span class="hljs-title">form:select</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span> <span class="hljs-attribute">colspan</span>=<span class="hljs-value">"2"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"提交"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form:form</span>&gt;</span></code></pre>

<p>我们可以看到在上面代码中我们是没有指定select标签的数据源的，而是通过在select标签体里面指定普通HTML option标签和SpringMVC option标签来指定可选项。</p>

<hr />



<h2 id="11textarea标签">11.textarea标签</h2>

<p>SpringMVC textarea标签将被渲染为普通HTML textarea标签。简单示例如下：</p>



<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">form:form</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"formTag/form.do"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"post"</span> <span class="hljs-attribute">commandName</span>=<span class="hljs-value">"user"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">table</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>自我介绍:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-title">form:textarea</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"introduction"</span> <span class="hljs-attribute">cols</span>=<span class="hljs-value">"20"</span> <span class="hljs-attribute">rows</span>=<span class="hljs-value">"10"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span> <span class="hljs-attribute">colspan</span>=<span class="hljs-value">"2"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"提交"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form:form</span>&gt;</span></code></pre>

<hr />



<h2 id="12errors标签">12.errors标签</h2>

<p>SpringMVC errors标签是对应于SpringMVC的Errors对象的。它的作用就是用于展现Errors对象中包含的错误信息的。我们利用errors标签来展现Errors的时候是通过errors标签的path属性来绑定一个错误信息的。我们可以通过path属性来展现两种类型的错误信息。 <br />
l  所有的错误信息，这个时候path的值应该置为“*” <br />
l  当前对象的某一个域的错误信息，这个时候path的值应为所需展现的域的名称 <br />
看下面这样一个例子： <br />
定义了一个UserValidator对象，专门用来对User对象进行验证，其代码如下：</p>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">import</span> org.springframework.validation.Errors;
<span class="hljs-keyword">import</span> org.springframework.validation.ValidationUtils;
<span class="hljs-keyword">import</span> org.springframework.validation.Validator;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserValidator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Validator</span> {</span>

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">supports</span>(Class&lt;?&gt; clazz) {
       <span class="hljs-comment">// TODO Auto-generated method stub</span>
       <span class="hljs-keyword">return</span> User.class.equals(clazz);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">validate</span>(Object target, Errors errors) {
       <span class="hljs-comment">// TODO Auto-generated method stub</span>
       ValidationUtils.rejectIfEmpty(errors, <span class="hljs-string">"name"</span>, <span class="hljs-keyword">null</span>, <span class="hljs-string">"Name Is Empty"</span>);
       ValidationUtils.rejectIfEmpty(errors, <span class="hljs-string">"username"</span>, <span class="hljs-keyword">null</span>, <span class="hljs-string">"Username Is Empty."</span>);
    }

}</code></pre>

<p>然后我们有这样一个控制器类：</p>



<pre class="prettyprint"><code class=" hljs java"> <span class="hljs-annotation">@Controller</span>
<span class="hljs-annotation">@RequestMapping</span>(<span class="hljs-string">"formTag"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FormTagController</span> {</span>

    <span class="hljs-annotation">@RequestMapping</span>(value=<span class="hljs-string">"form"</span>, method=RequestMethod.GET)
    <span class="hljs-keyword">public</span> String <span class="hljs-title">formTag</span>(Map&lt;String, Object&gt; map) {
       User user = <span class="hljs-keyword">new</span> User();
       map.put(<span class="hljs-string">"user"</span>, user);
       <span class="hljs-keyword">return</span> <span class="hljs-string">"formTag/form"</span>;
    }

    <span class="hljs-annotation">@InitBinder</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initBinder</span>(DataBinder binder) {
       binder.setValidator(<span class="hljs-keyword">new</span> UserValidator());
    }

    <span class="hljs-annotation">@RequestMapping</span>(value=<span class="hljs-string">"form"</span>, method=RequestMethod.POST)
    <span class="hljs-keyword">public</span> String <span class="hljs-title">form</span>(@Valid User user, Errors errors) {
       <span class="hljs-keyword">if</span> (errors.hasFieldErrors())
           <span class="hljs-keyword">return</span> <span class="hljs-string">"formTag/form"</span>;
       <span class="hljs-keyword">return</span> <span class="hljs-string">"formTag/submit"</span>;
    }
}</code></pre>

<p>我们可以看到我们在上述控制器类中通过DataBinder对象给该类设定了一个用于验证的UserValidator，这样当我们请求该控制器的时候UserValidator将生效。</p>

<p>我们有如下这样一段表单代码：</p>



<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">form:form</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"formTag/form.do"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"post"</span> <span class="hljs-attribute">commandName</span>=<span class="hljs-value">"user"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">table</span> <span class="hljs-attribute">border</span>=<span class="hljs-value">"1px"</span> <span class="hljs-attribute">bordercolor</span>=<span class="hljs-value">"blue"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span> <span class="hljs-attribute">align</span>=<span class="hljs-value">"center"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"100"</span>&gt;</span>姓名:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"150"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">form:input</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"name"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span> <span class="hljs-attribute">align</span>=<span class="hljs-value">"center"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>用户名:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">form:input</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"username"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>所有错误信息:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">form:errors</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"*"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>Name的错误信息:<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">form:errors</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">"name"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tr</span> <span class="hljs-attribute">align</span>=<span class="hljs-value">"center"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">td</span> <span class="hljs-attribute">colspan</span>=<span class="hljs-value">"2"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"提交"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form:form</span>&gt;</span></code></pre>

<p>当我们提交上面的表单的时候会往Errors中注入两个错误信息</p>

<p>原文链接:<a href="http://haohaoxuexi.iteye.com/blog/1807330">http://haohaoxuexi.iteye.com/blog/1807330</a></p>

<hr />

<p>项目示例可以参考: <br />
SSM框架整合:    <a href="https://github.com/nl101531/JavaWEB">https://github.com/nl101531/JavaWEB</a></p></div>&#13;
        <script type="text/javascript">&#13;
            $(function () {&#13;
                $('pre.prettyprint code').each(function () {&#13;
                    var lines = $(this).text().split('\n').length;&#13;
                    var $numbering = $('&lt;ul/&gt;').addClass('pre-numbering').hide();&#13;
                    $(this).addClass('has-numbering').parent().append($numbering);&#13;
                    for (i = 1; i &lt;= lines; i++) {&#13;
                        $numbering.append($('&lt;li/&gt;').text(i));&#13;
                    };&#13;
                    $numbering.fadeIn(1700);&#13;
                });&#13;
            });&#13;
        </script>&#13;
   &#13;
