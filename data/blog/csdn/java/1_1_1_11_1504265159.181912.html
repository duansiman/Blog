
                <div class="markdown_views"><p><strong>一、组件使用范例</strong></p>

<p>html代码：</p>

<pre class="prettyprint"><code class=" hljs ocaml">&lt;input <span class="hljs-class"><span class="hljs-keyword">type</span>=</span><span class="hljs-string">"button"</span> <span class="hljs-keyword">value</span>=<span class="hljs-string">"关闭所有节点"</span> onclick=<span class="hljs-string">"expandAll('N')"</span>&gt;  
&lt;input <span class="hljs-class"><span class="hljs-keyword">type</span>=</span><span class="hljs-string">"button"</span> <span class="hljs-keyword">value</span>=<span class="hljs-string">"展开所有节点"</span> onclick=<span class="hljs-string">"expandAll('Y')"</span>&gt;  
&lt;input <span class="hljs-class"><span class="hljs-keyword">type</span>=</span><span class="hljs-string">"button"</span> <span class="hljs-keyword">value</span>=<span class="hljs-string">"取得当前行的数据"</span> onclick=<span class="hljs-string">"selectedItem()"</span>&gt;&lt;br&gt;  
当前选中的行：&lt;input <span class="hljs-class"><span class="hljs-keyword">type</span>=</span><span class="hljs-string">"text"</span> id=<span class="hljs-string">"currentRow"</span> size=<span class="hljs-string">"110"</span>&gt;  

&lt;div id=<span class="hljs-string">"div1"</span>&gt;&lt;/div&gt;   </code></pre>

<p>Js代码:</p>



<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">language</span>=<span class="hljs-value">"javascript"</span>&gt;</span><span class="javascript">
        <span class="hljs-keyword">var</span> config = {
            id: <span class="hljs-string">"tg1"</span>,
            width: <span class="hljs-string">"800"</span>,
            renderTo: <span class="hljs-string">"div1"</span>,
            headerAlign: <span class="hljs-string">"left"</span>,
            headerHeight: <span class="hljs-string">"30"</span>,
            dataAlign: <span class="hljs-string">"left"</span>,
            indentation: <span class="hljs-string">"20"</span>,
            folderOpenIcon: <span class="hljs-string">"images/folderOpen.gif"</span>, 
            folderCloseIcon: <span class="hljs-string">"images/folderClose.gif"</span>, 
            defaultLeafIcon: <span class="hljs-string">"images/defaultLeaf.gif"</span>, 
            hoverRowBackground: <span class="hljs-string">"false"</span>,
            folderColumnIndex: <span class="hljs-string">"1"</span>,
            itemClick: <span class="hljs-string">"itemClickEvent"</span>,
            columns:[
                {headerText: <span class="hljs-string">"&lt;input type='checkbox' class='allcheck'&gt;"</span>, headerAlign: <span class="hljs-string">"center"</span>, dataAlign: <span class="hljs-string">"center"</span>, width: <span class="hljs-string">"20"</span>, handler: <span class="hljs-string">"customCheckBox"</span>},
                {headerText: <span class="hljs-string">"名称"</span>, dataField: <span class="hljs-string">"name"</span>, headerAlign: <span class="hljs-string">"center"</span>, handler: <span class="hljs-string">"customOrgName"</span>},
                {headerText: <span class="hljs-string">"拼音码"</span>, dataField: <span class="hljs-string">"code"</span>, headerAlign: <span class="hljs-string">"center"</span>, dataAlign: <span class="hljs-string">"center"</span>, width: <span class="hljs-string">"100"</span>},
                {headerText: <span class="hljs-string">"负责人"</span>, dataField: <span class="hljs-string">"assignee"</span>, headerAlign: <span class="hljs-string">"center"</span>, dataAlign: <span class="hljs-string">"center"</span>, width: <span class="hljs-string">"100"</span>},
                {headerText: <span class="hljs-string">"查看"</span>, headerAlign: <span class="hljs-string">"center"</span>, dataAlign: <span class="hljs-string">"center"</span>, width: <span class="hljs-string">"50"</span>, handler: <span class="hljs-string">"customLook"</span>}
            ],
            data:[
                {name: <span class="hljs-string">"北京市销售中心"</span>, code: <span class="hljs-string">"bj"</span>, assignee: <span class="hljs-string">"余世维"</span>, children:[
                    {name: <span class="hljs-string">"东城区销售中心"</span> , code: <span class="hljs-string">"dc"</span>, assignee: <span class="hljs-string">"张三"</span>},
                    {name: <span class="hljs-string">"海淀区销售中心"</span>, code: <span class="hljs-string">"hd"</span>, assignee: <span class="hljs-string">"李四"</span>, children:[
                        {name: <span class="hljs-string">"上地南路销售中心"</span>, code: <span class="hljs-string">"sdnl"</span>, assignee: <span class="hljs-string">"王五"</span>},
                        {name: <span class="hljs-string">"上地桥销售中心"</span> , code: <span class="hljs-string">"sdq"</span>, assignee: <span class="hljs-string">"赵六"</span>},
                        {name: <span class="hljs-string">"上地软件园一期销售中心"</span>, code: <span class="hljs-string">"sdrjy"</span>, assignee: <span class="hljs-string">"何其"</span>, children: [
                            {name: <span class="hljs-string">"环宇大厦销售点"</span>, assignee: <span class="hljs-string">"赵明"</span>, code: <span class="hljs-string">"hyds"</span>  },
                            {name: <span class="hljs-string">"启明星辰销售点"</span>, assignee: <span class="hljs-string">"天竺"</span>, code: <span class="hljs-string">"qmxc"</span>},
                            {name: <span class="hljs-string">"中国核电销售点"</span>, assignee: <span class="hljs-string">"信史"</span>, code: <span class="hljs-string">"zghd"</span>},
                            {name: <span class="hljs-string">"图灵销售点"</span>, assignee: <span class="hljs-string">"图杏"</span>, code: <span class="hljs-string">"tl"</span>}
                        ]}
                    ]},
                    {name: <span class="hljs-string">"朝阳区销售中心"</span>, code: <span class="hljs-string">"cy"</span>, assignee: <span class="hljs-string">"于海武"</span>}
                ]},
                {name: <span class="hljs-string">"湖北销售中心"</span>, code: <span class="hljs-string">"hb"</span>, assignee: <span class="hljs-string">"胡卫宇"</span>, children:[]},
                {name: <span class="hljs-string">"广东销售中心"</span>, code: <span class="hljs-string">"gd"</span>, assignee: <span class="hljs-string">"广深海"</span>, children:[]},
                {name: <span class="hljs-string">"浙江销售中心"</span>, code: <span class="hljs-string">"zj"</span>, assignee: <span class="hljs-string">"浙蝴"</span>, children:[]}
            ]
        };

        $(document).ready(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>
            $(<span class="hljs-string">".allcheck"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>
                $(<span class="hljs-string">"#tg1"</span>).find(<span class="hljs-string">"input[name='cblbox']"</span>).attr(<span class="hljs-string">"checked"</span>,$(<span class="hljs-keyword">this</span>).attr(<span class="hljs-string">"checked"</span>));
            });

        });


        <span class="hljs-comment">/*
            单击数据行后触发该事件
            id：行的id
            index：行的索引。
            data：json格式的行数据对象。
        */</span>
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">itemClickEvent</span><span class="hljs-params">(id, index, data)</span>{</span>


            jQuery(<span class="hljs-string">"#currentRow"</span>).val(id + <span class="hljs-string">", "</span> + index + <span class="hljs-string">", "</span> + TreeGrid.json2str(data));
        }

        <span class="hljs-comment">/*
            通过指定的方法来自定义栏数据
        */</span>
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">customCheckBox</span><span class="hljs-params">(row, col)</span>{</span>
            <span class="hljs-keyword">return</span> <span class="hljs-string">"&lt;input name='cblbox' type='checkbox'&gt;"</span>;
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">customOrgName</span><span class="hljs-params">(row, col)</span>{</span>
            <span class="hljs-keyword">var</span> name = row[col.dataField] || <span class="hljs-string">""</span>;
            <span class="hljs-keyword">return</span> name;
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">customLook</span><span class="hljs-params">(row, col)</span>{</span>

            <span class="hljs-keyword">return</span> <span class="hljs-string">"&lt;a href='javascript:void(0)' onclick='showrowname(\""</span>+row.code+<span class="hljs-string">"\",\""</span>+row.name+<span class="hljs-string">"\")' style='color:blue;'&gt;查看&lt;/a&gt;"</span>;
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showrowname</span><span class="hljs-params">(code , name)</span>{</span>
            alert( code +  name );

        }

        <span class="hljs-comment">//创建一个组件对象</span>
        <span class="hljs-keyword">var</span> treeGrid = <span class="hljs-keyword">new</span> TreeGrid(config);
        treeGrid.show();

        <span class="hljs-comment">/*
            展开、关闭所有节点。
            isOpen=Y表示展开，isOpen=N表示关闭
        */</span>
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">expandAll</span><span class="hljs-params">(isOpen)</span>{</span>
            treeGrid.expandAll(isOpen);
        }

        <span class="hljs-comment">/*
            取得当前选中的行，方法返回TreeGridItem对象
        */</span>
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">selectedItem</span><span class="hljs-params">()</span>{</span>
            <span class="hljs-keyword">var</span> treeGridItem = treeGrid.getSelectedItem();
            <span class="hljs-keyword">if</span>(treeGridItem!=<span class="hljs-literal">null</span>){
                <span class="hljs-comment">//获取数据行属性值</span>
                <span class="hljs-comment">//alert(treeGridItem.id + ", " + treeGridItem.index + ", " + treeGridItem.data.name);</span>

                <span class="hljs-comment">//获取父数据行</span>
                <span class="hljs-keyword">var</span> parent = treeGridItem.getParent();
                <span class="hljs-keyword">if</span>(parent!=<span class="hljs-literal">null</span>){
                    <span class="hljs-comment">//jQuery("#currentRow").val(parent.data.name);</span>
                }

                <span class="hljs-comment">//获取子数据行集</span>
                <span class="hljs-keyword">var</span> children = treeGridItem.getChildren();
                <span class="hljs-keyword">if</span>(children!=<span class="hljs-literal">null</span> &amp;&amp; children.length&gt;<span class="hljs-number">0</span>){
                    jQuery(<span class="hljs-string">"#currentRow"</span>).val(children[<span class="hljs-number">0</span>].data.name);
                }
            }
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span></code></pre>

<p>效果附图： <br/>
<img src="http://img.blog.csdn.net/20160525114824140" alt="效果图" title=""/></p>

<p><strong>二、TreeGrid组件相关的类</strong></p>

<ul>
<li><p>1、TreeGrid(_config)</p>

<pre><code>    _config：json格式的数据，组件所需要的数据都通过该参数提供。
</code></pre></li>
<li><p>2、TreeGridItem(_root, _rowId, _rowIndex, _rowData)</p>

<pre><code>    _root：显示组件实例的目标容器对象。
    _rowId：选中行的id。
    _rowIndex：选中行的索引。
    _rowData：json格式的行数据。
</code></pre></li>
</ul>

<p><strong>三、_config参数详解</strong></p>

<pre><code>   id：组件实例的id。
   width：组件实例的宽度。
   renderTo：用于显示组件实例的容器对象的id。一般用div作为容器。
   headerAlign：标题行的对齐方式。
   headerHeight：标题行的高度。
   dataAlign：数据行的对齐方式。
   indentation：层级缩进量。
   folderColumnIndex：显示图标的数据列的索引，从0开始。
   folderOpenIcon：节点展开时的图标。
   folderCloseIcon：节点关闭时的图标。
   defaultLeafIcon：叶节点的图标。
   hoverRowBackground：鼠标滑过数据行时，背景色是否改变。
   itemClick：单击数据行后触发的事件。事件方法包含三个参数，分别是：行的id、行的索引、行数据。
   expandLayer：初始展开层数，默认只展开第1层。

   数组元素的属性：
    headerText：栏的标题。
    dataField：栏数据对应的字段名。
    headerAlign：栏头对齐方式。
    dataAlign：栏数据对齐方式。
    width：栏的宽度。
    handler：通过指定的方法来自定义栏数据。
    folderHidden：在文件夹行隐藏单元格值。
    data：组件的数据集。
</code></pre>

<p><strong>四、TreeGrid的方法</strong></p>

<pre><code>show：显示填充数据后的组件对象。
expandAll：展开、关闭所有节点。该方法有一个参数，参数值为Y时表示展开，参数值为N时表示关闭。
getSelectedItem：获取当前选中的数据行，返回TreeGridItem对象。
</code></pre>

<p><strong>五、TreeGridItem组件</strong></p>

<ul>
<li>1、组件属性</li>
</ul>

<blockquote>
  <p>id：数据行的id。 <br/>
      index：数据行的索引。 <br/>
      data：json格式的行数据。</p>
</blockquote>

<ul>
<li>2、组件方法</li>
</ul>

<blockquote>
  <p>getParent：获取父数据行。方法返回TreeGridItem对象。 <br/>
      getChildren：获取子数据行集。方法返回一个数组，数组元素为TreeGridItem对象。</p>
</blockquote>

<p><a href="http://download.csdn.net/detail/s445320/9438778">TreeGrid DEMO下载地址(未更新)</a></p><link rel="stylesheet" href="http://static.blog.csdn.net/public/res-min/markdown_views.css?v=1.0"/></div><link rel="stylesheet" href="http://static.blog.csdn.net/public/res-min/markdown_views.css?v=1.0"/>&#13;
            