

<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
</p>&#13;
<div><span style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-family:Arial; font-size:14px; line-height:26px">你可以不知道继承、多态，但是必须知道里氏替换原则(Liskov SubstitutionPrinciple、LSP)</span><span style="font-family:Arial; font-size:14px; line-height:26px">。</span></span></div>&#13;
<h2><span style="font-family:Arial; font-size:14px; line-height:26px">1.要点</span></h2>&#13;
<div><span style="font-family:Arial; font-size:14px; line-height:26px">里氏替换原则/LSP是</span><span style="color:rgb(204,51,0)"><strong>OO</strong></span><span style="color:rgb(204,51,0)"><strong>编程范式中<strong>规则范式的核心。</strong></strong></span></div>&#13;
<div><span style="font-family:Arial; font-size:14px; line-height:26px">它说明(强调)了子类型必须具备替换属性，<span style="font-family:Arial; font-size:14px; line-height:26px">这在面向对象语言中如同常识。(类层次 Is_a 替代)</span></span></div>&#13;
<div><span style="font-family:Arial; font-size:14px; line-height:26px">即在一个软件系统中，基类出现的所有地方都必须能够被子类型替代。</span></div>&#13;
<div><span style="font-family:Arial; font-size:14px; line-height:26px"></span>&#13;
<div>&#13;
<ul>&#13;
<li>子类型必须能够替代其父类型——《<span style="color:rgb(51,102,255)">敏捷软件开发：原则、模式与实践</span>》<strong>Robert C. Martin</strong></li><li><strong></strong>&#13;
<div>&#13;
<div>substitution property: If for each object s of type S  there is an object f of type F such that for all programs P defined in terms of F, the behavior of P is unchanged when f is substituted for s then S is a subtype of T..</div>&#13;
<div></div>&#13;
<div><span style="color:rgb(51,102,255)">替换原则</span>：对于类型S的任何一个对象s ，都存在一个类型F 的对象f ，在针对F编写的所有程序P中，如果用s替换f后，程序P的“行为”不变，则S是T的<span style="color:#3366FF"><strong>子类型（</strong></span><span style="color:#3366FF"><strong>subtype</strong></span><span style="color:#3366FF"><strong>）</strong></span>。</div>&#13;
</div>&#13;
</li></ul>&#13;
</div>&#13;
</div>&#13;
<p></p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
LSP是<strong><span style="color:rgb(255,0,0)">正确设计类层次的指导原则</span></strong>，它<span style="color:rgb(255,0,0)"><strong>检测和保证</strong></span>类层次的正确性，进而<strong><span style="color:rgb(0,102,0)">维护</span></strong>针对父类型编写的程序的正确性。(你针对父类型，进一步针对抽象类型编程，是OCP的管辖范围)<br />&#13;
</p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
多态的本质，是不同子类替代父类变量后，可以对同一种消息，有不同的反应。</p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
<strong><span style="color:rgb(153,0,0)">继承的</span><span style="color:rgb(153,0,0)">本质，是子类承接了父类的接口。</span></strong>这是语言层面对LSP的支持。当然，程序员刻意用实现违背接口，没有人可以阻挡。</p>&#13;
<br />&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
<br />&#13;
</p>&#13;
<p style="text-align:center; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
<img src="http://img.blog.csdn.net/20140910173053140?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveXFqMjA2NQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" /><br />&#13;
</p>&#13;
<h3>2.学习思路</h3>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
<span style="white-space:pre"></span>因为易学，所以在《编程导论（Java）》中安排在<strong>2.1.1节</strong>。所以紧接其后，在[2.1.2 啊，我看到了多态]中<strong>才开始</strong>介绍向上造型、多态、改写(override);</p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
<span style="white-space:pre"></span>所谓难精，我们</p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
</p>&#13;
<ul>&#13;
<li>将<strong>继承加以分析</strong>，符合LSP的继承有<strong>实现继承、拓展继承、接口/协议继承和多继承</strong>；参考《4.2.3<span style="color:rgb(0,51,153)">接口继承</span><span style="color:rgb(0,51,153)"> Vs.</span><span style="color:rgb(0,51,153)">实现继承》</span></li><li>在介绍接口与实现分离时，强调什么是设计良好的接口，到[4.1.2类的接口]中，说明【p133：如果一个对象能够接受X类的接口的全部操作请求(方法调用)，则称对象具有X类型。正是因为Java的子类能够满足父类的接口(尽管可以改写)，所以子类的对象能够同时具有类层次中的多个类型】</li><li>直到[8.3.2断言的使用指南]中介绍<span style="font-family:Arial; font-size:14px; line-height:26px">正方形和长方形关系时</span>，<strong>偷偷摸摸</strong>地说：<strong>继承关系即Is-A关系，本质上要通过接口的一致来衡量</strong>。</li></ul>&#13;
<p></p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
<strong>实现继承</strong>是符合LSP的——即使对具体父类的方法的override有千般不好，它还是符合LSP的。你可以直接使用父类方法，或override空方法。你的方法 m()可以采用改进型override(总是调用super.m()一次)。你在遇到取代型改写时，问一问自己为什么？如果自己能够说服自己，那就用吧！谁敢咬你。</p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
<span style="font-family:Arial; font-size:14px; line-height:26px"><strong>扩展继承</strong><span style="font-family:Arial; font-size:14px; line-height:26px">是符合LSP的——<span style="font-family:Arial; font-size:14px; line-height:26px">即使向上造型导致扩展的方法(子类自己定义的方法)不能够用。白马非马，是好事。既保证了系统的扩展性——如果子类不能够定义自己的新方法，那样的语言你用？同时不影响LSP。比如说，Client依赖的Man接口</span></span></span>只有eat()，你超人就算有一万个方法，你造型为Man时你也得憋着。要用子类的方法，(SuperMan)U。多重继承A、B时，你作为A，那么B的方法都被A视为扩展。</p>&#13;
<h3>3.<span style="font-family:Arial; font-size:14px; line-height:26px">正方形和长方形</span></h3>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
<span style="white-space:pre"></span>很多人使用了“正方形不是一个长方形”这个例子，介绍LSP。事实上，不管你采用什么手段和技巧，我可用反证法告示你：(在例程所示的场景中)如果你能够将正方形设计成长方形的子类，那么你必然可以将<strong>圆设计成长方形的子类</strong>。</p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
</p>&#13;
<div class="dp-highlighter bg_java" style="font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:927.0333251953125px; overflow:auto; padding-top:1px; margin:18px 0px!important; line-height:26px">&#13;
<div class="bar" style="padding-left:45px">&#13;
<div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(108,226,108)">&#13;
<strong>[java]</strong> <a target="_blank" href="http://blog.csdn.net/yqj2065/article/details/39182025" class="ViewSource" title="view plain" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; font-size:9px; display:inline-block; width:16px; height:16px; text-indent:-2000px">view&#13;
 plain</a><a target="_blank" href="http://blog.csdn.net/yqj2065/article/details/39182025" class="CopyToClipboard" title="copy" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; font-size:9px; display:inline-block; width:16px; height:16px; text-indent:-2000px">copy</a>&#13;
<div style="position:absolute; left:388px; top:702px; width:18px; height:18px; z-index:99">&#13;
</div>&#13;
</div>&#13;
</div>&#13;
<ol start="1" class="dp-j" style="margin:0px 0px 1px 45px!important; padding:0px; border:none; list-style-position:initial; background-color:rgb(255,255,255); color:rgb(92,92,92)">&#13;
<li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px">&#13;
<span style="color:black; margin:0px; padding:0px; border:none; background-color:inherit"><span class="keyword" style="color:#06699; margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">class</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Square1 </span><span class="keyword" style="color:#06699; margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">extends</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Rectangle{  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px">&#13;
<span style="color:black; margin:0px; padding:0px; border:none; background-color:inherit">    <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">private</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="color:#06699; margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">double</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> side;  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px">&#13;
<span style="color:black; margin:0px; padding:0px; border:none; background-color:inherit">    <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Square1(</span><span class="keyword" style="color:#06699; margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">double</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> side){  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px">&#13;
<span style="color:black; margin:0px; padding:0px; border:none; background-color:inherit">        <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">this</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">.side= side;  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px">&#13;
<span style="color:black; margin:0px; padding:0px; border:none; background-color:inherit">    }  </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px">&#13;
<span style="color:black; margin:0px; padding:0px; border:none; background-color:inherit">    <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">void</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> setSide(</span><span class="keyword" style="color:#06699; margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">double</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> s) {   side = s;    }  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px">&#13;
<span style="color:black; margin:0px; padding:0px; border:none; background-color:inherit">    <span class="keyword" style="color:#06699; margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">double</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> getSide() { </span><span class="keyword" style="color:#06699; margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">return</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> side; }  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px">&#13;
<span style="color:black; margin:0px; padding:0px; border:none; background-color:inherit">    <span class="annotation" style="color:#646464; margin:0px; padding:0px; border:none; background-color:inherit">@Override</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="color:#06699; margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">double</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> getS() { </span><span class="keyword" style="color:#06699; margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">return</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> side*side;}</span><span class="comment" style="color:#0820; margin:0px; padding:0px; border:none; background-color:inherit">//求面积</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px">&#13;
<span style="color:black; margin:0px; padding:0px; border:none; background-color:inherit">｝  </span></li></ol>&#13;
</div>&#13;
<span style="font-family:Arial; font-size:14px; line-height:26px; white-space:pre"></span>&#13;
<h3><span style="font-family:Arial; font-size:14px; line-height:26px">4.吐槽(考试的时候，不要随便使用网上的某些文字)</span></h3>&#13;
<p><span style="font-family:Arial; font-size:14px; line-height:26px">所谓难精之二，在于五花八门的解释和介绍。yqj2065曾经非常惊讶，</span><a target="_blank" href="http://blog.csdn.net/zhengzhb/article/details/7281833" style="color:rgb(255,153,0); text-decoration:none; font-family:Arial; font-size:14px; line-height:26px">这样的里氏替换原则</a><span style="font-family:Arial; font-size:14px; line-height:26px">，他还写了设计模式的系列博客。例如，</span></p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
</p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
</p>&#13;
<div class="dp-highlighter bg_java" style="font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:927.0333251953125px; overflow:auto; padding-top:1px; margin:18px 0px!important; line-height:26px">&#13;
<div class="bar" style="padding-left:45px">&#13;
<div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(108,226,108)">&#13;
<strong>[java]</strong> <a target="_blank" href="http://blog.csdn.net/yqj2065/article/details/39182025" class="ViewSource" title="view plain" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; font-size:9px; display:inline-block; width:16px; height:16px; text-indent:-2000px">view&#13;
 plain</a><a target="_blank" href="http://blog.csdn.net/yqj2065/article/details/39182025" class="CopyToClipboard" title="copy" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; font-size:9px; display:inline-block; width:16px; height:16px; text-indent:-2000px">copy</a>&#13;
<div style="position:absolute; left:388px; top:959px; width:18px; height:18px; z-index:99">&#13;
</div>&#13;
</div>&#13;
</div>&#13;
<ol start="1" class="dp-j" style="margin:0px 0px 1px 45px!important; padding:0px; border:none; list-style-position:initial; background-color:rgb(255,255,255); color:rgb(92,92,92)">&#13;
<li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px">&#13;
<span style="color:black; margin:0px; padding:0px; border:none; background-color:inherit"><span style="margin:0px; padding:0px; border:none; background-color:inherit"> 里氏替换原则通俗的来讲就是：子类可以扩展父类的功能，但不能改变父类原有的功能。它包含以下</span><span class="number" style="color:#c000; margin:0px; padding:0px; border:none; background-color:inherit">4</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">层含义：  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px">&#13;
<span style="color:black; margin:0px; padding:0px; border:none; background-color:inherit">子类可以实现父类的抽象方法，但不能覆盖父类的非抽象方法。  </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px">&#13;
<span style="color:black; margin:0px; padding:0px; border:none; background-color:inherit">子类中可以增加自己特有的方法。  </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px">&#13;
<span style="color:black; margin:0px; padding:0px; border:none; background-color:inherit">当子类的方法重载父类的方法时，方法的前置条件（即方法的形参）要比父类方法的输入参数更宽松。  </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px">&#13;
<span style="color:black; margin:0px; padding:0px; border:none; background-color:inherit">当子类的方法实现父类的抽象方法时，方法的后置条件（即方法的返回值）要比父类更严格。  </span></li></ol>&#13;
</div>&#13;
<span style="font-family:Arial; font-size:14px; line-height:26px">LSP仅仅说明可替代性或父子类的接口一致性，实现继承是符合LSP的；实现继承的问题，在于设计时没有更好地封装变化，使得子类不得不override父类的代码。</span><a target="_blank" href="http://blog.csdn.net/yqj2065/article/details/39182025" class="ViewSource" title="view plain" style="background-color:inherit; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:9px; color:rgb(160,160,160); text-decoration:none; border:none; padding:1px; margin:0px 10px 0px 0px; display:inline-block; width:16px; height:16px; text-indent:-2000px">plain</a><a target="_blank" href="http://blog.csdn.net/yqj2065/article/details/39182025" class="CopyToClipboard" title="copy" style="background-color:inherit; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:9px; color:rgb(160,160,160); text-decoration:none; border:none; padding:1px; margin:0px 10px 0px 0px; display:inline-block; width:16px; height:16px; text-indent:-2000px">copy</a>&#13;
<div class="dp-highlighter bg_java" style="font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:927.0333251953125px; overflow:auto; padding-top:1px; margin:18px 0px!important; line-height:26px">&#13;
<div class="bar" style="padding-left:45px">&#13;
<div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(108,226,108)">&#13;
<div style="position:absolute; left:388px; top:1170px; width:18px; height:18px; z-index:99">&#13;
</div>&#13;
</div>&#13;
</div>&#13;
<ol start="1" class="dp-j" style="margin:0px 0px 1px 45px!important; padding:0px; border:none; list-style-position:initial; background-color:rgb(255,255,255); color:rgb(92,92,92)">&#13;
<li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px">&#13;
<span style="color:black; margin:0px; padding:0px; border:none; background-color:inherit"><span style="margin:0px; padding:0px; border:none; background-color:inherit"> 里氏替换原则，简单地讲就是：子类可以替代父类。它包含以下含义：  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px">&#13;
<span style="color:black; margin:0px; padding:0px; border:none; background-color:inherit">子类可以实现继承（直接继承或 改变父类原有的功能实现）、拓展继承(扩展父类的功能)、接口/协议继承和多继承。【但是从OCP或封装变化的角度，应该避免override其任何父类中已经实现的方法。】  </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px">&#13;
<span style="color:black; margin:0px; padding:0px; border:none; background-color:inherit">子类中不可退化继承，如鸵鸟不会飞。  </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px">&#13;
<span style="color:black; margin:0px; padding:0px; border:none; background-color:inherit">为了保证父类和子类的接口一致性，要注意：接口包括文档(方法的意图)和方法头。按契约设计(Design by Contract)是一致性判断的良好手段(Java断言机制是工具)。  </span></li></ol>&#13;
</div>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
</p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
前置条件，通常意味着方法参数的<strong><span style="color:#ff0000">合法性检查</span></strong>（而非重载的类型问题）。如show(Baby b, int age)，验证前置条件时，谁会验证出场的人是不是Baby？通常检查它不得为null；而age要大于10，小于16等都是方法文档中已经说明的<span style="font-family:Arial; font-size:14px; line-height:26px">前置条件</span>，会考虑参数是否double？【子类重载父类的方法时，方法的形参要比父类方法的参数更宽松】，什么意思呢？重载和方法的形参更宽松或狭窄有什么关系？“重载”是敲错了？</p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
子类的override 方法,返回的可以是父类方法返回类型的子类，Java语法支持。</p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
<br />&#13;
</p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
又有人写道：“里氏代换原则是实现开闭原则的重要方式之一”。我一直说<strong><span style="color:#ff0000">LSP是OCP的前提条件</span></strong>。<strong><span style="color:#006600">实现方式Vs. 必要条件</span></strong> ，我有点傻傻地分不清了<img alt="快哭了" src="http://static.blog.csdn.net/xheditor/xheditor_emot/default/fastcry.gif" /><img alt="疑问" src="http://static.blog.csdn.net/xheditor/xheditor_emot/default/doubt.gif" />。</p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
你的Client依赖于IServer接口，符合OCP。为什么能够OCP，因为具体的Server可以替代IServer接口。如果(<u>所有的</u>)Server设计的烂，不能够LSP，你能不能OCP？(必要条件)</p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
但是，我的<span style="font-family:Arial; font-size:14px; line-height:26px">Client依赖于IServer接口，符合OCP。如果我<span style="font-family:Arial; font-size:14px; line-height:26px">依赖于<span style="font-family:Arial; font-size:14px; line-height:26px">具体的Server就不OCP了。好在<span style="font-family:Arial; font-size:14px; line-height:26px">Server总能够<span style="font-family:Arial; font-size:14px; line-height:26px">替代</span><span style="font-family:Arial; font-size:14px; line-height:26px">IServer，这个LSP好使，所以<span style="font-family:Arial; font-size:14px; line-height:26px">我的</span><span style="font-family:Arial; font-size:14px; line-height:26px">Client就可以依赖于IServer接口，实现了OCP。（实现方式）好像也说得通。</span></span></span></span></span></span></p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
<span style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-family:Arial; font-size:14px; line-height:26px">总体上，这篇<a target="_blank" href="http://blog.csdn.net/lovelion/article/details/7540445">面向对象设计原则之里氏代换原则</a>，还不如改为OCP之2。</span></span></span></span></span></span></p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
<span style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-family:Arial; font-size:14px; line-height:26px"><br />&#13;
</span></span></span></span></span></span></p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
<span style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-family:Arial; font-size:14px; line-height:26px"><a target="_blank" href="http://blog.csdn.net/yqj2065/article/details/8592375" style="color:rgb(255,153,0); text-decoration:none; font-family:Arial; font-size:14px; line-height:26px; text-align:center"><img src="http://img.blog.csdn.net/20140919170809965?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveXFqMjA2NQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:none; max-width:100%" /></a><br />&#13;
</span></span></span></span></span></span></p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
<br />&#13;
</p>&#13;
   &#13;
