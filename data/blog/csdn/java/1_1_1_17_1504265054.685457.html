
<div class="currency_area"><div class="theTitle"><h1><strong>概述</strong></h1></div><div class="theContent"><pre>    在不破坏封装性的前提下，捕获一个对象的内部状态，并在该对象之外保存这个状态。这样以后就可将该对象恢复到原先保存的状态。
</pre></div></div><div class="currency_area"><div class="theTitle"><h1><strong>适用性</strong></h1></div><div class="theContent"><pre>    1.必须保存一个对象在某一个时刻的(部分)状态,这样以后需要时它才能恢复到先前的状态。

    2.如果一个用接口来让其它对象直接得到这些状态，将会暴露对象的实现细节并破坏对象的封装性。
			</pre></div></div><div class="currency_area"><div class="theTitle"><h1><strong>参与者</strong></h1></div><div class="theContent"><pre>    1.Memento
      备忘录存储原发器对象的内部状态。

    2.Originator
      原发器创建一个备忘录,用以记录当前时刻它的内部状态。
      使用备忘录恢复内部状态.

    3.Caretaker
      负责保存好备忘录。
      不能对备忘录的内容进行操作或检查。
</pre></div></div><p><br /></p><h1>类图</h1><p><img src="data:image/png;base64,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" alt="" /></p><h1>示例</h1><p></p><pre name="code" class="java">package com.sql9.actioned;

/**
 * 备忘录模式示例
 * @author iihero
 *
 */
class Memento {

    private String state;

    public Memento(String state) {
        this.state = state;
    }

    public String getState() {
        return state;
    }

    public void setState(String state) {
        this.state = state;
    }
}

class Originator {

    private String state;

    public String getState() {
        return state;
    }

    public void setState(String state) {
        this.state = state;
    }
    
    public Memento createMemento() {
        return new Memento(state);
    }
    
    public void setMemento(Memento memento) {
        state = memento.getState();
    }
    
    public void showState(){
        System.out.println(state);
    }
}

class Caretaker {
    
    private Memento memento;
    
    public Memento getMemento(){
        return this.memento;
    }
    
    public void setMemento(Memento memento){
        this.memento = memento;
    }
}

public class MementoTest {

    public static void main(String[] args) {
        Originator org = new Originator();
        org.setState("开会中");
        
        Caretaker ctk = new Caretaker();
        ctk.setMemento(org.createMemento());//将数据封装在Caretaker
        
        org.setState("睡觉中");
        org.showState();//显示
        
        org.setMemento(ctk.getMemento());//将数据重新导入, 原状态"开会中"丢失
        org.showState();

    }

}
</pre><br /><p></p><h1>结果</h1><p>睡觉中<br />开会中<br /><br /><br /></p>&lt;script type="text/javascript"&gt;&lt;!--
google_ad_client = "ca-pub-7104628658411459";
/* wide1 */
google_ad_slot = "8564482570";
google_ad_width = 728;
google_ad_height = 90;
//--&gt;&lt;/script&gt;&lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&lt;/script&gt;   &#13;
