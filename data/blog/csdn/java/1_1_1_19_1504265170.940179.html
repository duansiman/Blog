
                
<p>public class ReflectUtil {</p>&#13;
<p> </p>&#13;
<p>//不区分大小写<br/>&#13;
 public static Object setFieldValueDefault(Object target, String fname,<br/>&#13;
   Class ftype, Object fvalue) {<br/>&#13;
  if (target == null<br/>&#13;
    || fname == null<br/>&#13;
    || "".equals(fname)<br/>&#13;
    || (fvalue != null &amp;&amp; !ftype<br/>&#13;
      .isAssignableFrom(fvalue.getClass()))) {<br/>&#13;
   return target;<br/>&#13;
  }<br/>&#13;
  Class clazz = target.getClass();<br/>&#13;
  Field[] fs = clazz.getDeclaredFields();<br/>&#13;
  try {<br/>&#13;
   for (int i = 0; i &lt; fs.length; i++) {<br/>&#13;
    if (fname.toLowerCase().equals(fs[i].getName().toLowerCase())) {<br/>&#13;
     Method method = clazz.getDeclaredMethod("set"<br/>&#13;
       + Character.toUpperCase(fs[i].getName().charAt(0))<br/>&#13;
       + fs[i].getName().substring(1), String.class);<br/>&#13;
     if (!Modifier.isPublic(method.getModifiers())) {<br/>&#13;
      method.setAccessible(true);<br/>&#13;
     }<br/>&#13;
     method.invoke(target, fvalue);<br/>&#13;
    }<br/>&#13;
   }<br/>&#13;
  } catch (Exception me) {<br/>&#13;
   try {<br/>&#13;
    Field field = clazz.getDeclaredField(fname);<br/>&#13;
    if (!Modifier.isPublic(field.getModifiers())) {<br/>&#13;
     field.setAccessible(true);<br/>&#13;
    }<br/>&#13;
    field.set(target, fvalue);<br/>&#13;
   } catch (Exception fe) {<br/>&#13;
    fe.getStackTrace();<br/>&#13;
   }<br/>&#13;
  }<br/>&#13;
  return target;<br/>&#13;
 } </p>&#13;
<p> </p>&#13;
<p>//区分大小写</p>&#13;
<p> public static Object setFieldValue(Object target, String fname, Class ftype,<br/>&#13;
   Object fvalue) {<br/>&#13;
  if (target == null<br/>&#13;
    || fname == null<br/>&#13;
    || "".equals(fname)<br/>&#13;
    || (fvalue != null &amp;&amp; !ftype<br/>&#13;
      .isAssignableFrom(fvalue.getClass()))) {<br/>&#13;
   return target;<br/>&#13;
  }<br/>&#13;
  Class clazz = target.getClass();<br/>&#13;
  Field[] fs = clazz.getDeclaredFields();<br/>&#13;
  try {<br/>&#13;
   Method method = clazz.getDeclaredMethod("set"<br/>&#13;
     + Character.toUpperCase(fname.charAt(0))<br/>&#13;
     + fname.substring(1), String.class);<br/>&#13;
   if (!Modifier.isPublic(method.getModifiers())) {<br/>&#13;
    method.setAccessible(true);<br/>&#13;
   }<br/>&#13;
   method.invoke(target, fvalue);<br/>&#13;
  } catch (Exception me) {<br/>&#13;
   try {<br/>&#13;
    Field field = clazz.getDeclaredField(fname);<br/>&#13;
    if (!Modifier.isPublic(field.getModifiers())) {<br/>&#13;
     field.setAccessible(true);<br/>&#13;
    }<br/>&#13;
    field.set(target, fvalue);<br/>&#13;
   } catch (Exception fe) {<br/>&#13;
    fe.getStackTrace();<br/>&#13;
   }<br/>&#13;
  }<br/>&#13;
  return target;<br/>&#13;
 } </p>&#13;
<p> public static Object getFieldValue(Object target, String fname, Class ftype) {<br/>&#13;
  if (target == null || fname == null || "".equals(fname)) {<br/>&#13;
   return null;<br/>&#13;
  }<br/>&#13;
  Class clazz = target.getClass();<br/>&#13;
  try {<br/>&#13;
   Method method = clazz.getDeclaredMethod("get"<br/>&#13;
     + Character.toUpperCase(fname.charAt(0))<br/>&#13;
     + fname.substring(1), ftype);<br/>&#13;
   if (!Modifier.isPublic(method.getModifiers())) {<br/>&#13;
    method.setAccessible(true);<br/>&#13;
   }<br/>&#13;
   return method.invoke(target);<br/>&#13;
  } catch (Exception me) {<br/>&#13;
   try {<br/>&#13;
    Field field = clazz.getDeclaredField(fname);<br/>&#13;
    if (!Modifier.isPublic(field.getModifiers())) {<br/>&#13;
     field.setAccessible(true);<br/>&#13;
    }<br/>&#13;
    return field.get(target);<br/>&#13;
   } catch (Exception fe) {<br/>&#13;
    fe.getStackTrace();<br/>&#13;
   }<br/>&#13;
  }<br/>&#13;
  return null;<br/>&#13;
 }<br/>&#13;
} </p>&#13;
<link rel="stylesheet" href="http://static.blog.csdn.net/public/res-min/markdown_views.css?v=1.0"/>&#13;
            