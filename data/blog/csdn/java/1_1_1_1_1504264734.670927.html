

<p><span style="white-space:pre"></span><span style="white-space:pre"></span>   <span style="font-size:18px">我们都知道SSH是目前比较流行的一个Web应用程序开源框架，而struts又是之中的领头框架，究竟它有怎样的力量竟然可以博客IT界的眼球？？一起来看！！</span></p>&#13;
<h2> 一、演变之处--MVC</h2>&#13;
<p><span style="white-space:pre"></span><span style="white-space:pre"></span><span style="font-size:18px">要了解struts必须先来了解MVC，MVC并不是Java语言所特有的设计思想，也不是Web程序所特有的思想，它是所有面向对象程序设计语言都要遵守的设计规范。简单来说，MVC将一个应用程序分为三个部分：Model(模型)、View（视图）和Controller（控制器）。这三个部分以最小的耦合来协同工作，从而最大限度的提高程序的可扩展性。</span></p>&#13;
<p><span style="font-size:18px">       那么它们之间如何运行才能达到上述的目标呢？请看下图：</span></p>&#13;
<p>       <img src="http://img.blog.csdn.net/20150915195332285?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;
</p>&#13;
<p><span style="white-space:pre"></span></p>&#13;
<p>        <span style="font-size:18px">而struts2就是MVC的一种表现形式。下面就一起去探索初露羞面的这位姑娘！</span></p>&#13;
<h2>二、struts的小秘密</h2>&#13;
<h3>1.为什么使用</h3>&#13;
<p>      <span style="color:rgb(51,51,51); font-family:Tahoma,Helvetica,Arial,宋体,sans-serif; line-height:28px"><strong><span style="font-size:18px">♬</span></strong></span>.<span style="font-size:18px">它是建立在MVC这种公认的好的模式上的，Struts在M、V和C上都有涉及，但它主要是提供一个好的控制器和一套定制的标签库上，也就是说它的着力点在C和V上，因此，它天生就有MVC所带来的一系列优点，如：结构层次分明，高可重用性，增加了程序的健壮性和可伸缩性，便于开发与设计分工，提供集中统一的权限控制、校验、国际化、日志等等；</span></p>&#13;
<p><span style="color:rgb(51,51,51); font-family:Tahoma,Helvetica,Arial,宋体,sans-serif; line-height:28px"><span style="font-size:14px">   </span><span style="font-size:18px"><strong>♬</strong></span></span>.<span style="font-size:18px">其次，它是个开源项目得到了包括它的发明者Craig&#13;
 R.McClanahan在内的一些程序大师和高手持续而细心的呵护，并且经受了实战的检验，使其功能越来越强大，体系也日臻完善；</span></p>&#13;
<p><span style="color:rgb(51,51,51); font-family:Tahoma,Helvetica,Arial,宋体,sans-serif; line-height:28px"><span style="font-size:14px">   </span><strong><span style="font-size:24px"></span><span style="font-size:18px">♬</span></strong></span><strong><span style="font-size:24px">.</span></strong><span style="font-size:18px">它对其他技术和框架显示出很好的融合性。</span></p>&#13;
<h3>2.struts2应用程序的开发：</h3>&#13;
<p><span style="font-size:18px"><span style="white-space:pre"></span>1）在web.xml文件中定义核心filter来拦截用户的请求：</span></p>&#13;
<p><span style="font-size:18px">      由于Web应用是基于请求/响应架构的应用，所以不管哪个MVC Web框架，都需要在web.xml文件中配置该框架的核心Servlet或者filter，这样才可以让该框架介入到Web应用中：</span></p>&#13;
<p></p>&#13;
<pre code_snippet_id="1710523" snippet_file_name="blog_20160607_1_6594665" name="code" class="html">&lt;!-- 配置Struts2的核心过滤器 --&gt;					
	 &lt;filter&gt;
	     &lt;filter-name&gt;struts2&lt;/filter-name&gt;
	     &lt;filter-class&gt;org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;
	 &lt;/filter&gt;
	 
	 &lt;filter-mapping&gt;
	     &lt;filter-name&gt;struts2&lt;/filter-name&gt;
	     &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
	 &lt;/filter-mapping&gt;</pre><span style="font-size:18px"> 2）如果需要以post方式提交用户的请求，则需要定义包含表单数据的jsp页面。但是如果仅仅是以get方式来发送请求，则无需进行该步骤；</span>&#13;
<p><span style="font-size:18px"> 3）定义处理用户的Action类：这一步是MVC框架中必不可少的，Action就相当于controller，主要负责调用Model中的方法来处理用户的请求。</span></p>&#13;
<p><span style="font-size:18px">4）配置Action。一直以来我们都有一种思维定势，使用xml文件对Action进行陪孩子，而这个过程就是指定哪个请求对应哪个Action进行处理，从而让核心控制器根据该配置来       创建合适的Action实例，并调用该Action的业务控制方法：</span></p>&#13;
<pre code_snippet_id="1710523" snippet_file_name="blog_20160607_2_8437046" name="code" class="html">&lt;action name="login" class="cn.itcast.shop.adminUser.action.LoginAction"&gt;
.............
&lt;/action&gt;</pre>&#13;
<p></p>&#13;
<p><span style="font-size:18px">5）配置处理结果和物理视图资源之间的对应关系：</span></p>&#13;
<p><span style="font-size:18px">     当Action处理用户请求结束后，通常会返回一个处理结果可以认为该名称就是逻辑视图的名称，该逻辑视图需要和制定的物理资源产生关联，所以我们需要配置处理结果之间的关系：</span></p>&#13;
<p></p>&#13;
<pre code_snippet_id="1710523" snippet_file_name="blog_20160607_3_1360005" name="code" class="html">&lt;!-- 配置用户模块的Action --&gt;
		&lt;action name="user_*" class="userAction" method="{1}"&gt;
			&lt;result name="registPage"&gt;/WEB-INF/jsp/regist.jsp&lt;/result&gt;
			&lt;result name="input"&gt;/WEB-INF/jsp/regist.jsp&lt;/result&gt;
			&lt;result name="loginPage"&gt;/WEB-INF/jsp/login.jsp&lt;/result&gt;
			&lt;result name="login"&gt;/WEB-INF/jsp/login.jsp&lt;/result&gt;
			&lt;result name="loginSuccess" type="redirectAction"&gt;index&lt;/result&gt;
			&lt;result name="quit" type="redirectAction"&gt;index&lt;/result&gt;
			&lt;result name="checkcodeFail"&gt;/WEB-INF/jsp/regist.jsp&lt;/result&gt;
		&lt;/action&gt;</pre>&#13;
<h3>3.实现的流程：</h3>&#13;
<p><img src="http://img.blog.csdn.net/20150915194401147?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" width="580" height="360" alt="" /><br />&#13;
</p>&#13;
<p><span style="white-space:pre"></span><span style="font-size:18px">从图中可以看出，struts2框架的控制下，用户请求不再需要向jsp页面发送，而是由核心控制器strutsPreparedAndExecuteFilter 调用 jsp页面来生成响应，此处的调用并不是直接调用，而是将请求forward到指定的jsp页面上。</span></p>&#13;
<p><span style="font-size:18px">     关于struts2的分析就先到这里，SSH其他框架的讲解请期待接下来的博客！</span></p>&#13;
<p><br />&#13;
</p>&#13;
<p><span style="white-space:pre"></span></p>&#13;
   &#13;
