

<h2 style="margin:0in; font-size:14.0pt"><span style="font-family:Calibri">Servlet</span></h2>&#13;
<div><span style="font-family:Calibri"><br />&#13;
</span></div>&#13;
<p style="margin:0in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt">是一种独立于操作系统平台和网络传输协议的服务器端的Java应用程序，它用来扩展服务器的功能，可以生成动态的Web页面。最大的用途是通过动态响应客户机请求来扩展服务器功能。Servlet不是从命令行启动的，而是由包含Java虚拟机的Web服务器进行加载<span style="font-size:14pt">协议请求和响应服务类</span></p>&#13;
<p style="margin:0in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt"> </p>&#13;
<h2 style="margin:0in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt">Servlet可以做什么</h2>&#13;
<div><br />&#13;
</div>&#13;
<blockquote style="margin:0 0 0 40px; border:none; padding:0px">&#13;
<p style="margin:0in; font-size:14pt"><span style="font-family:SimSun">可以产生纯文本信息（这个功能不常用）</span></p>&#13;
<p style="margin:0in; font-size:14pt"><span style="font-family:SimSun">它可以读取客户端发送来的显式数据，比如表单数据</span></p>&#13;
<p style="margin:0in; font-size:14pt"><span style="font-family:SimSun">可以读取客户端发送来的隐式数据，比如请求报头</span></p>&#13;
<p style="margin:0in; font-size:14pt"><span style="font-family:SimSun">生成相应结果</span></p>&#13;
<p style="margin:0in; font-size:14pt"><span style="font-family:SimSun"><span lang="zh-CN" xml:lang="zh-CN">发送显式数据给客户（</span><span lang="en-US" xml:lang="en-US">HTML</span><span lang="zh-CN" xml:lang="zh-CN">；</span><span lang="en-US" xml:lang="en-US">XML</span><span lang="zh-CN" xml:lang="zh-CN">）</span></span></p>&#13;
<p style="margin:0in; font-size:14pt"><span style="font-family:SimSun"><span lang="zh-CN" xml:lang="zh-CN">发送隐式数据给客户</span><span lang="en-US" xml:lang="en-US">(</span><span lang="zh-CN" xml:lang="zh-CN">状态代码；响应报头</span><span lang="en-US" xml:lang="en-US">)</span></span></p>&#13;
</blockquote>&#13;
<p style="margin:0in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt"> </p>&#13;
<p style="margin:0in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt"> </p>&#13;
<h2 style="margin:0in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt">工作原理　</h2>&#13;
<div><br />&#13;
</div>&#13;
<p style="margin:0in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt"></p>&#13;
<ul>&#13;
<ul>&#13;
<li><span style="font-size:14pt"> </span><span lang="zh-CN" style="font-size:14pt" xml:lang="zh-CN">运行在</span><span lang="en-US" style="font-size:14pt; font-family:Calibri" xml:lang="en-US">web</span><span lang="zh-CN" style="font-size:14pt" xml:lang="zh-CN">服务器上的</span><span lang="en-US" style="font-size:14pt; font-family:Calibri" xml:lang="en-US">web</span><span lang="zh-CN" style="font-size:14pt" xml:lang="zh-CN">容器里。</span></li><li><span style="font-size:14pt">    客户机将请求发送到服务器。</span></li><li><span style="font-size:14pt">    服务器上的Web容器实例化（装入）Servlet</span></li><li><span style="font-size:14pt">    Web容器将请求信息发送到 Servlet。</span></li><li><span style="font-size:14pt">    Servlet 创建一个响应，并将其返回到Web容器。</span></li><li><span style="font-size:14pt">    Web容器将响应发回客户机。</span></li><li><span style="font-size:14pt">   服务器关闭或Servlet空闲时间超过一定限度时，调用destory()方法退出。</span></li></ul>&#13;
</ul>&#13;
<p></p>&#13;
<p style="margin:0in; margin-left:.375in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt"><br />&#13;
</p>&#13;
<p style="margin:0in; margin-left:.375in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt"><span style="font-size:14pt"> 从这里可以看到客户机与Servlet间没有直接的交互。无论客户机对Servlet的请求还是Servlet对客户端的响应，都是通过Web服务器来实现的，这就大大提高了Servlet组件的可移植性.</span></p>&#13;
<p style="margin:0in; margin-left:.375in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt"><span style="font-size:14pt"><br />&#13;
</span></p>&#13;
<p style="margin:0in; margin-left:.375in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt"><span style="font-size:14pt"><br />&#13;
</span></p>&#13;
<h2 style="margin:0in; margin-left:.375in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt"><span style="font-size:14pt">基本的架构图</span></h2>&#13;
<p style="margin:0in; margin-left:.375in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt"><span style="font-size:14pt"></span></p>&#13;
<p style="margin:0in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14pt"> </p>&#13;
<p style="margin:0in"><img src="http://img.blog.csdn.net/20140330203635375?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaGFuX3lhbmt1bjIwMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" /><br />&#13;
</p>&#13;
<p style="margin:0in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14pt"> </p>&#13;
 &#13;
<p style="margin:0in; margin-left:.375in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt"> </p>&#13;
<h2 style="margin:0in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt">生命周期</h2>&#13;
<p style="margin:0in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt"> </p>&#13;
<p style="margin:0in; font-size:14.0pt"><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">实例化，</span><span lang="en-US" style="font-family:Calibri" xml:lang="en-US"></span><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">初始化，就绪，</span><span lang="en-US" style="font-family:Calibri" xml:lang="en-US"></span><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">销毁，回收</span></p>&#13;
<p style="margin:0in"><br />&#13;
</p>&#13;
<p style="margin:0in"><img src="http://img.blog.csdn.net/20140330203641265?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaGFuX3lhbmt1bjIwMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" /><br />&#13;
</p>&#13;
<p style="margin:0in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt"> </p>&#13;
<p style="margin:0in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt"> </p>&#13;
<h2 style="margin:0in; font-size:14.0pt"><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">创建</span><span lang="en-US" style="font-family:Calibri" xml:lang="en-US">servlet</span></h2>&#13;
<div><span lang="en-US" style="font-family:Calibri" xml:lang="en-US"><br />&#13;
</span></div>&#13;
<p style="margin:0in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt">涉及以下四个步骤</p>&#13;
<p style="margin:0in; font-size:14.0pt"><span lang="en-US" style="font-family:Calibri" xml:lang="en-US">1</span><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">扩展</span><span lang="en-US" style="font-family:Calibri" xml:lang="en-US">httpservlet</span><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">抽象类</span></p>&#13;
<p style="margin:0in; margin-left:.375in; font-size:14.0pt"><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">所有的</span><span lang="en-US" style="font-family:Calibri" xml:lang="en-US">servlet</span><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">必须直接或间接地实现</span><span lang="en-US" style="font-family:Calibri" xml:lang="en-US">servlet.servlet</span><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">接口</span></p>&#13;
<p style="margin:0in; margin-left:.375in; font-size:14.0pt"><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">必须扩展</span><span lang="en-US" style="font-family:Calibri" xml:lang="en-US">http.httpservlet</span><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">类</span></p>&#13;
<p style="margin:0in; margin-left:.375in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt"> </p>&#13;
<p style="margin:0in; font-size:14.0pt"><span lang="en-US" style="font-family:Calibri" xml:lang="en-US">2</span><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">重载适当的方法，主要是重写</span><span lang="en-US" style="font-family:Calibri" xml:lang="en-US">doget</span><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">或</span><span lang="en-US" style="font-family:Calibri" xml:lang="en-US">gopost</span><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">方法</span></p>&#13;
<p style="margin:0in; font-size:14.0pt"><span lang="en-US" style="font-family:Calibri" xml:lang="en-US">3 http</span><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">请求，获取该信息</span></p>&#13;
<p style="margin:0in; font-size:14.0pt"><span lang="en-US" style="font-family:Calibri" xml:lang="en-US">4</span><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">生成</span><span lang="en-US" style="font-family:Calibri" xml:lang="en-US">http</span><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">响应，</span><span lang="en-US" style="font-family:Calibri" xml:lang="en-US">httpservletresponse</span><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">对象生成响应，并将它返回到发出请求的客户机上</span></p>&#13;
<p lang="en-US" style="margin:0in; font-family:Calibri; font-size:14.0pt" xml:lang="en-US"> </p>&#13;
<p style="margin:0in; font-size:14.0pt"><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">在</span><span lang="en-US" style="font-family:Calibri" xml:lang="en-US">web</span><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">应用的</span><span lang="en-US" style="font-family:Calibri" xml:lang="en-US">web-inf</span><span lang="en-US" style="font-family:华文楷体" xml:lang="en-US">\classes</span><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">下，并在部署描述文件</span><span lang="en-US" style="font-family:华文楷体" xml:lang="en-US">web.xml</span><span lang="en-US" style="font-family:Calibri" xml:lang="en-US"></span><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">中注册</span></p>&#13;
<p style="margin:0in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt"> </p>&#13;
<h2 style="margin:0in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt">部署　</h2>&#13;
<div><br />&#13;
</div>&#13;
<p style="margin:0in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt">部署Servlet主要是使得Web容器能够加载Servlet。</p>&#13;
<p lang="en-US" style="margin:0in; font-family:Calibri; font-size:14.0pt" xml:lang="en-US"> </p>&#13;
<p style="margin:0in; font-size:14.0pt"><span lang="en-US" style="font-family:Calibri" xml:lang="en-US">web.xml</span><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">文件配置</span><span lang="en-US" style="font-family:Calibri" xml:lang="en-US">servlet</span></p>&#13;
<p lang="en-US" style="margin:0in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt" xml:lang="en-US"> </p>&#13;
<p style="margin:0in; font-size:14.0pt"><span lang="en-US" style="font-family:Calibri" xml:lang="en-US">web.xml</span><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">部署描述文件中注册和配置生命以及映射一个</span><span lang="en-US" style="font-family:Calibri" xml:lang="en-US">servlet</span><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">示例</span></p>&#13;
<p style="margin:0in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt"> </p>&#13;
<p style="margin:0in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt">实例：</p>&#13;
<p style="margin:0in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt"> </p>&#13;
<pre code_snippet_id="265433" snippet_file_name="blog_20140330_1_1078659" name="code" class="html">　1&lt;!--第一个servlet程序配置 --&gt;
 
　2&lt;servlet&gt;
 
　3&lt;servlet-name&gt;firstServlet&lt;/servlet-name&gt;
 
　4&lt;servlet-class&gt;HelloClientServlet的包路径&lt;/servlet-class&gt;
 
　5&lt;/servlet&gt;
 
　6&lt;!--第一个servlet程序映射 --&gt;
 
　7&lt;servlet-mapping&gt;
 
　8&lt;servlet-name&gt;firstServlet&lt;/servlet-name&gt;&lt;!--必须与配置中的servlet-name相同 --&gt;
 
　9&lt;url-pattern&gt;/first.do&lt;/url-pattern&gt;
 
10&lt;/servlet-mapping&gt;</pre><br />&#13;
<p></p>&#13;
<p style="margin:0in; font-family:&#x534E;&#x6587;&#x6977;&#x4F53;; font-size:14.0pt"> </p>&#13;
<h2 style="margin:0in; font-size:14.0pt"><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">小结：</span></h2>&#13;
<p style="margin:0in; font-size:14.0pt"><span lang="en-US" style="font-family:Calibri" xml:lang="en-US"> servlet</span><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">更倾向于服务的请求和应答，符合业务层。若利用</span><span lang="en-US" style="font-family:Calibri" xml:lang="en-US">servlet</span><span lang="en-US" style="font-family:华文楷体" xml:lang="en-US"></span><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">输出</span><span lang="en-US" style="font-family:华文楷体" xml:lang="en-US">HTML</span><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">语句来实现动态网页的，如果用它来开发整个网站，动态部分和静态页面的整合过程将变得无法想象。因此</span><span lang="en-US" style="font-family:华文楷体" xml:lang="en-US">JSP</span><span lang="zh-CN" style="font-family:华文楷体" xml:lang="zh-CN">出现了。</span></p>&#13;
   &#13;
