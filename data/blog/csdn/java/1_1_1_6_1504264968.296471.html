
        <div class="markdown_views"><p>一.velocity 简介</p>

<p>基于java 的模板引擎，apache 旗下的开源软件项目。 <br />
目的在于隔离 表示层和业务逻辑层，当然现在做的不仅仅是这些。</p>

<p>二.应用场景</p>

<ul>
<li>web 应用程序：创建html页面，页面的动态信息有velocity框架来处理 <br />
意味着可以不使用JSP等动态语言</li>
<li>源代码生成：基于模板生成java,sql源代码</li>
<li>email 生成：将邮件模板存储在文本文件</li>
<li>xml转换:velocity 提供一个Ant 任务-Anakia,Anakia 读取xml文件，利用velocity 模板转换为所需的文档格式</li>
</ul>

<p>三.基本语法 <br />
1.关键字以#开头</p>

<p>2.变量以$开头，变量类型是弱类型</p>

<p>3.定义函数</p>

<p>#macro(macroname arg1 arg2) <br />
 #end</p>

<p>调用 <br />
 #macroname(arg1 arge)</p>

<p>4.#parse,#include</p>

<p>两者都是引用外部文件， <br />
 #parse会将引用的内容作为源码文件执行，会对代码进行解析 <br />
 #include拷贝替换所有的文本内容</p>

<p>更多<a href="http://www.cnblogs.com/codingsilence/archive/2011/03/29/2146580.html">http://www.cnblogs.com/codingsilence/archive/2011/03/29/2146580.html</a></p>

<p>四.第一个项目—-场景1(web应用程序) <br />
pre: <br />
jar 包下载 <br />
<a href="http://velocity.apache.org/download.cgi?cm_mc_uid=56692902242514430865854&amp;cm_mc_sid_50200000=1451871613">http://velocity.apache.org/download.cgi?cm_mc_uid=56692902242514430865854&amp;cm_mc_sid_50200000=1451871613</a></p>

<p>需要引入velocity-1.7.jar，以及lib包下面jar文件</p>

<p>VelocityTag</p>

<p>1.初始化VelocityEngine</p>

<pre><code>    VelocityEngine ve = new VelocityEngine();
    // Velocity.java implements RuntimeConstants
    // so you can use RuntimeConstants.RESOURCE_LOADER="resource.loader"
    ve.setProperty(Velocity.RESOURCE_LOADER, "classpath");
    ve.setProperty("classpath.resource.loader.class", ClasspathResourceLoader.class.getName());
    ve.init();
</code></pre>

<p>2.关联模板文件</p>

<pre><code>Template template = ve.getTemplate("velocity/firstVelocity.vm");
</code></pre>

<p>3.写入动态内容</p>

<pre><code>    VelocityContext context = new VelocityContext();
    context.put("first", "fristVelocityExample");
</code></pre>

<p>4.输入到浏览器</p>

<pre><code>    PrintWriter pw = response.getWriter();
    template.merge(context, pw);
</code></pre>

<p>代码<a href="https://github.com/FS1360472174/velocityLearning">访问github</a></p></div>&#13;
        <script type="text/javascript">&#13;
            $(function () {&#13;
                $('pre.prettyprint code').each(function () {&#13;
                    var lines = $(this).text().split('\n').length;&#13;
                    var $numbering = $('&lt;ul/&gt;').addClass('pre-numbering').hide();&#13;
                    $(this).addClass('has-numbering').parent().append($numbering);&#13;
                    for (i = 1; i &lt;= lines; i++) {&#13;
                        $numbering.append($('&lt;li/&gt;').text(i));&#13;
                    };&#13;
                    $numbering.fadeIn(1700);&#13;
                });&#13;
            });&#13;
        </script>&#13;
   &#13;
