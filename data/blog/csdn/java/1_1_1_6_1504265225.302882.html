

<h1>Maven</h1>&#13;
<div>            <span style="font-size:14px">最近在一个公司实习，由于刚出校门对公司开发流程还是不太清楚。对Maven知之甚少，最近我就在恶补Maven。</span></div>&#13;
<h2>Maven定义</h2>&#13;
<div>      <span style="font-size:14px">      Maven 是一个项目管理工具，它包含了一个项目对象模型 (Project Object Model)， 一组标准集合， 一个项目生命周期(Project<br />&#13;
Lifecycle)，一个依赖管理系统(Dependency Management System)，和用来运行定义在生命周期阶段(phase)中插件(plugin)目标(goal)的逻辑。 当你使用 Maven 的时候，你用一个明确定义的项目对象模型来描述你的项目，然后 Maven 可以应用横切的逻辑，这些逻辑来自一组共享的（或者自定义的）插件。Maven是基于项目对象模型（POM），可以通过一小段描述信息来管理项目的构建、报告和文档的软件项目管理工具。</span></div>&#13;
<div>            <span style="font-size:14px"> 在没有自定义的情况下，源代码假定是在 ${basedir}/src/main/java，资源文件假定是在${basedir}/src/main/resources 。测试代码假定是在 ${basedir}/src/test 。项目假定会产生一个 JAR 文件。 Maven 假定你想要把编译好的字节码放到${basedir}/target/classes 并且在 ${basedir}/target 创建一个可分发的 JAR文件。&#13;
 虽然这看起来无关紧要，但是想想大部分基于 Ant 的构建必须为每个子项目定义这些目录。 Maven 对约定优于配置的应用不仅仅是简单的目录位置， Maven 的核心插件使用了一组通用的约定，以用来编译源代码，打包可分发的构件，生成 web 站点，还有许多其他的过程。</span></div>&#13;
<h2><span style="font-size:14px">Maven插件的全局性重用</span></h2>&#13;
<div><span style="font-size:14px">         Maven 的核心，解析一些 XML 文档，管理生命周期与插件。 Maven 被设计成将主要的职责委派给一组 Maven 插件，这些插件可以影响 Maven 生命周期，提供对目标的访问。绝大多数 Maven 的动作发生于 Maven 插件的目标，如编译源码，打包二进制代码，发布站点和其它构建任务。从 Apache 下载的 Maven 不知道如何打包 WAR 文件，也不知道如何运行单元测试， Maven 大部分的智能是由插件实现的，而插件从&#13;
 Maven 仓库获得。第一次你用全新的 Maven 安装运行诸如 mvn install 命令的时候，它会从中央 Maven 仓库下载大部分核心 Maven 插件。这不仅仅是一个最小化 Maven分发包大小的技巧，这种方式更能让你升级插件以给你项目的构建提高能力。 Maven从远程仓库获取依赖和插件的这一事实允许了构建逻辑的全局性重用。</span></div>&#13;
<h2>依赖管理</h2>&#13;
<div><span style="font-size:14px">          由于项目是根据一个包含组标识符，构件标识符和版本的唯一的坐标定义的。项目间可以使用这些坐标来声明依赖<br />&#13;
</span></div>&#13;
<h2><span style="font-size:14px">远程仓库</span></h2>&#13;
<div><span style="font-size:14px">          和项目依赖相关的，我们可以使用定义在项目对象模型（ POM）中的坐标来创建 Maven 构件的仓库。</span></div>&#13;
<h2>Ant 和 Maven 的区别</h2>&#13;
<h3><span style="font-size:14px">Apache Ant</span></h3>&#13;
<div><span style="font-size:14px">         Ant 没有正式的约定如一个一般项目的目录结构， 你必须明确的告诉 Ant哪里去找源代码，哪里放置输出。随着时间的推移，非正式的约定出现了，但是它们还没有在产品中模式化。<br />&#13;
         Ant 是程序化的，你必须明确的告诉 Ant 做什么，什么时候做。你必须告诉它去编译，然后复制，然后压缩。<br />&#13;
         Ant 没有生命周期，你必须定义目标和目标之间的依赖。你必须手工为每个目标附上一个任务序列。<br />&#13;
</span>&#13;
<h3><span style="font-size:14px">Apache Maven</span></h3>&#13;
<span style="font-size:14px">         Maven 拥有约定，因为你遵循了约定，它已经知道你的源代码在哪里。它把字节码放到 target/classes ，然后在 target 生成一个 JAR文件。<br />&#13;
        Maven 是声明式的。你需要做的只是创建一个 pom.xml 文件然后将源代码放到默认的目录。 Maven 会帮你处理其它的事情。<br />&#13;
        Maven 有一个生命周期，当你运行 mvn install 的时候被调用。这条命令告诉 Maven 执行一系列的有序的步骤，直到到达你指定的生命周期。遍历生命周期旅途中的一个影响就是， Maven 运行了许多默认的插件目标，这些目标完成了像编译和创建一个 JAR 文件这样的工作。<br />&#13;
 总结：Maven 以插件的形式为一些一般的项目任务提供了内置的智能。如果你想要编写运行单元测试，你需要做的只是编写测试然后放到 ${basedir}/src/test/java ，添加一个对于 TestNG 或者 JUnit 的测试范围依赖，然后运行 mvn test 。如果你想要部署一个 web 应用而非 JAR ，你需要做的是改变你的项目类型为 war ，然后把你文档根目录置为 ${basedir}/src/main/webapp 。当然，你可以用 Ant 做这些事情，但是你将需要从零开始写这些指令。使用&#13;
 Ant ，你首先需要确定 JUnit JAR 文件应该放在哪里，然后你需要创建一个包含这个 JUnit JAR 文件的 classpath ，然后告诉 Ant 它应该从哪里去找测试源代码，编写一个目标来编译测试源代码为字节码，使用 JUnit 来执行单元测试</span></div>&#13;
<h2><span style="font-size:14px">简单使用语句</span></h2>&#13;
<div><span style="font-size:14px">          mvn   -v    </span><span style="font-size:14px">查看版本</span></div>&#13;
<div><span style="font-size:14px">                    compile  编译</span></div>&#13;
<div><span style="font-size:14px">                    test   测试<br />&#13;
                    package   打包<br />&#13;
                    clean   清楚target<br />&#13;
                    install  安装jar包到本地仓库中<br />&#13;
</span></div>&#13;
<h2><span style="font-size:14px">自动创建目录骨架</span></h2>&#13;
<div><span style="font-size:14px">       archetype插件用于创建符合maven规定的目录骨架创建目录有两种方式<br />&#13;
      方式一：archetype：generate 按照提示进行选择<br />&#13;
      方式二：archetype：generate -DgroupId=组织名，公司网址的反写+项目名<br />&#13;
                                                           -DartifactId=项目名-模块名<br />&#13;
<span style="white-space:pre"></span>                                   -Dversion=版本号<br />&#13;
<span style="white-space:pre"></span>                                   -Dpackage=代码所存在的包名</span></div>&#13;
<h2><span style="font-size:14px">其他知识点</span></h2>&#13;
<div><span style="font-size:14px">      坐标<br />&#13;
           构件<br />&#13;
      仓库   分为本地仓库和远程仓库<br />&#13;
      镜像仓库   <br />&#13;
      clean 清理项目<br />&#13;
      pre-clean 执行清理前的工作<br />&#13;
      clean清理上一次构建生成的所有文件<br />&#13;
      post-clean执行清理后的文件<br />&#13;
      site生成项目站点<br />&#13;
             pre-site 在生成项目站点前要完成的工作<br />&#13;
<span style="white-space:pre"></span>     site 生成项目的站点文档<br />&#13;
<span style="white-space:pre"></span>     post-site在生成项目站点后要完成的工作<br />&#13;
<span style="white-space:pre"></span>     site-deploy发布生成的站点到服务器上<br />&#13;
      依赖范围<br />&#13;
      依赖冲突<br />&#13;
      依赖传递<br />&#13;
      聚合和继承，其他知识点以后在详细介绍。。。</span></div>&#13;
<div><span style="font-size:14px"><br />&#13;
</span></div>&#13;
<div><span style="font-size:14px">本博客参考自《Maven 权威指南》，有兴趣的可以看一下</span></div>&#13;
<div><span style="font-size:14px"><br />&#13;
</span></div>&#13;
<p><br />&#13;
</p>&#13;
   &#13;
