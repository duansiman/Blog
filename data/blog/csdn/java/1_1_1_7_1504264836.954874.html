

<h1 style="margin-top:0px; margin-bottom:0px; padding:15px 0px; font-size:20px; color:rgb(68,68,68); font-family:'Microsoft Yahei',Arial,Helvetica,sans-serif; background-color:rgb(238,238,238)">&#13;
<div id="art-body" style="margin-bottom:12px; line-height:1.6em; color:rgb(51,51,51); font-family:'Microsoft Yahei',Arial,Helvetica,sans-serif; font-size:14px; background-color:rgb(238,238,238)">&#13;
定义：Singleton模式主要作用是保证在Java应用程序中，一个类Class只有一个实例存在。<br />&#13;
<br />&#13;
在很多操作中，比如建立目录 数据库连接都需要这样的单线程操作。<br />&#13;
<br />&#13;
还有，singleton能够被状态化；这样，多个单态类在一起就可以作为一个状态仓库一样向外提供服务，比如，你要论坛中的帖子计数器，每次浏览一次需要计数，单态类能否保持住这个计数，并且能synchronize的安全自动加1，如果你要把这个数字永久保存到数据库，你可以在不修改单态接口的情况下方便的做到。<br />&#13;
<br />&#13;
另外方面，Singleton也能够被无状态化。提供工具性质的功能，<br />&#13;
<br />&#13;
Singleton模式就为我们提供了这样实现的可能。使用Singleton的好处还在于可以节省内存，因为它限制了实例的个数，有利于Java垃圾回收（garbage collection）。<br />&#13;
<br />&#13;
我们常常看到工厂模式中类装入器(class loader)中也用Singleton模式实现的，因为被装入的类实际也属于资源。&#13;
<h2 style="margin:15px auto; font-size:18px; line-height:18px">如何使用单例模式</h2>&#13;
一般Singleton模式通常有几种形式：<br />&#13;
public class Singleton {<br />&#13;
    private Singleton(){}<br />&#13;
　//在自己内部定义自己一个实例，是不是很奇怪？<br />&#13;
　//注意这是private 只供内部调用<br />&#13;
　private static Singleton instance = new Singleton();<br />&#13;
　//这里提供了一个供外部访问本class的静态方法，可以直接访问　　<br />&#13;
　public static Singleton getInstance() {<br />&#13;
　　return instance; 　　<br />&#13;
　}<br />&#13;
}<br />&#13;
<br />&#13;
第二种形式：<br />&#13;
public class Singleton {<br />&#13;
　private static Singleton instance = null;<br />&#13;
　public static synchronized Singleton getInstance() {<br />&#13;
　    //这个方法比上面有所改进，不用每次都进行生成对象，只是第一次　　　 　<br />&#13;
　    //使用时生成实例，提高了效率！<br />&#13;
　    if (instance==null)<br />&#13;
　　    instance＝new Singleton();<br />&#13;
　　return instance;<br />&#13;
    }<br />&#13;
}<br />&#13;
<br />&#13;
使用Singleton.getInstance()可以访问单态类。<br />&#13;
<br />&#13;
上面第二中形式是lazy initialization，也就是说第一次调用时初始Singleton，以后就不用再生成了。<br />&#13;
<br />&#13;
注意到lazy initialization形式中的synchronized，这个synchronized很重要，如果没有synchronized，那么使用getInstance()是有可能得到多个Singleton实例。关于lazy initialization的Singleton有很多涉及double-checked locking (DCL)的讨论，有兴趣者进一步研究。<br />&#13;
<br />&#13;
<span style="color:rgb(178,34,34)">一般认为第一种形式要更加安全些。</span>&#13;
<h2 style="margin:15px auto; font-size:18px; line-height:18px">使用单例模式注意事项</h2>&#13;
有时在某些情况下，使用Singleton并不能达到Singleton的目的，如有多个Singleton对象同时被不同的类装入器装载；在EJB这样的分布式系统中使用也要注意这种情况，因为EJB是跨服务器，跨JVM的。<br />&#13;
<br />&#13;
我们以SUN公司的宠物店源码(Pet Store 1.3.1)的ServiceLocator为例稍微分析一下：<br />&#13;
<br />&#13;
在Pet Store中ServiceLocator有两种，一个是EJB目录下；一个是WEB目录下，我们检查这两个ServiceLocator会发现内容差不多，都是提供EJB的查询定位服务，可是为什么要分开呢？仔细研究对这两种ServiceLocator才发现区别：在WEB中的ServiceLocator的采取Singleton模式，ServiceLocator属于资源定位，理所当然应该使用Singleton模式。但是在EJB中，Singleton模式已经失去作用，所以ServiceLocator才分成两种，一种面向WEB服务的，一种是面向EJB服务的。<br />&#13;
<br />&#13;
Singleton模式看起来简单，使用方法也很方便，但是真正用好，是非常不容易，需要对Java的类 线程 内存等概念有相当的了解。<br />&#13;
</div>&#13;
<div id="ad-arc-bottom" class="clearfix" style="padding-bottom:12px; color:rgb(51,51,51); font-family:'Microsoft Yahei',Arial,Helvetica,sans-serif; font-size:14px; background-color:rgb(238,238,238)">&#13;
</div>&#13;
<div id="ad-arc-bottom" class="clearfix" style="padding-bottom:12px; color:rgb(51,51,51); font-family:'Microsoft Yahei',Arial,Helvetica,sans-serif; font-size:14px; background-color:rgb(238,238,238)">&#13;
<br />&#13;
</div>&#13;
<div id="ad-arc-bottom" class="clearfix" style="padding-bottom:12px; color:rgb(51,51,51); font-family:'Microsoft Yahei',Arial,Helvetica,sans-serif; font-size:14px; background-color:rgb(238,238,238)">&#13;
<br />&#13;
</div>&#13;
<div id="ad-arc-bottom" class="clearfix" style="padding-bottom:12px; color:rgb(51,51,51); font-family:'Microsoft Yahei',Arial,Helvetica,sans-serif; font-size:14px; background-color:rgb(238,238,238)">&#13;
<div class="TITLE">单态模式</div>&#13;
<div class="currency_area">&#13;
<div class="theTitle">&#13;
<h5><img src="http://blog.csdn.net/qq_27073205/article/details/45565957" alt="" /> <strong>概述</strong></h5>&#13;
</div>&#13;
<div class="theContent">&#13;
<pre>    保证一个类仅有一个实例，并提供一个访问它的全局访问点。
</pre>&#13;
</div>&#13;
</div>&#13;
<div class="currency_area">&#13;
<div class="theTitle">&#13;
<h5><img src="http://blog.csdn.net/qq_27073205/article/details/45565957" alt="" /> <strong>适用性</strong></h5>&#13;
</div>&#13;
<div class="theContent">&#13;
<pre>    1.当类只能有一个实例而且客户可以从一个众所周知的访问点访问它时。

    2.当这个唯一实例应该是通过子类化可扩展的，并且客户应该无需更改代码就能使用一个扩展的实例时。
			</pre>&#13;
</div>&#13;
</div>&#13;
<div class="currency_area">&#13;
<div class="theTitle">&#13;
<h5><img src="http://blog.csdn.net/qq_27073205/article/details/45565957" alt="" /> <strong>参与者</strong></h5>&#13;
</div>&#13;
<div class="theContent">&#13;
<pre>    Singleton
      定义一个Instance操作，允许客户访问它的唯一实例。Instance是一个类操作。
      可能负责创建它自己的唯一实例。
</pre>&#13;
</div>&#13;
</div>&#13;
<div class="currency_area">&#13;
<div class="theTitle">&#13;
<h5><img src="http://blog.csdn.net/qq_27073205/article/details/45565957" alt="" /> <strong>类图</strong></h5>&#13;
</div>&#13;
<div class="theContent"><img src="http://blog.csdn.net/qq_27073205/article/details/45565957" alt="" /> </div>&#13;
</div>&#13;
<div class="currency_area">&#13;
<div class="theTitle">&#13;
<h5><img src="http://blog.csdn.net/qq_27073205/article/details/45565957" alt="" /> <strong>例子</strong></h5>&#13;
</div>&#13;
<div class="theContent"><strong>Singleton</strong> </div>&#13;
<div class="theContent2">&#13;
<pre>public class Singleton {
    
    private static Singleton sing;

    private Singleton() {
        
    }
    
    public static Singleton getInstance() {
        if (sing == null) {
            sing = new Singleton();
        }
        return sing;
    }
}
</pre>&#13;
</div>&#13;
<div class="theContent"><strong>Test</strong> </div>&#13;
<div class="theContent2">&#13;
<pre>public class Test {
    
    public static void main(String[] args) {
        Singleton sing = Singleton.getInstance();
        Singleton sing2 = Singleton.getInstance();
        
        System.out.println(sing);
        System.out.println(sing2);
    }
}
</pre>&#13;
</div>&#13;
<div class="theContent"><strong>result</strong> </div>&#13;
<div class="theContent2">&#13;
<pre>singleton.Singleton@1c78e57
singleton.Singleton@1c78e57
</pre>&#13;
</div>&#13;
</div>&#13;
<br />&#13;
</div>&#13;
<div id="ad-arc-bottom" class="clearfix" style="padding-bottom:12px; color:rgb(51,51,51); font-family:'Microsoft Yahei',Arial,Helvetica,sans-serif; font-size:14px; background-color:rgb(238,238,238)">&#13;
<br />&#13;
</div>&#13;
<div id="ad-arc-bottom" class="clearfix" style="padding-bottom:12px; color:rgb(51,51,51); font-family:'Microsoft Yahei',Arial,Helvetica,sans-serif; font-size:14px; background-color:rgb(238,238,238)">&#13;
<p style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
<span style="padding:0px; line-height:1.8; margin:0px; font-family:宋体">　<span lang="EN-US" style="padding:0px; line-height:1.8; margin:0px" xml:lang="EN-US">java</span>中单例模式是一种常见的设计模式，单例模式分三种：懒汉式单例、饿汉式单例、登记式单例三种。<span lang="EN-US" style="padding:0px; line-height:1.8; margin:0px" xml:lang="EN-US"><br style="padding:0px; margin:0px" />&#13;
</span>　　单例模式有以下特点：<span lang="EN-US" style="padding:0px; line-height:1.8; margin:0px" xml:lang="EN-US"><br style="padding:0px; margin:0px" />&#13;
</span>　　<span style="padding:0px; line-height:1.8; margin:0px; color:rgb(0,128,0)"><span lang="EN-US" style="padding:0px; line-height:1.8; margin:0px" xml:lang="EN-US">1</span>、单例类只能有一个实例。<span lang="EN-US" style="padding:0px; line-height:1.8; margin:0px" xml:lang="EN-US"><br style="padding:0px; margin:0px" />&#13;
</span>　　<span lang="EN-US" style="padding:0px; line-height:1.8; margin:0px" xml:lang="EN-US">2</span>、单例类必须自己创建自己的唯一实例。<span lang="EN-US" style="padding:0px; line-height:1.8; margin:0px" xml:lang="EN-US"><br style="padding:0px; margin:0px" />&#13;
</span>　　<span lang="EN-US" style="padding:0px; line-height:1.8; margin:0px" xml:lang="EN-US">3</span>、单例类必须给所有其他对象提供这一实例。<span lang="EN-US" style="padding:0px; line-height:1.8; margin:0px" xml:lang="EN-US"><br style="padding:0px; margin:0px" />&#13;
<span style="padding:0px; line-height:1.8; margin:0px; color:black"><span size="3" style="padding:0px; line-height:1.8; margin:0px">　　单例模式确保某个类只有一个实例，而且自行实例化并向整个系统提供这个实例。在计算机系统中，线程池、缓存、日志对象、对话框、打印机、显卡的驱动程序对象常被设计成单例。这些应用都或多或少具有资源管理器的功能。每台计算机可以有若干个打印机，但只能有一个Printer&#13;
 Spooler，以避免两个打印作业同时输出到打印机中。每台计算机可以有若干通信端口，系统应当集中管理这些通信端口，以避免一个通信端口同时被两个请求同时调用。总之，选择单例模式就是为了避免不一致状态，避免政出多头。</span></span></span></span></span></p>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
<br />&#13;
<span style="font-size:18px">一、懒汉式单例</span></p>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
</p>&#13;
<div class="dp-highlighter bg_java" style="font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:692.9971313476563px; overflow:auto; padding-top:1px; color:rgb(54,46,43); line-height:25.99431800842285px; margin:18px 0px!important">&#13;
<div class="bar" style="padding-left:45px">&#13;
<div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(153,153,153)">&#13;
<strong>[java]</strong> <a target="_blank" href="http://blog.csdn.net/jason0539/article/details/23297037" class="ViewSource" title="view plain" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px">view&#13;
 plain</a><a target="_blank" href="http://blog.csdn.net/jason0539/article/details/23297037" class="CopyToClipboard" title="copy" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px">copy</a><a target="_blank" href="http://blog.csdn.net/jason0539/article/details/23297037" class="PrintSource" title="print" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px">print</a><a target="_blank" href="http://blog.csdn.net/jason0539/article/details/23297037" class="About" title="?" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px">?</a><a target="_blank" href="https://code.csdn.net/snippets/294885" title="在CODE上查看代码片" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px"><img src="https://code.csdn.net/assets/CODE_ico.png" width="12" height="12" alt="在CODE上查看代码片" style="border:none; max-width:100%; position:relative; top:1px; left:2px" /></a><a target="_blank" href="https://code.csdn.net/snippets/294885/fork" title="派生到我的代码片" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px"><img src="https://code.csdn.net/assets/ico_fork.svg" width="12" height="12" alt="派生到我的代码片" style="border:none; max-width:100%; position:relative; top:2px; left:2px" /></a>&#13;
<div style="position:absolute; left:518px; top:855px; width:26px; height:14px; z-index:99">&#13;
</div>&#13;
</div>&#13;
</div>&#13;
<ol start="1" class="dp-j" style="padding:0px; border:none; list-style-position:initial; background-color:rgb(255,255,255); color:rgb(92,92,92); margin:0px 0px 1px 45px!important">&#13;
<li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//懒汉式单例类.在第一次调用的时候实例化自己 </span><span style="margin:0px; padding:0px; border:none; background-color:inherit">  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">class</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Singleton {  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//私有的默认构造子</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">private</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Singleton() {}  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//注意，这里没有final    </span><span style="margin:0px; padding:0px; border:none; background-color:inherit">  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">private</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">static</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Singleton single=</span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">null</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">;  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//静态工厂方法 </span><span style="margin:0px; padding:0px; border:none; background-color:inherit">  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">static</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Singleton getInstance() {  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">         <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">if</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> (single == </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">null</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">) {    </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">             single = <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">new</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Singleton();  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">         }    </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">return</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> single;  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    }  </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">}  </span></li></ol>&#13;
</div>&#13;
<div style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
Singleton通过将构造方法限定为private避免了类在外部被实例化，在同一个虚拟机范围内，Singleton的唯一实例只能通过getInstance()方法访问。</div>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
（事实上，通过Java反射机制是能够实例化构造方法为private的类的，那基本上会使所有的Java单例实现失效。此问题在此处不做讨论，姑且掩耳盗铃地认为反射机制不存在。）</p>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
但是以上懒汉式单例的实现没有考虑线程安全问题，它是线程不安全的，并发环境下很可能出现多个Singleton实例，下面介绍的饿汉式单例是线程安全的。</p>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
<br />&#13;
</p>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
<span style="font-size:18px">二、饿汉式单例</span></p>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
</p>&#13;
<div class="dp-highlighter bg_java" style="font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:692.9971313476563px; overflow:auto; padding-top:1px; color:rgb(54,46,43); line-height:25.99431800842285px; margin:18px 0px!important">&#13;
<div class="bar" style="padding-left:45px">&#13;
<div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(153,153,153)">&#13;
<strong>[java]</strong> <a target="_blank" href="http://blog.csdn.net/jason0539/article/details/23297037" class="ViewSource" title="view plain" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px">view&#13;
 plain</a><a target="_blank" href="http://blog.csdn.net/jason0539/article/details/23297037" class="CopyToClipboard" title="copy" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px">copy</a><a target="_blank" href="http://blog.csdn.net/jason0539/article/details/23297037" class="PrintSource" title="print" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px">print</a><a target="_blank" href="http://blog.csdn.net/jason0539/article/details/23297037" class="About" title="?" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px">?</a><a target="_blank" href="https://code.csdn.net/snippets/294885" title="在CODE上查看代码片" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px"><img src="https://code.csdn.net/assets/CODE_ico.png" width="12" height="12" alt="在CODE上查看代码片" style="border:none; max-width:100%; position:relative; top:1px; left:2px" /></a><a target="_blank" href="https://code.csdn.net/snippets/294885/fork" title="派生到我的代码片" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px"><img src="https://code.csdn.net/assets/ico_fork.svg" width="12" height="12" alt="派生到我的代码片" style="border:none; max-width:100%; position:relative; top:2px; left:2px" /></a>&#13;
<div style="position:absolute; left:518px; top:1420px; width:26px; height:14px; z-index:99">&#13;
</div>&#13;
</div>&#13;
</div>&#13;
<ol start="1" class="dp-j" style="padding:0px; border:none; list-style-position:initial; background-color:rgb(255,255,255); color:rgb(92,92,92); margin:0px 0px 1px 45px!important">&#13;
<li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//饿汉式单例类.在类初始化时，已经自行实例化 </span><span style="margin:0px; padding:0px; border:none; background-color:inherit">  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">class</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Singleton1 {  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//私有的默认构造子</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">private</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Singleton1() {}  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//已经自行实例化 </span><span style="margin:0px; padding:0px; border:none; background-color:inherit">  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">private</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">static</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">final</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Singleton1 single = </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">new</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Singleton1();  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//静态工厂方法 </span><span style="margin:0px; padding:0px; border:none; background-color:inherit">  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">static</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Singleton1 getInstance() {  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">return</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> single;  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    }  </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">}  </span></li></ol>&#13;
</div>&#13;
<div style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
饿汉式在类创建的同时就已经创建好一个静态的对象供系统使用，以后不再改变，所以是线程安全的。</div>&#13;
<div style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
<br />&#13;
</div>&#13;
<br style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px" />&#13;
<p style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
</p>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
<span style="font-size:18px">三、登记式单例</span></p>&#13;
<div class="dp-highlighter bg_java" style="font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:692.9971313476563px; overflow:auto; padding-top:1px; color:rgb(54,46,43); line-height:25.99431800842285px; margin:18px 0px!important">&#13;
<div class="bar" style="padding-left:45px">&#13;
<div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(153,153,153)">&#13;
<strong>[java]</strong> <a target="_blank" href="http://blog.csdn.net/jason0539/article/details/23297037" class="ViewSource" title="view plain" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px">view&#13;
 plain</a><a target="_blank" href="http://blog.csdn.net/jason0539/article/details/23297037" class="CopyToClipboard" title="copy" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px">copy</a><a target="_blank" href="http://blog.csdn.net/jason0539/article/details/23297037" class="PrintSource" title="print" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px">print</a><a target="_blank" href="http://blog.csdn.net/jason0539/article/details/23297037" class="About" title="?" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px">?</a><a target="_blank" href="https://code.csdn.net/snippets/294885" title="在CODE上查看代码片" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px"><img src="https://code.csdn.net/assets/CODE_ico.png" width="12" height="12" alt="在CODE上查看代码片" style="border:none; max-width:100%; position:relative; top:1px; left:2px" /></a><a target="_blank" href="https://code.csdn.net/snippets/294885/fork" title="派生到我的代码片" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px"><img src="https://code.csdn.net/assets/ico_fork.svg" width="12" height="12" alt="派生到我的代码片" style="border:none; max-width:100%; position:relative; top:2px; left:2px" /></a>&#13;
<div style="position:absolute; left:518px; top:1791px; width:26px; height:14px; z-index:99">&#13;
</div>&#13;
</div>&#13;
</div>&#13;
<ol start="1" class="dp-j" style="padding:0px; border:none; list-style-position:initial; background-color:rgb(255,255,255); color:rgb(92,92,92); margin:0px 0px 1px 45px!important">&#13;
<li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//类似Spring里面的方法，将类名注册，下次从里面直接获取。</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">class</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Singleton3 {  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">private</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">static</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Map&lt;String,Singleton3&gt; map = </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">new</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> HashMap&lt;String,Singleton3&gt;();  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">static</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">{  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        Singleton3 single = <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">new</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Singleton3();  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        map.put(single.getClass().getName(), single);  </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    }  </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//保护的默认构造子</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">protected</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Singleton3(){}  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//静态工厂方法,返还此类惟一的实例</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">static</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Singleton3 getInstance(String name) {  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">if</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">(name == </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">null</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">) {  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">            name = Singleton3.<span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">class</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">.getName();  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">            System.out.println(<span class="string" style="margin:0px; padding:0px; border:none; color:red; background-color:inherit">"name == null"</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">+</span><span class="string" style="margin:0px; padding:0px; border:none; color:red; background-color:inherit">"---&gt;name="</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">+name);  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        }  </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">if</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">(map.get(name) == </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">null</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">) {  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">            <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">try</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> {  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">                map.put(name, (Singleton3) Class.forName(name).newInstance());  </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">            } <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">catch</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> (InstantiationException e) {  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">                e.printStackTrace();  </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">            } <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">catch</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> (IllegalAccessException e) {  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">                e.printStackTrace();  </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">            } <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">catch</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> (ClassNotFoundException e) {  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">                e.printStackTrace();  </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">            }  </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        }  </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">return</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> map.get(name);  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    }  </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//一个示意性的商业方法</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> String about() {      </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">return</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="string" style="margin:0px; padding:0px; border:none; color:red; background-color:inherit">"Hello, I am RegSingleton."</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">;      </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    }      </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">static</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">void</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> main(String[] args) {  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        Singleton3 single3 = Singleton3.getInstance(<span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">null</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">);  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        System.out.println(single3.about());  </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    }  </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">}  </span></li></ol>&#13;
</div>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
<span style="font-size:12px"> </span>登记式单例<span style="color:rgb(51,51,51); line-height:26px">实际上维护了一组单例类的实例，将这些实例存放在一个Map（登记薄）中，对于已经登记过的实例，则从Map直接返回，对于没有登记的，则先登记，然后返回。</span><span style="color:rgb(51,51,51); line-height:26px"> </span></p>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
<br />&#13;
</p>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
<span style="font-size:18px">饿汉式和懒汉式区别</span></p>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
这两种乍看上去非常相似，其实是有区别的，主要两点</p>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
1、线程安全：</p>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
饿汉式是线程安全的，可以直接用于多线程而不会出现问题，懒汉式就不行，它是线程不安全的，如果用于多线程可能会被实例化多次，失去单例的作用。</p>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
如果要把懒汉式用于多线程，有两种方式保证安全性，一种是在getInstance方法上加同步，另一种是在使用该单例方法前后加双锁。</p>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
2、资源加载：</p>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
饿汉式在类创建的同时就实例化一个静态对象出来，不管之后会不会使用这个单例，会占据一定的内存，相应的在调用时速度也会更快，</p>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
而懒汉式顾名思义，会延迟加载，在第一次使用该单例的时候才会实例化对象出来，第一次掉用时要初始化，如果要做的工作比较多，性能上会有些延迟，之后就和饿汉式一样了。</p>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
<br />&#13;
</p>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
<span style="font-size:18px">什么是线程安全？</span></p>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
如果你的代码所在的进程中有多个线程在同时运行，而这些线程可能会同时运行这段代码。如果每次运行结果和单线程运行的结果是一样的，而且其他的变量的值也和预期的是一样的，就是线程安全的。</p>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
或者说：一个类或者程序所提供的接口对于线程来说是原子操作，或者多个线程之间的切换不会导致该接口的执行结果存在二义性,也就是说我们不用考虑同步的问题，那就是线程安全的。</p>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
<br />&#13;
</p>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
<span style="font-size:18px">应用</span></p>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
以下是一个单例类使用的例子，以懒汉式为例：</p>&#13;
<div class="dp-highlighter bg_java" style="font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:692.9971313476563px; overflow:auto; padding-top:1px; color:rgb(54,46,43); line-height:25.99431800842285px; margin:18px 0px!important">&#13;
<div class="bar" style="padding-left:45px">&#13;
<div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(153,153,153)">&#13;
<strong>[java]</strong> <a target="_blank" href="http://blog.csdn.net/jason0539/article/details/23297037" class="ViewSource" title="view plain" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px">view&#13;
 plain</a><a target="_blank" href="http://blog.csdn.net/jason0539/article/details/23297037" class="CopyToClipboard" title="copy" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px">copy</a><a target="_blank" href="http://blog.csdn.net/jason0539/article/details/23297037" class="PrintSource" title="print" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px">print</a><a target="_blank" href="http://blog.csdn.net/jason0539/article/details/23297037" class="About" title="?" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px">?</a><a target="_blank" href="https://code.csdn.net/snippets/294885" title="在CODE上查看代码片" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px"><img src="https://code.csdn.net/assets/CODE_ico.png" width="12" height="12" alt="在CODE上查看代码片" style="border:none; max-width:100%; position:relative; top:1px; left:2px" /></a><a target="_blank" href="https://code.csdn.net/snippets/294885/fork" title="派生到我的代码片" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px"><img src="https://code.csdn.net/assets/ico_fork.svg" width="12" height="12" alt="派生到我的代码片" style="border:none; max-width:100%; position:relative; top:2px; left:2px" /></a>&#13;
<div style="position:absolute; left:518px; top:3329px; width:26px; height:14px; z-index:99">&#13;
</div>&#13;
</div>&#13;
</div>&#13;
<ol start="1" class="dp-j" style="padding:0px; border:none; list-style-position:initial; background-color:rgb(255,255,255); color:rgb(92,92,92); margin:0px 0px 1px 45px!important">&#13;
<li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">class</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> TestSingleton {  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    String name = <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">null</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">;  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">  </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">private</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> TestSingleton() {  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    }  </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">  </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">private</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">static</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> TestSingleton ts = </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">null</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">;  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">  </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">static</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> TestSingleton getInstance() {  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">if</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> (ts == </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">null</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">) {  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">            ts = <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">new</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> TestSingleton();  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        }  </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">return</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> ts;  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    }  </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">  </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> String getName() {  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">return</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> name;  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    }  </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">  </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">void</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> setName(String name) {  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">this</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">.name = name;  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    }  </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">  </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">void</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> printInfo() {  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        System.out.println(<span class="string" style="margin:0px; padding:0px; border:none; color:red; background-color:inherit">"the name is "</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> + name);  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    }  </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">  </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">}  </span></li></ol>&#13;
</div>&#13;
<div class="dp-highlighter bg_java" style="font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:692.9971313476563px; overflow:auto; padding-top:1px; color:rgb(54,46,43); line-height:25.99431800842285px; margin:18px 0px!important">&#13;
<div class="bar" style="padding-left:45px">&#13;
<div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(153,153,153)">&#13;
<strong>[java]</strong> <a target="_blank" href="http://blog.csdn.net/jason0539/article/details/23297037" class="ViewSource" title="view plain" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px">view&#13;
 plain</a><a target="_blank" href="http://blog.csdn.net/jason0539/article/details/23297037" class="CopyToClipboard" title="copy" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px">copy</a><a target="_blank" href="http://blog.csdn.net/jason0539/article/details/23297037" class="PrintSource" title="print" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px">print</a><a target="_blank" href="http://blog.csdn.net/jason0539/article/details/23297037" class="About" title="?" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px">?</a><a target="_blank" href="https://code.csdn.net/snippets/294885" title="在CODE上查看代码片" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px"><img src="https://code.csdn.net/assets/CODE_ico.png" width="12" height="12" alt="在CODE上查看代码片" style="border:none; max-width:100%; position:relative; top:1px; left:2px" /></a><a target="_blank" href="https://code.csdn.net/snippets/294885/fork" title="派生到我的代码片" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px"><img src="https://code.csdn.net/assets/ico_fork.svg" width="12" height="12" alt="派生到我的代码片" style="border:none; max-width:100%; position:relative; top:2px; left:2px" /></a>&#13;
<div style="position:absolute; left:518px; top:3860px; width:26px; height:14px; z-index:99">&#13;
</div>&#13;
</div>&#13;
</div>&#13;
<ol start="1" class="dp-j" style="padding:0px; border:none; list-style-position:initial; background-color:rgb(255,255,255); color:rgb(92,92,92); margin:0px 0px 1px 45px!important">&#13;
<li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">class</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> TMain {  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">static</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">void</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> main(String[] args){  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        TestStream ts1 = TestSingleton.getInstance();  </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        ts1.setName(<span class="string" style="margin:0px; padding:0px; border:none; color:red; background-color:inherit">"jason"</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">);  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        TestStream ts2 = TestSingleton.getInstance();  </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        ts2.setName(<span class="string" style="margin:0px; padding:0px; border:none; color:red; background-color:inherit">"0539"</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">);  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">          </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        ts1.printInfo();  </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        ts2.printInfo();  </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">          </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">if</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">(ts1 == ts2){  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">            System.out.println(<span class="string" style="margin:0px; padding:0px; border:none; color:red; background-color:inherit">"创建的是同一个实例"</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">);  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        }<span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit; font-weight:bold">else</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">{  </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">            System.out.println(<span class="string" style="margin:0px; padding:0px; border:none; color:red; background-color:inherit">"创建的不是同一个实例"</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">);  </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        }  </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:rgb(85,85,85); line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    }  </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; background-color:rgb(245,250,226); color:inherit; line-height:17.27272605895996px">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">}  </span></li></ol>&#13;
</div>&#13;
<p align="left" style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
 运行结果：</p>&#13;
<p style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
<img src="http://img.blog.csdn.net/20140416064753093?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvamFzb24wNTM5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:none; max-width:100%" /><br style="padding:0px; margin:0px" />&#13;
</p>&#13;
<p style="color:rgb(54,46,43); font-family:Arial; font-size:13.63636302947998px; line-height:25.99431800842285px">&#13;
结论：由结果可以得知单例模式为一个面向对象的应用程序提供了对象惟一的访问点，不管它实现何种功能，整个应用程序都会同享一个实例对象。</p>&#13;
<br />&#13;
</div>&#13;
</h1>&#13;
   &#13;
