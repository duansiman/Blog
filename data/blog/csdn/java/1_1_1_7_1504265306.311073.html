

<span style="font-size:18px">1.工厂方法模式的定义：<br />&#13;
定义一个用于创建对象的接口，让子类决定实例化哪一个类，Factory method使一个类的实例化延迟到子类。<br />&#13;
<br />&#13;
2.工厂方法模式的结构和说明：<br />&#13;
Product: 定义工厂方法所创建的对象的接口，也就是实际需要使用的对象的接口。<br />&#13;
ConcreteProduct: 具体的product接口的实现对象。<br />&#13;
Creator: 创建器，声明工厂方法，工厂方法通常会返回一个Product类型的实例对象，而且多是抽象方法，也可以在Creator里面提供工厂方法的默认实现，让工厂方法返回一个缺省的Product类型的实例对象。<br />&#13;
ConcreteCreator: 具体的创建器对象，覆盖实现Creator定义的工厂方法，返回具体的Product实例。<br />&#13;
<br />&#13;
<br />&#13;
3.模式实现<br />&#13;
</span>&#13;
<p><span style="font-size:18px">Product.java</span></p>&#13;
<p><span style="font-size:18px"></span></p><pre code_snippet_id="1844037" snippet_file_name="blog_20160822_1_339425" name="code" class="java">package com.java.pattern.factorymethod;

/**
 * 工厂方法所创建的对象的接口
 * 
 */
public interface Product {
	// 可以定义product属性和方法
}
</pre><br />&#13;
ConcreteProduct.java&#13;
<p><span style="font-size:18px"></span></p><pre code_snippet_id="1844037" snippet_file_name="blog_20160822_2_7242525" name="code" class="java">package com.java.pattern.factorymethod;

/**
 * 具体的Product对象
 * 
 */
public class ConcreteProduct implements Product {
	// 实现Product要求的方法
}
</pre><br />&#13;
Creator.java&#13;
<p><span style="font-size:18px"></span></p><pre code_snippet_id="1844037" snippet_file_name="blog_20160822_3_9576839" name="code" class="java">package com.java.pattern.factorymethod;

/**
 * 创建器，声明工厂方法
 */
public abstract class Creator {
	/**
	 * 创建Product的工厂方法
	 */
	protected abstract Product factoryMethod();

	/**
	 * 实现某些功能的方法
	 * 
	 */
	public void someOperation() {
		/**
		 * 通过在这些方法实现中，需要调用工厂方法来获取Product对象
		 */
		Product product = factoryMethod();
	}
}
</pre><br />&#13;
ConcreteCreator.java&#13;
<p><span style="font-size:18px"></span></p><pre code_snippet_id="1844037" snippet_file_name="blog_20160822_4_274951" name="code" class="java">package com.java.pattern.factorymethod;

/**
 * 具体的创建器实现对象
 * 
 */
public class ConcreteCreator extends Creator {

	protected Product factoryMethod() {
		// 重定义工厂方法，返回一个具体的Product对象
		return new ConcreteProduct();
	}
}
</pre><br />&#13;
<br />&#13;
&#13;
<span style="font-size:18px"><br />&#13;
4.思考工厂方法模式<br />&#13;
A，工厂方法模式的本质： 延迟到子类来选择实现<br />&#13;
B，何时选用工厂方法模式，建议在以下情况中选用工厂方法模式：<br />&#13;
1），如果一个类需要创建某个接口的对象，但是又不知道具体的实现，这种情况可以选用工厂方法模式，把创建对象的工作延迟到子类中实现。<br />&#13;
2），如果一个类本身就希望由它的子类来创建所需的对象的时候，应该使用工厂方法模式。<br />&#13;
<br />&#13;
</span>&#13;
   &#13;
