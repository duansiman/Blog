
                
<p>     /**<br/>&#13;
     * 发送GET请求<br/>&#13;
     * <br/>&#13;
     * @param url url地址<br/>&#13;
     * @return JSONObject<br/>&#13;
     */<br/>&#13;
<br/>&#13;
    public static String getAjaxDataFromURLForSMS(String url) {<br/>&#13;
        long begin = System.currentTimeMillis();<br/>&#13;
        LOG.info("request:" + url);<br/>&#13;
        String result = null;<br/>&#13;
        BufferedReader rd = null;<br/>&#13;
<br/>&#13;
        try {<br/>&#13;
            URL u = new URL(url);<br/>&#13;
            InputStream is = u.openStream();<br/>&#13;
            rd = new BufferedReader(new InputStreamReader(is, "utf-8"));<br/>&#13;
            StringBuffer sb = new StringBuffer();<br/>&#13;
<br/>&#13;
            String line;<br/>&#13;
            while ((line = rd.readLine()) != null) {<br/>&#13;
                sb.append(line);<br/>&#13;
            }<br/>&#13;
<br/>&#13;
            long end = System.currentTimeMillis();<br/>&#13;
            LOG.info("response[" + (end - begin) + "]:" + sb.toString());<br/>&#13;
            result = sb.toString();<br/>&#13;
<br/>&#13;
        } catch (MalformedURLException e) {<br/>&#13;
            e.printStackTrace();<br/>&#13;
        } catch (IOException e) {<br/>&#13;
            e.printStackTrace();<br/>&#13;
        }finally {<br/>&#13;
            if (rd != null) {<br/>&#13;
                try {<br/>&#13;
                    rd.close();<br/>&#13;
                } catch (IOException e) {<br/>&#13;
                    e.printStackTrace();<br/>&#13;
                }<br/>&#13;
            }<br/>&#13;
<br/>&#13;
        }<br/>&#13;
<br/>&#13;
        return result;<br/>&#13;
    }<br/>&#13;
    <br/>&#13;
</p>&#13;
<br/>&#13;
<p/>&#13;
<p>   /**<br/>&#13;
</p>&#13;
     * @return XMLData<br/>&#13;
     */<br/>&#13;
    public static Document getXMLDataFromURL(String url) {<br/>&#13;
        long begin = System.currentTimeMillis();<br/>&#13;
        LOG.info("request:" + url);<br/>&#13;
        SAXBuilder saxBuilder = new SAXBuilder();<br/>&#13;
        Document doc = null;<br/>&#13;
        try {<br/>&#13;
            URL u = new URL(url);<br/>&#13;
            InputStream in = u.openStream();<br/>&#13;
<br/>&#13;
            doc = saxBuilder.build(in);<br/>&#13;
<br/>&#13;
        } catch (Exception e) {<br/>&#13;
            e.printStackTrace();<br/>&#13;
        }<br/>&#13;
        if (LOG.isInfoEnabled()) {<br/>&#13;
            long end = System.currentTimeMillis();<br/>&#13;
            XMLOutputter outp = new XMLOutputter();<br/>&#13;
            LOG.info("response[" + (end - begin) + "]:" + outp.outputString(doc));<br/>&#13;
        }<br/>&#13;
<br/>&#13;
        return doc;<br/>&#13;
    }<br/>&#13;
<p><br/>&#13;
</p>&#13;
<p><br/>&#13;
</p>&#13;
<p>   /**</p>&#13;
     * 发送GET请求<br/>&#13;
     * <br/>&#13;
     * @param url<br/>&#13;
     *            url地址<br/>&#13;
     * @return JSONObject<br/>&#13;
     */<br/>&#13;
<br/>&#13;
    public static JSONObject getJSONDataFromURL(String url) {<br/>&#13;
        long begin = System.currentTimeMillis();<br/>&#13;
        LOG.info("request:" + url);<br/>&#13;
        JSONObject jsonObj = null;<br/>&#13;
        BufferedReader rd = null;<br/>&#13;
<br/>&#13;
        try {<br/>&#13;
            URL u = new URL(url);<br/>&#13;
            InputStream is = u.openStream();<br/>&#13;
            rd = new BufferedReader(new InputStreamReader(is, "utf-8"));<br/>&#13;
            StringBuffer sb = new StringBuffer();<br/>&#13;
<br/>&#13;
            String line;<br/>&#13;
            while ((line = rd.readLine()) != null) {<br/>&#13;
                sb.append(line);<br/>&#13;
            }<br/>&#13;
<br/>&#13;
            long end = System.currentTimeMillis();<br/>&#13;
            LOG.info("response[" + (end - begin) + "]:" + sb.toString());<br/>&#13;
            jsonObj = new JSONObject(sb.toString());<br/>&#13;
<br/>&#13;
        } catch (MalformedURLException e) {<br/>&#13;
            e.printStackTrace();<br/>&#13;
        } catch (IOException e) {<br/>&#13;
            e.printStackTrace();<br/>&#13;
        } catch (JSONException e) {<br/>&#13;
            e.printStackTrace();<br/>&#13;
        } finally {<br/>&#13;
            if (rd != null) {<br/>&#13;
                try {<br/>&#13;
                    rd.close();<br/>&#13;
                } catch (IOException e) {<br/>&#13;
                    e.printStackTrace();<br/>&#13;
                }<br/>&#13;
            }<br/>&#13;
<br/>&#13;
        }<br/>&#13;
<br/>&#13;
        return jsonObj;<br/>&#13;
    }&#13;
<p><br/>&#13;
</p>&#13;
<p><br/>&#13;
</p>&#13;
<p><br/>&#13;
</p>&#13;
<p><br/>&#13;
</p>&#13;
<p><br/>&#13;
</p>&#13;
<p><br/>&#13;
    /**<br/>&#13;
     * 发送POST请求<br/>&#13;
     * <br/>&#13;
     * @param url<br/>&#13;
     *            url地址 params 参数<br/>&#13;
     * @return JSONObject<br/>&#13;
     */<br/>&#13;
<br/>&#13;
    public static JSONObject getJSONDataFromURL(String url, String params) {<br/>&#13;
        long begin = System.currentTimeMillis();<br/>&#13;
        LOG.info("request:" + url);<br/>&#13;
        JSONObject jsonObj = null;<br/>&#13;
<br/>&#13;
        HttpURLConnection huc = null;<br/>&#13;
        BufferedReader in = null;<br/>&#13;
        InputStreamReader isr = null;<br/>&#13;
        InputStream is = null;<br/>&#13;
<br/>&#13;
        StringBuffer sb = new StringBuffer(333);<br/>&#13;
<br/>&#13;
        try {<br/>&#13;
<br/>&#13;
            URL u = new URL(url);<br/>&#13;
            huc = (HttpURLConnection) u.openConnection();<br/>&#13;
            huc.setRequestMethod("POST");<br/>&#13;
            huc.setDoOutput(true);<br/>&#13;
            huc.getOutputStream().write(params.getBytes("utf-8"));<br/>&#13;
            huc.getOutputStream().flush();<br/>&#13;
            huc.getOutputStream().close();<br/>&#13;
            is = huc.getInputStream();<br/>&#13;
            isr = new InputStreamReader(is, "utf-8");<br/>&#13;
            in = new BufferedReader(isr);<br/>&#13;
            String line = null;<br/>&#13;
<br/>&#13;
            while ((line = in.readLine()) != null) {<br/>&#13;
                sb.append(line);<br/>&#13;
            }<br/>&#13;
<br/>&#13;
            long end = System.currentTimeMillis();<br/>&#13;
            LOG.info("response[" + (end - begin) + "]:" + sb.toString());<br/>&#13;
            jsonObj = new JSONObject(sb.toString());<br/>&#13;
<br/>&#13;
        } catch (MalformedURLException e) {<br/>&#13;
            e.printStackTrace();<br/>&#13;
        } catch (IOException e) {<br/>&#13;
            e.printStackTrace();<br/>&#13;
        } catch (JSONException e) {<br/>&#13;
            e.printStackTrace();<br/>&#13;
        } finally {<br/>&#13;
            try {<br/>&#13;
                huc.disconnect();<br/>&#13;
                is.close();<br/>&#13;
                isr.close();<br/>&#13;
                in.close();<br/>&#13;
            } catch (Exception e) {<br/>&#13;
                e.printStackTrace();<br/>&#13;
            }<br/>&#13;
        }<br/>&#13;
<br/>&#13;
        return jsonObj;<br/>&#13;
    }<br/>&#13;
<br/>&#13;
<br/>&#13;
</p>&#13;
<p><br/>&#13;
</p>&#13;
<link rel="stylesheet" href="http://static.blog.csdn.net/public/res-min/markdown_views.css?v=1.0"/>&#13;
            