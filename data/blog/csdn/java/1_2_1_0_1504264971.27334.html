

<p><strong>今天来看最后一个设计模式——-访问者模式（行为型） </strong></p>&#13;
<p><strong>——瞬间有一种忽如一夜春风来的感觉，明天总结下设计模式行为型的小结，然后再做个所有设计模式的总结。</strong></p>&#13;
<p><strong><br />&#13;
</strong></p>&#13;
<p><strong>一、定义（概念）</strong><br />&#13;
<br />&#13;
表示一个作用于某对象结构中的各元素的操作。<br />&#13;
使你可以在不改变各元素类的前提下定义作用于这些元素的新操作。<br />&#13;
<br />&#13;
<strong>二、适用场景</strong><br />&#13;
<br />&#13;
1、一个对象结构包含很多类对象，它们有不同的接口，而你想对这些对象实施一些依赖于其具体类的操作。<br />&#13;
2、需要对一个对象结构中的对象进行很多不同的并且不相关的操作，而你想避免让这些操作“污染”这些对象的类。Visitor使得你可以将相关的操作集中起来定义在一个类中。<br />&#13;
3、当该对象结构被很多应用共享时，用Visitor模式让每个应用仅包含需要用到的操作。<br />&#13;
4、 定义对象结构的类很少改变，但经常需要在此结构上定义新的操作。改变对象结构类需要重定义对所有访问者的接口，这可能需要很大的代价。如果对象结构类经常改变，那么可能还是在这些类中定义这些操作较好。<br />&#13;
<br />&#13;
<br />&#13;
<strong>涉及角色：</strong><br />&#13;
1、访问者（Visitor）：定义接口，声明一个或多个访问操作。 <br />&#13;
2、具体访问者（ConcreteVisitor）：实现抽象访问者所声明的接口，也就是抽象访问者所声明的各个访问操作。 <br />&#13;
3、元素（Visitable）：声明一个接受操作，接受一个访问者对象作为一个参数。 <br />&#13;
4、具体元素结点（ConcreteElement）：实现抽象结点所规定的接受操作。 <br />&#13;
5、对象结构（ObjectStructure）：<br />&#13;
——能枚举它的元素<br />&#13;
——可以提供一个更高层的接口以允许该访问者访问它的元素<br />&#13;
——可以是一个复合<br />&#13;
可以遍历结构中的所有元素，提供一个接口让访问者对象都可以访问每一个元素。 <br />&#13;
<br />&#13;
<strong>三、UML</strong><br />&#13;
<br />&#13;
<img src="http://pic002.cnblogs.com/images/2012/73404/2012121117525725.gif" alt="" /><br />&#13;
<br />&#13;
<strong>四、代码</strong><br />&#13;
<br />&#13;
</p>&#13;
<div style="color:rgb(54,46,43); font-family:Arial; font-size:14px; line-height:26px; padding:0px">&#13;
<div>抽象元素类</div>&#13;
<div>&#13;
<div class="dp-highlighter bg_java" style="font-family:Consolas,'Courier New',Courier,mono,serif; font-size:12px; width:693px; overflow-x:auto; overflow-y:hidden; padding-top:1px; position:relative; margin:18px 0px!important; background-color:rgb(231,229,220)">&#13;
<div class="bar" style="padding-left:45px">&#13;
<div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; border-left-width:3px; border-left-style:solid; border-left-color:rgb(153,153,153); background-color:rgb(248,248,248)">&#13;
<strong>[java]</strong> <a target="_blank" href="http://blog.csdn.net/jason0539/article/details/45146271" class="ViewSource" title="view plain" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit">view&#13;
 plain</a><span> <a target="_blank" href="http://blog.csdn.net/jason0539/article/details/45146271" class="CopyToClipboard" title="copy" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit">copy</a></span>&#13;
<div style="position:absolute; left:611px; top:1771px; width:27px; height:15px; z-index:99">&#13;
</div>&#13;
<span> <a target="_blank" href="http://blog.csdn.net/jason0539/article/details/45146271" class="PrintSource" title="print" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit">print</a></span><a target="_blank" href="http://blog.csdn.net/jason0539/article/details/45146271" class="About" title="?" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit">?</a><span class="tracking-ad"><a target="_blank" href="https://code.csdn.net/snippets/648911" title="在CODE上查看代码片" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit"><img src="https://code.csdn.net/assets/CODE_ico.png" width="12" height="12" alt="在CODE上查看代码片" style="border:none; max-width:100%; position:relative; top:1px; left:2px" /></a></span><span class="tracking-ad"><a target="_blank" href="https://code.csdn.net/snippets/648911/fork" title="派生到我的代码片" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit"><img src="https://code.csdn.net/assets/ico_fork.svg" width="12" height="12" alt="派生到我的代码片" style="border:none; max-width:100%; position:relative; top:2px; left:2px" /></a></span></div>&#13;
</div>&#13;
<ol start="1" class="dp-j" style="padding:0px; border:none; color:rgb(92,92,92); margin:0px 0px 1px 45px!important; background-color:rgb(255,255,255)">&#13;
<li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">abstract</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">class</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Element {    </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">abstract</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">void</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> accept(IVisitor visitor);    </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">abstract</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">void</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> doSomething();    </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">}    </span></li></ol>&#13;
</div>&#13;
</div>&#13;
</div>&#13;
<div style="color:rgb(54,46,43); font-family:Arial; font-size:14px; line-height:26px">&#13;
元素类</div>&#13;
<div style="color:rgb(54,46,43); font-family:Arial; font-size:14px; line-height:26px">&#13;
<div class="dp-highlighter bg_java" style="font-family:Consolas,'Courier New',Courier,mono,serif; font-size:12px; width:693px; overflow-x:auto; overflow-y:hidden; padding-top:1px; position:relative; margin:18px 0px!important; background-color:rgb(231,229,220)">&#13;
<div class="bar" style="padding-left:45px">&#13;
<div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; border-left-width:3px; border-left-style:solid; border-left-color:rgb(153,153,153); background-color:rgb(248,248,248)">&#13;
<strong>[java]</strong> <a target="_blank" href="http://blog.csdn.net/jason0539/article/details/45146271" class="ViewSource" title="view plain" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit">view&#13;
 plain</a><span> <a target="_blank" href="http://blog.csdn.net/jason0539/article/details/45146271" class="CopyToClipboard" title="copy" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit">copy</a></span>&#13;
<div style="position:absolute; left:611px; top:1935px; width:27px; height:15px; z-index:99">&#13;
</div>&#13;
<span> <a target="_blank" href="http://blog.csdn.net/jason0539/article/details/45146271" class="PrintSource" title="print" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit">print</a></span><a target="_blank" href="http://blog.csdn.net/jason0539/article/details/45146271" class="About" title="?" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit">?</a><span class="tracking-ad"><a target="_blank" href="https://code.csdn.net/snippets/648911" title="在CODE上查看代码片" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit"><img src="https://code.csdn.net/assets/CODE_ico.png" width="12" height="12" alt="在CODE上查看代码片" style="border:none; max-width:100%; position:relative; top:1px; left:2px" /></a></span><span class="tracking-ad"><a target="_blank" href="https://code.csdn.net/snippets/648911/fork" title="派生到我的代码片" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit"><img src="https://code.csdn.net/assets/ico_fork.svg" width="12" height="12" alt="派生到我的代码片" style="border:none; max-width:100%; position:relative; top:2px; left:2px" /></a></span></div>&#13;
</div>&#13;
<ol start="1" class="dp-j" style="padding:0px; border:none; color:rgb(92,92,92); margin:0px 0px 1px 45px!important; background-color:rgb(255,255,255)">&#13;
<li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">class</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> ConcreteElement1 </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">extends</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Element {    </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">void</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> doSomething(){    </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        System.out.println(<span class="string" style="margin:0px; padding:0px; border:none; color:red; background-color:inherit">"这是元素1"</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">);    </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    }    </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">void</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> accept(IVisitor visitor) {    </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        visitor.visit(<span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">this</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">);    </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    }    </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">}    </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">class</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> ConcreteElement2 </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">extends</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Element {    </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">void</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> doSomething(){    </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        System.out.println(<span class="string" style="margin:0px; padding:0px; border:none; color:red; background-color:inherit">"这是元素2"</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">);    </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    }    </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">void</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> accept(IVisitor visitor) {    </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        visitor.visit(<span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">this</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">);    </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    }    </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">}    </span></li></ol>&#13;
</div>&#13;
抽象访问者</div>&#13;
<div style="color:rgb(54,46,43); font-family:Arial; font-size:14px; line-height:26px">&#13;
<div class="dp-highlighter bg_java" style="font-family:Consolas,'Courier New',Courier,mono,serif; font-size:12px; width:693px; overflow-x:auto; overflow-y:hidden; padding-top:1px; position:relative; margin:18px 0px!important; background-color:rgb(231,229,220)">&#13;
<div class="bar" style="padding-left:45px">&#13;
<div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; border-left-width:3px; border-left-style:solid; border-left-color:rgb(153,153,153); background-color:rgb(248,248,248)">&#13;
<strong>[java]</strong> <a target="_blank" href="http://blog.csdn.net/jason0539/article/details/45146271" class="ViewSource" title="view plain" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit">view&#13;
 plain</a><span> <a target="_blank" href="http://blog.csdn.net/jason0539/article/details/45146271" class="CopyToClipboard" title="copy" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit">copy</a></span>&#13;
<div style="position:absolute; left:611px; top:2369px; width:27px; height:15px; z-index:99">&#13;
</div>&#13;
<span> <a target="_blank" href="http://blog.csdn.net/jason0539/article/details/45146271" class="PrintSource" title="print" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit">print</a></span><a target="_blank" href="http://blog.csdn.net/jason0539/article/details/45146271" class="About" title="?" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit">?</a><span class="tracking-ad"><a target="_blank" href="https://code.csdn.net/snippets/648911" title="在CODE上查看代码片" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit"><img src="https://code.csdn.net/assets/CODE_ico.png" width="12" height="12" alt="在CODE上查看代码片" style="border:none; max-width:100%; position:relative; top:1px; left:2px" /></a></span><span class="tracking-ad"><a target="_blank" href="https://code.csdn.net/snippets/648911/fork" title="派生到我的代码片" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit"><img src="https://code.csdn.net/assets/ico_fork.svg" width="12" height="12" alt="派生到我的代码片" style="border:none; max-width:100%; position:relative; top:2px; left:2px" /></a></span></div>&#13;
</div>&#13;
<ol start="1" class="dp-j" style="padding:0px; border:none; color:rgb(92,92,92); margin:0px 0px 1px 45px!important; background-color:rgb(255,255,255)">&#13;
<li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">interface</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> IVisitor {    </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">void</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> visit(ConcreteElement1 el1);    </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">void</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> visit(ConcreteElement2 el2);    </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">}    </span></li></ol>&#13;
</div>&#13;
</div>&#13;
<div style="color:rgb(54,46,43); font-family:Arial; font-size:14px; line-height:26px">&#13;
访问者</div>&#13;
<div style="color:rgb(54,46,43); font-family:Arial; font-size:14px; line-height:26px">&#13;
<span style="font-family:Consolas,'Courier New',Courier,mono,serif; background-color:inherit"></span>&#13;
<div class="dp-highlighter bg_java" style="font-family:Consolas,'Courier New',Courier,mono,serif; font-size:12px; width:693px; overflow-x:auto; overflow-y:hidden; padding-top:1px; position:relative; margin:18px 0px!important; background-color:rgb(231,229,220)">&#13;
<div class="bar" style="padding-left:45px">&#13;
<div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; border-left-width:3px; border-left-style:solid; border-left-color:rgb(153,153,153); background-color:rgb(248,248,248)">&#13;
<strong>[java]</strong> <a target="_blank" href="http://blog.csdn.net/jason0539/article/details/45146271" class="ViewSource" title="view plain" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit">view&#13;
 plain</a><span> <a target="_blank" href="http://blog.csdn.net/jason0539/article/details/45146271" class="CopyToClipboard" title="copy" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit">copy</a></span>&#13;
<div style="position:absolute; left:611px; top:2533px; width:27px; height:15px; z-index:99">&#13;
</div>&#13;
<span> <a target="_blank" href="http://blog.csdn.net/jason0539/article/details/45146271" class="PrintSource" title="print" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit">print</a></span><a target="_blank" href="http://blog.csdn.net/jason0539/article/details/45146271" class="About" title="?" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit">?</a><span class="tracking-ad"><a target="_blank" href="https://code.csdn.net/snippets/648911" title="在CODE上查看代码片" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit"><img src="https://code.csdn.net/assets/CODE_ico.png" width="12" height="12" alt="在CODE上查看代码片" style="border:none; max-width:100%; position:relative; top:1px; left:2px" /></a></span><span class="tracking-ad"><a target="_blank" href="https://code.csdn.net/snippets/648911/fork" title="派生到我的代码片" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit"><img src="https://code.csdn.net/assets/ico_fork.svg" width="12" height="12" alt="派生到我的代码片" style="border:none; max-width:100%; position:relative; top:2px; left:2px" /></a></span></div>&#13;
</div>&#13;
<ol start="1" class="dp-j" style="padding:0px; border:none; color:rgb(92,92,92); margin:0px 0px 1px 45px!important; background-color:rgb(255,255,255)">&#13;
<li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">class</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Visitor </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">implements</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> IVisitor {    </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">void</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> visit(ConcreteElement1 el1) {    </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        el1.doSomething();    </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    }    </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">void</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> visit(ConcreteElement2 el2) {    </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        el2.doSomething();    </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    }    </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">}   </span></li></ol>&#13;
</div>&#13;
结构对象</div>&#13;
<div style="color:rgb(54,46,43); font-family:Arial; font-size:14px; line-height:26px">&#13;
<span style="font-family:Consolas,'Courier New',Courier,mono,serif; background-color:inherit"><span style="font-family:Arial"></span></span>&#13;
<div class="dp-highlighter bg_java" style="font-family:Consolas,'Courier New',Courier,mono,serif; font-size:12px; width:693px; overflow-x:auto; overflow-y:hidden; padding-top:1px; position:relative; margin:18px 0px!important; background-color:rgb(231,229,220)">&#13;
<div class="bar" style="padding-left:45px">&#13;
<div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; border-left-width:3px; border-left-style:solid; border-left-color:rgb(153,153,153); background-color:rgb(248,248,248)">&#13;
<strong>[java]</strong> <a target="_blank" href="http://blog.csdn.net/jason0539/article/details/45146271" class="ViewSource" title="view plain" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit">view&#13;
 plain</a><span> <a target="_blank" href="http://blog.csdn.net/jason0539/article/details/45146271" class="CopyToClipboard" title="copy" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit">copy</a></span>&#13;
<div style="position:absolute; left:611px; top:2805px; width:27px; height:15px; z-index:99">&#13;
</div>&#13;
<span> <a target="_blank" href="http://blog.csdn.net/jason0539/article/details/45146271" class="PrintSource" title="print" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit">print</a></span><a target="_blank" href="http://blog.csdn.net/jason0539/article/details/45146271" class="About" title="?" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit">?</a><span class="tracking-ad"><a target="_blank" href="https://code.csdn.net/snippets/648911" title="在CODE上查看代码片" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit"><img src="https://code.csdn.net/assets/CODE_ico.png" width="12" height="12" alt="在CODE上查看代码片" style="border:none; max-width:100%; position:relative; top:1px; left:2px" /></a></span><span class="tracking-ad"><a target="_blank" href="https://code.csdn.net/snippets/648911/fork" title="派生到我的代码片" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit"><img src="https://code.csdn.net/assets/ico_fork.svg" width="12" height="12" alt="派生到我的代码片" style="border:none; max-width:100%; position:relative; top:2px; left:2px" /></a></span></div>&#13;
</div>&#13;
<ol start="1" class="dp-j" style="padding:0px; border:none; color:rgb(92,92,92); margin:0px 0px 1px 45px!important; background-color:rgb(255,255,255)">&#13;
<li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">class</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> ObjectStruture {    </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">static</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> List&lt;Element&gt; getList(){    </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        List&lt;Element&gt; list = <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">new</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> ArrayList&lt;Element&gt;();    </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        Random ran = <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">new</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Random();    </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">for</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">(</span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">int</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> i=</span><span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">0</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">; i&lt;</span><span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">10</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">; i++){    </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">            <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">int</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> a = ran.nextInt(</span><span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">100</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">);    </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">            <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">if</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">(a&gt;</span><span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">50</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">){    </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">                list.add(<span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">new</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> ConcreteElement1());    </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">            }<span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">else</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">{    </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">                list.add(<span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">new</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> ConcreteElement2());    </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">            }    </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        }    </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">return</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> list;    </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    }    </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">}    </span></li></ol>&#13;
</div>&#13;
</div>&#13;
<div style="color:rgb(54,46,43); font-family:Arial; font-size:14px; line-height:26px">&#13;
<span style="background-color:inherit">客户端</span></div>&#13;
<div style="color:rgb(54,46,43); font-family:Arial; font-size:14px; line-height:26px">&#13;
<span style="font-family:Consolas,'Courier New',Courier,mono,serif; background-color:inherit"></span>&#13;
<div class="dp-highlighter bg_java" style="font-family:Consolas,'Courier New',Courier,mono,serif; font-size:12px; width:693px; overflow-x:auto; overflow-y:hidden; padding-top:1px; position:relative; margin:18px 0px!important; background-color:rgb(231,229,220)">&#13;
<div class="bar" style="padding-left:45px">&#13;
<div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; border-left-width:3px; border-left-style:solid; border-left-color:rgb(153,153,153); background-color:rgb(248,248,248)">&#13;
<strong>[java]</strong> <a target="_blank" href="http://blog.csdn.net/jason0539/article/details/45146271" class="ViewSource" title="view plain" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit">view&#13;
 plain</a><span> <a target="_blank" href="http://blog.csdn.net/jason0539/article/details/45146271" class="CopyToClipboard" title="copy" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit">copy</a></span>&#13;
<div style="position:absolute; left:611px; top:3167px; width:27px; height:15px; z-index:99">&#13;
</div>&#13;
<span> <a target="_blank" href="http://blog.csdn.net/jason0539/article/details/45146271" class="PrintSource" title="print" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit">print</a></span><a target="_blank" href="http://blog.csdn.net/jason0539/article/details/45146271" class="About" title="?" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit">?</a><span class="tracking-ad"><a target="_blank" href="https://code.csdn.net/snippets/648911" title="在CODE上查看代码片" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit"><img src="https://code.csdn.net/assets/CODE_ico.png" width="12" height="12" alt="在CODE上查看代码片" style="border:none; max-width:100%; position:relative; top:1px; left:2px" /></a></span><span class="tracking-ad"><a target="_blank" href="https://code.csdn.net/snippets/648911/fork" title="派生到我的代码片" style="color:rgb(160,160,160); text-decoration:none; border:none; padding:0px; margin:0px 10px 0px 0px; font-size:9px; background-color:inherit"><img src="https://code.csdn.net/assets/ico_fork.svg" width="12" height="12" alt="派生到我的代码片" style="border:none; max-width:100%; position:relative; top:2px; left:2px" /></a></span></div>&#13;
</div>&#13;
<ol start="1" class="dp-j" style="padding:0px; border:none; color:rgb(92,92,92); margin:0px 0px 1px 45px!important; background-color:rgb(255,255,255)">&#13;
<li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">class</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Client {    </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">static</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">void</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> main(String[] args){    </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        List&lt;Element&gt; list = ObjectStruture.getList();    </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        <span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">for</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">(Element e: list){    </span></span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">            e.accept(<span class="keyword" style="margin:0px; padding:0px; border:none; color:blue; font-weight:bold; background-color:inherit">new</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> Visitor());    </span></span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        }    </span></li><li class="alt" style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">    }    </span></li><li style="margin:0px!important; padding:0px 3px 0px 10px!important; border-left-width:3px; border-style:none none none solid; border-left-color:rgb(153,153,153); list-style:decimal-leading-zero outside; color:rgb(85,85,85); line-height:18px; background-color:rgb(245,250,226)">&#13;
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">}   </span></li></ol>&#13;
</div>&#13;
</div>&#13;
<strong>五、小结（优点与缺点）</strong><br />&#13;
<br />&#13;
<br />&#13;
优点：<br />&#13;
符合单一职责原则：凡是适用访问者模式的场景中，元素类中需要封装在访问者中的操作必定是与元素类本身关系不大且是易变的操作，使用访问者模式一方面符合单一职责原则，另一方面，因为被封装的操作通常来说都是易变的，所以当发生变化时，就可以在不改变元素类本身的前提下，实现对变化部分的扩展。<br />&#13;
扩展性良好：元素类可以通过接受不同的访问者来实现对不同操作的扩展。<br />&#13;
<br />&#13;
<br />&#13;
缺点：<br />&#13;
增加新的元素类比较困难。通过访问者模式的代码可以看到，在访问者类中，每一个元素类都有它对应的处理方法，也就是说，每增加一个元素类都需要修改访问者类（也包括访问者类的子类或者实现类），修改起来相当麻烦。也就是说，在元素类数目不确定的情况下，应该慎用访问者模式。所以，访问者模式比较适用于对已有功能的重构，比如说，一个项目的基本功能已经确定下来，元素类的数据已经基本确定下来不会变了，会变的只是这些元素内的相关操作，这时候，我们可以使用访问者模式对原有的代码进行重构一遍，这样一来，就可以在不修改各个元素类的情况下，对原有功能进行修改。<br />&#13;
<p><br />&#13;
</p>&#13;
   &#13;
