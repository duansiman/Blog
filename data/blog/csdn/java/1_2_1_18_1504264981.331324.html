

<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
</p>&#13;
<div><span style="font-size:18px"></span>&#13;
<p>首先来看定义：</p>&#13;
<p></p>&#13;
<p style="font-family:Arial; font-size:14px; line-height:26px"><span style="color:rgb(51,51,51)">工厂模式：定义一个用于创建对象的借口，让子类</span><strong><span style="color:rgb(255,0,0)">决定</span></strong><span style="color:rgb(51,51,51)">实例化哪一个类。</span></p>&#13;
<p style="font-family:Arial; font-size:14px; line-height:26px"><span style="color:rgb(51,51,51)">抽象工厂模式：为创建一组相关或相互依赖的对象提供一个接口，而且</span><strong><span style="color:rgb(255,0,0)">无需</span></strong><span style="color:rgb(51,51,51)">指定他们的具体类。</span></p>&#13;
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">&#13;
前者是让子类决定实例化某个具体的类，后者是无需指定具体的类。定义上区别很明显，也许理解起来有点抽象，</p>&#13;
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">&#13;
举个具体的栗子：</p>&#13;
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">&#13;
<span style="white-space:pre"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:24px; background-color:rgb(245,245,245)">工厂创建一种产品，抽象工厂创建的是一组产品，是一个产品系列。</span></span></p>&#13;
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">&#13;
<span style="white-space:pre"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:24px; background-color:rgb(245,245,245)">这里要注意的是“系列”的意思，也就是说，抽象工厂创建出的一组产品是成套的。</span></span></p>&#13;
<p style="font-family:Arial; font-size:14px; line-height:26px"><span style="white-space:pre"><br style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:24px; background-color:rgb(245,245,245)" />&#13;
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:24px; background-color:rgb(245,245,245)"><span style="color:rgb(51,51,51)">当你发现，有</span><strong><span style="color:rgb(255,0,0)">一个</span></strong><span style="color:rgb(51,51,51)">接口可以有多种实现的时候，可以考虑使用工厂方法来创建实例。</span></span><br style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:24px; background-color:rgb(245,245,245)" />&#13;
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:24px; background-color:rgb(245,245,245)"><span style="color:rgb(51,51,51)">当你发现，有</span><strong><span style="color:rgb(255,0,0)">一组</span></strong><span style="color:rgb(51,51,51)">接口可以有多种实现方案的时候，可以考虑使用抽象工厂创建实例组。</span></span></span></p>&#13;
<br />&#13;
<p></p>&#13;
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">&#13;
如果产品单一，最合适用工厂模式，但是如果有多个业务品种、业务分类时，通过抽象工厂模式产生需要的对象是一种非常好的解决方式。</p>&#13;
<p style="font-family:Arial; font-size:14px; line-height:26px"><span style="color:rgb(51,51,51)">再通俗深化理解下：工厂模式针对的是</span><span style="color:rgb(255,0,0)"><strong>一个</strong></span><span style="color:rgb(51,51,51)">产品等级结构 ，抽象工厂模式针对的是</span><span style="color:rgb(255,0,0)"><strong>面向多个</strong></span><span style="color:rgb(51,51,51)">产品等级结构的。</span></p>&#13;
<p style="font-family:Arial; font-size:14px; line-height:26px"><span style="color:rgb(51,51,51)"><br />&#13;
</span></p>&#13;
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">&#13;
再来看看工厂方法模式与抽象工厂模式对比：</p>&#13;
<table border="0" cellspacing="0" cellpadding="2" class="     " style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; width:754px">&#13;
<tbody>&#13;
<tr>&#13;
<td width="362" valign="top">&#13;
<p align="center">工厂方法模式</p>&#13;
</td>&#13;
<td width="390" valign="top">&#13;
<p align="center">抽象工厂模式</p>&#13;
</td>&#13;
</tr>&#13;
<tr>&#13;
<td width="362" valign="top">针对的是一个产品等级结构</td>&#13;
<td width="390" valign="top">针对的是面向多个产品等级结构</td>&#13;
</tr>&#13;
<tr>&#13;
<td width="362" valign="top">一个抽象产品类</td>&#13;
<td width="390" valign="top">多个抽象产品类</td>&#13;
</tr>&#13;
<tr>&#13;
<td width="362" valign="top">可以派生出多个具体产品类</td>&#13;
<td width="390" valign="top">每个抽象产品类可以派生出多个具体产品类</td>&#13;
</tr>&#13;
<tr>&#13;
<td width="362" valign="top">一个抽象工厂类，可以派生出多个具体工厂类</td>&#13;
<td width="390" valign="top">一个抽象工厂类，可以派生出多个具体工厂类</td>&#13;
</tr>&#13;
<tr>&#13;
<td width="362" valign="top">每个具体工厂类只能创建一个具体产品类的实例</td>&#13;
<td width="390" valign="top">每个具体工厂类可以创建多个具体产品类的实例</td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">&#13;
<br />&#13;
</p>&#13;
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">&#13;
</p>&#13;
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">&#13;
举个例子说明下：</p>&#13;
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">&#13;
用种蔬菜的例子来说明事实，最初的时候，由于规模小，只种植一种蔬菜，根菜类蔬菜，这个时候由于种植方式比较简单，采用简单工厂模式即可，主要目的是让工人轻松，下达工厂种植即可，但是随着种植厂的发展以及市场的需求，要增加一种蔬菜类型种植了，茎菜，由于茎菜与根菜种植方式不一致，就需要两个专门的种植工厂来进行管理，那么久采用工厂模式来管理，一个工厂负责一种作物的种植，这个时候产品可以理解为仍然在一个层次。但是随着科技的发展，我们逐步要种植转基因与非转基因食品了，在以前的蔬菜种类上又增加了一个层次，这个时候无法将其作为一个层次来解决，所以必须采用抽象工厂的方式来解决。我用UML图表示三种结构：</p>&#13;
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">&#13;
<a target="_blank" href="http://hi.csdn.net/attachment/201005/16/0_1274005023Bb8F.gif" style="color:rgb(51,102,153); text-decoration:none"><img title="1" src="http://hi.csdn.net/attachment/201005/16/0_1274005024p100.gif" border="0" alt="1" width="717" height="425" style="max-width:100%; border:0px; display:block; float:none; margin-left:auto; margin-right:auto" /></a></p>&#13;
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">&#13;
 <a target="_blank" href="http://hi.csdn.net/attachment/201005/16/0_1274005025vcH6.gif" style="color:rgb(51,102,153); text-decoration:none"><img title="1" src="http://hi.csdn.net/attachment/201005/16/0_1274005027X3Hd.gif" border="0" alt="1" width="685" height="416" style="max-width:100%; border:0px; display:block; float:none; margin-left:auto; margin-right:auto" /></a><a target="_blank" href="http://hi.csdn.net/attachment/201005/16/0_1274005028mzy7.gif" style="color:rgb(51,102,153); text-decoration:none"><img title="1" src="http://hi.csdn.net/attachment/201005/16/0_12740050306U70.gif" border="0" alt="1" width="796" height="590" style="max-width:100%; border:0px; display:block; float:none; margin-left:auto; margin-right:auto" /></a>   &#13;
 上面的UML图很明显的就看出来了，抽象工厂可以创建多个产品类对象，如在种菜工厂中，有种根菜，种茎菜。工厂模式与抽象工厂模式以及简单工厂模式只有在具体应用的时候，分析具体的产品层级，然后选择相应的设计模式。</p>&#13;
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">&#13;
    而在没一个层次，种菜工人所关心的对象也不一样，在简单工厂模式下，工人要想到种植萝卜还是白菜，在工厂模式下，工人想到是种植根菜还是茎菜，而在抽象工厂模式下，则关心种植基因菜还是非基因菜</p>&#13;
<br />&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
抽象工厂模式是工厂方法模式的升级版本，他用来创建一组相关或者相互依赖的对象。他与工厂方法模式的区别就在于，工厂方法模式针对的是一个产品等级结构；而抽象工厂模式则是针对的多个产品等级结构。在编程中，通常一个产品结构，表现为一个接口或者抽象类，也就是说，工厂方法模式提供的所有产品都是衍生自同一个接口或抽象类，而抽象工厂模式所提供的产品则是衍生自不同的接口或抽象类。</p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
        在抽象工厂模式中，有一个<strong>产品族</strong>的概念：所谓的产品族，是指<strong>位于不同产品等级结构中功能相关联的产品组成的家族</strong>。抽象工厂模式所提供的一系列产品就组成一个产品族；而工厂方法提供的一系列产品称为一个等级结构。我们依然拿生产汽车的例子来说明他们之间的区别。</p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
<img alt="" src="http://hi.csdn.net/attachment/201203/16/0_1331859200u1VV.gif" style="max-width:100%; border:none" /></p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
        在上面的类图中，两厢车和三厢车称为两个不同的等级结构；而2.0排量车和2.4排量车则称为两个不同的产品族。再具体一点，2.0排量两厢车和2.4排量两厢车属于同一个等级结构，2.0排量三厢车和2.4排量三厢车属于另一个等级结构；而2.0排量两厢车和2.0排量三厢车属于同一个产品族，2.4排量两厢车和2.4排量三厢车属于另一个产品族。</p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
        明白了等级结构和产品族的概念，就理解工厂方法模式和抽象工厂模式的区别了，如果工厂的产品全部属于同一个等级结构，则属于工厂方法模式；如果工厂的产品来自多个等级结构，则属于抽象工厂模式。在本例中，如果一个工厂模式提供2.0排量两厢车和2.4排量两厢车，那么他属于工厂方法模式；如果一个工厂模式是提供2.4排量两厢车和2.4排量三厢车两个产品，那么这个工厂模式就是抽象工厂模式，因为他提供的产品是分属两个不同的等级结构。当然，如果一个工厂提供全部四种车型的产品，因为产品分属两个等级结构，他当然也属于抽象工厂模式了。</p>&#13;
<p><span style="font-family:Arial; font-size:14px; line-height:26px"> </span></p>&#13;
<p></p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
<strong>总结</strong></p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
       无论是简单工厂模式，工厂方法模式，还是抽象工厂模式，他们都属于工厂模式，在形式和特点上也是极为相似的，他们的最终目的都是为了解耦。在使用时，我们不必去在意这个模式到底工厂方法模式还是抽象工厂模式，因为他们之间的演变常常是令人琢磨不透的。经常你会发现，明明使用的工厂方法模式，当新需求来临，稍加修改，加入了一个新方法后，由于类中的产品构成了不同等级结构中的产品族，它就变成抽象工厂模式了；而对于抽象工厂模式，当减少一个方法使的提供的产品不再构成产品族之后，它就演变成了工厂方法模式。</p>&#13;
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">&#13;
       所以，在使用工厂模式时，只需要关心降低耦合度的目的是否达到了。</p>&#13;
<div><br />&#13;
</div>&#13;
</div>&#13;
<p><strong>下面是一些小伙伴的理解，也许理解起来会好理解点，仅供参考哈</strong></p>&#13;
<p><br />&#13;
</p>&#13;
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">1.抽象工厂模式 比 工厂方法 更抽象。。。</span><br style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)" />&#13;
<span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"> 抽象工厂模式 是把 工厂方法 再封装了一层。</span><br />&#13;
</p>&#13;
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">2.<span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">本来一个工厂里可以造汽车，空调，冰箱。</span><br style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)" />&#13;
<span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">现在工厂独立了，一个工厂造汽车，另一个工厂造空调，再另外一个工厂造冰箱。。。</span></span></p>&#13;
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">3.<span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">工厂一般造一种产品</span><br style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)" />&#13;
<span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">抽象工厂造许多种产品</span></span></span></p>&#13;
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">4.<span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">工厂是一种抽象，将创建对象的过程抽象；而抽象工厂更进一层，把工厂本身都抽象了。</span></span></span></span></p>&#13;
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">5.<span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">工厂是下订单的时候知道哪一家工厂。</span><br style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)" />&#13;
<span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)">而抽象工厂是下订单的时候还不知道哪一家。</span></span></span></span></span></p>&#13;
<p><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"><span style="color:#333333">6.</span><strong><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:24px; background-color:rgb(245,245,245)"><span style="color:#ff0000">工厂创建一种产品，抽象工厂创建的是一组产品，是一个产品系列。</span></span></strong></span></span></span></span></span></p>&#13;
<p><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; background-color:rgb(245,245,245)"><strong><span style="color:#ff0000"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:24px; background-color:rgb(245,245,245)">这里要注意的是“系列”的意思，也就是说，抽象工厂创建出的一组产品是成套的。</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:24px; background-color:rgb(245,245,245)" />&#13;
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:24px; background-color:rgb(245,245,245)">当你发现，有一个接口可以有多种实现的时候，可以考虑使用工厂方法来创建实例。</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:24px; background-color:rgb(245,245,245)" />&#13;
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:24px; background-color:rgb(245,245,245)">当你返现，有一组接口可以有多种实现方案的时候，可以考虑使用抽象工厂创建实例组。（这个讲的挺好的。）</span></span></strong></span></span></span></span></span></p>&#13;
<p></p>&#13;
   &#13;
