
                <div class="markdown_views"><p>打开用友UAP，创建一个UAP工程 <br/>
<img src="http://img.blog.csdn.net/20170222110849537?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxNDQyNzM5MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title=""/></p>

<p>然后在public目录下面，写一个WebService接口</p>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> nc.webservice.service;

<span class="hljs-keyword">import</span> javax.jws.WebMethod;
<span class="hljs-keyword">import</span> javax.jws.WebParam;
<span class="hljs-keyword">import</span> javax.jws.WebResult;
<span class="hljs-keyword">import</span> javax.jws.WebService;

<span class="hljs-annotation">@WebService</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">HelloService</span> {</span>

    <span class="hljs-annotation">@WebMethod</span> <span class="hljs-annotation">@WebResult</span> String sayHello(<span class="hljs-annotation">@WebParam</span> String name);

}
</code></pre>

<p>然后在private目录下写接口实现</p>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> nc.webservice.service.impl;

<span class="hljs-keyword">import</span> nc.webservice.service.HelloService;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">HelloService</span>{</span>

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title">sayHello</span>(String name) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"hello!"</span>+name;
    }

}
</code></pre>

<p>VM配置： <br/>
在调试配置的变量配置里，选择vm参数配置，加入</p>



<pre class="prettyprint"><code class=" hljs lasso"><span class="hljs-attribute">-Duap</span><span class="hljs-built_in">.</span>hotwebs<span class="hljs-subst">=</span>lfw,<span class="hljs-keyword">portal</span>,fs,uapws</code></pre>

<p>因为nc65版本是自带ws tools的，所以不需要插件，如果没有，就要在UAP的Platform的Plugins里加入，下载好的jar：nc.uap.mde.wstools_1.0.2.jar，然后重启就可以 <br/>
选择接口类，右键，选择ws tools，选择Generate WSDL，新建一个WSDL文件 <br/>
<img src="http://img.blog.csdn.net/20170222111941240?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxNDQyNzM5MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title=""/> <br/>
然后就可以发布出去了，选择publish Web Service,创建一个upm文件 <br/>
<img src="http://img.blog.csdn.net/20170222111721159?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxNDQyNzM5MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title=""/> <br/>
访问<a href="http://127.0.0.1/uapws/service">http://127.0.0.1/uapws/service</a> <br/>
<img src="http://img.blog.csdn.net/20170222111442733?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxNDQyNzM5MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title=""/></p><link rel="stylesheet" href="http://static.blog.csdn.net/public/res-min/markdown_views.css?v=1.0"/></div><link rel="stylesheet" href="http://static.blog.csdn.net/public/res-min/markdown_views.css?v=1.0"/>&#13;
            