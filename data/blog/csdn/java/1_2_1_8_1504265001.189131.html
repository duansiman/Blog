

<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25.2px">&#13;
<span style="margin:0px; padding:0px; line-height:1.8; font-size:16px; background-color:rgb(51,153,102)">迭代器模式定义</span></p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25.2px">&#13;
迭代器模式（Iterator），提供一种方法顺序访问一个聚合对象中的各种元素，而又不暴露该对象的内部表示。</p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25.2px">&#13;
<span style="margin:0px; padding:0px; line-height:1.8; font-size:16px; background-color:rgb(51,153,102)">迭代器模式的角色构成</span></p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25.2px">&#13;
<span style="margin:0px; padding:0px; line-height:1.8">(1)迭代器角色（Iterator）:定义遍历元素所需要的方法，一般来说会有这么三个方法：取得下一个元素的方法next()，判断是否遍历结束的方法hasNext()），移出当前对象的方法remove(),</span></p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25.2px">&#13;
<span style="margin:0px; padding:0px; line-height:1.8">(2)具体迭代器角色（Concrete Iterator）：实现迭代器接口中定义的方法，完成集合的迭代。</span></p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25.2px">&#13;
<span style="margin:0px; padding:0px; line-height:1.8">(3)容器角色(Aggregate):  一般是一个接口，提供一个iterator()方法，例如java中的Collection接口，List接口，Set接口等</span></p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25.2px">&#13;
<span style="margin:0px; padding:0px; line-height:1.8">(4)具体容器角色（ConcreteAggregate）：就是抽象容器的具体实现类，比如List接口的有序列表实现ArrayList，List接口的链表实现LinkList，Set接口的哈希列表的实现HashSet等。</span></p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25.2px">&#13;
<span style="margin:0px; padding:0px; line-height:1.8; font-size:16px; background-color:rgb(51,153,102)">迭代器模式应用的场景及意义</span><br style="margin:0px; padding:0px" />&#13;
(1)访问一个聚合对象的内容而无需暴露它的内部表示</p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25.2px">&#13;
(2)支持对聚合对象的多种遍历</p>&#13;
<div class="para" style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25.2px">&#13;
(3)为遍历不同的聚合结构提供一个统一的接口</div>&#13;
<div class="para" style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25.2px">&#13;
 </div>&#13;
<div class="para" style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25.2px">&#13;
迭代器模式四个角色之间的关系可以用类图表示</div>&#13;
<div class="para" style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25.2px">&#13;
 <img src="http://images2015.cnblogs.com/blog/653266/201604/653266-20160412200838238-537659898.png" alt="" style="margin:0px; padding:0px; border:0px; max-width:900px" /></div>&#13;
<div class="para" style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25.2px">&#13;
 </div>&#13;
<div class="para" style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25.2px">&#13;
具体代码实现：</div>&#13;
<div class="para" style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25.2px">&#13;
定义迭代器角色(Iterator)</div>&#13;
<div class="para" style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25.2px">&#13;
<div class="cnblogs_code" style="margin:5px 0px; padding:5px; border:1px solid rgb(204,204,204); overflow:auto; color:rgb(0,0,0); font-family:'Courier New'!important; font-size:12px!important; background-color:rgb(245,245,245)">&#13;
<pre style="margin-top:0px; margin-bottom:0px; padding:0px; white-space:pre-wrap; word-wrap:break-word; font-family:'Courier New'!important"><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">1</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">public</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">interface</span><span style="margin:0px; padding:0px; line-height:1.8"> Iterator {
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">2</span> 
<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">3</span>     <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">public</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">boolean</span><span style="margin:0px; padding:0px; line-height:1.8"> hasNext();
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">4</span>     <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">public</span><span style="margin:0px; padding:0px; line-height:1.8"> Object next();
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">5</span> }</pre>&#13;
</div>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px">定义具体迭代器角色(Concrete Iterator)</p>&#13;
</div>&#13;
<div class="para" style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25.2px">&#13;
<div class="cnblogs_code" style="margin:5px 0px; padding:5px; border:1px solid rgb(204,204,204); overflow:auto; color:rgb(0,0,0); font-family:'Courier New'!important; font-size:12px!important; background-color:rgb(245,245,245)">&#13;
<div class="cnblogs_code_toolbar" style="margin:5px 0px 0px; padding:0px"><span class="cnblogs_code_copy" style="margin:0px; padding:0px 5px 0px 0px; line-height:1.8"><a target="_blank" title="复制代码" style="margin:0px; padding:0px; border:none!important"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="margin:0px; padding:0px; max-width:900px; border:none!important" /></a></span></div>&#13;
<pre style="margin-top:0px; margin-bottom:0px; padding:0px; white-space:pre-wrap; word-wrap:break-word; font-family:'Courier New'!important"><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 1</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">package</span><span style="margin:0px; padding:0px; line-height:1.8"> patten.design;
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 2</span> 
<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 3</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">import</span><span style="margin:0px; padding:0px; line-height:1.8"> patten.design.List;;
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 4</span> 
<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 5</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">public</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">class</span> ConcreteIterator <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">implements</span><span style="margin:0px; padding:0px; line-height:1.8"> Iterator {
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 6</span>     <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">private</span> List list = <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">null</span><span style="margin:0px; padding:0px; line-height:1.8">;
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 7</span>     <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">private</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">int</span><span style="margin:0px; padding:0px; line-height:1.8"> index;
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 8</span> 
<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 9</span>     <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">public</span><span style="margin:0px; padding:0px; line-height:1.8"> ConcreteIterator(List list) {
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">10</span>         <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">super</span><span style="margin:0px; padding:0px; line-height:1.8">();
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">11</span>         <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">this</span>.list =<span style="margin:0px; padding:0px; line-height:1.8"> list;
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">12</span> <span style="margin:0px; padding:0px; line-height:1.8">    }
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">13</span> 
<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">14</span> <span style="margin:0px; padding:0px; line-height:1.8">    @Override
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">15</span>     <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">public</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">boolean</span><span style="margin:0px; padding:0px; line-height:1.8"> hasNext() {
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">16</span>         <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">if</span> (index &gt;=<span style="margin:0px; padding:0px; line-height:1.8"> list.getSize()) {
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">17</span>             <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">return</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">false</span><span style="margin:0px; padding:0px; line-height:1.8">;
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">18</span>         } <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">else</span><span style="margin:0px; padding:0px; line-height:1.8"> {
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">19</span>             <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">return</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">true</span><span style="margin:0px; padding:0px; line-height:1.8">;
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">20</span> <span style="margin:0px; padding:0px; line-height:1.8">        }
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">21</span> <span style="margin:0px; padding:0px; line-height:1.8">    }
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">22</span> 
<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">23</span> <span style="margin:0px; padding:0px; line-height:1.8">    @Override
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">24</span>     <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">public</span><span style="margin:0px; padding:0px; line-height:1.8"> Object next() {
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">25</span>         Object object =<span style="margin:0px; padding:0px; line-height:1.8"> list.get(index);
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">26</span>         index++<span style="margin:0px; padding:0px; line-height:1.8">;
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">27</span>         <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">return</span><span style="margin:0px; padding:0px; line-height:1.8"> object;
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">28</span> <span style="margin:0px; padding:0px; line-height:1.8">    }
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">29</span> 
<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">30</span> }</pre>&#13;
<div class="cnblogs_code_toolbar" style="margin:5px 0px 0px; padding:0px"><span class="cnblogs_code_copy" style="margin:0px; padding:0px 5px 0px 0px; line-height:1.8"><a target="_blank" title="复制代码" style="margin:0px; padding:0px; border:none!important"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="margin:0px; padding:0px; max-width:900px; border:none!important" /></a></span></div>&#13;
</div>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px">定义容器角色(Aggregate)</p>&#13;
</div>&#13;
<div class="para" style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25.2px">&#13;
<div class="cnblogs_code" style="margin:5px 0px; padding:5px; border:1px solid rgb(204,204,204); overflow:auto; color:rgb(0,0,0); font-family:'Courier New'!important; font-size:12px!important; background-color:rgb(245,245,245)">&#13;
<div class="cnblogs_code_toolbar" style="margin:5px 0px 0px; padding:0px"><span class="cnblogs_code_copy" style="margin:0px; padding:0px 5px 0px 0px; line-height:1.8"><a target="_blank" title="复制代码" style="margin:0px; padding:0px; border:none!important"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="margin:0px; padding:0px; max-width:900px; border:none!important" /></a></span></div>&#13;
<pre style="margin-top:0px; margin-bottom:0px; padding:0px; white-space:pre-wrap; word-wrap:break-word; font-family:'Courier New'!important"><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 1</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">package</span><span style="margin:0px; padding:0px; line-height:1.8"> patten.design;
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 2</span> 
<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 3</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,0)">//</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,0)">定义集合可以进行的操作</span>
<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 4</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">public</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">interface</span><span style="margin:0px; padding:0px; line-height:1.8"> List {
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 5</span> 
<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 6</span>     <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">public</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">void</span><span style="margin:0px; padding:0px; line-height:1.8"> add(Object obj);  
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 7</span>     <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">public</span> Object get(<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">int</span><span style="margin:0px; padding:0px; line-height:1.8"> index);
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 8</span>     <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">public</span><span style="margin:0px; padding:0px; line-height:1.8"> Iterator iterator();  
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 9</span>     <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">public</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">int</span><span style="margin:0px; padding:0px; line-height:1.8"> getSize();
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">10</span> }</pre>&#13;
<div class="cnblogs_code_toolbar" style="margin:5px 0px 0px; padding:0px"><span class="cnblogs_code_copy" style="margin:0px; padding:0px 5px 0px 0px; line-height:1.8"><a target="_blank" title="复制代码" style="margin:0px; padding:0px; border:none!important"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="margin:0px; padding:0px; max-width:900px; border:none!important" /></a></span></div>&#13;
</div>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px">定义具体容器角色(ConcreteAggregate)</p>&#13;
<div class="cnblogs_code" style="margin:5px 0px; padding:5px; border:1px solid rgb(204,204,204); overflow:auto; color:rgb(0,0,0); font-family:'Courier New'!important; font-size:12px!important; background-color:rgb(245,245,245)">&#13;
<div class="cnblogs_code_toolbar" style="margin:5px 0px 0px; padding:0px"><span class="cnblogs_code_copy" style="margin:0px; padding:0px 5px 0px 0px; line-height:1.8"><a target="_blank" title="复制代码" style="margin:0px; padding:0px; border:none!important"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="margin:0px; padding:0px; max-width:900px; border:none!important" /></a></span></div>&#13;
<pre style="margin-top:0px; margin-bottom:0px; padding:0px; white-space:pre-wrap; word-wrap:break-word; font-family:'Courier New'!important"><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 1</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">package</span><span style="margin:0px; padding:0px; line-height:1.8"> patten.design;
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 2</span> 
<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 3</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">public</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">class</span> ConcreteAggregate <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">implements</span><span style="margin:0px; padding:0px; line-height:1.8"> List{
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 4</span> 
<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 5</span>     <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">private</span><span style="margin:0px; padding:0px; line-height:1.8"> Object[] list;
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 6</span>     <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">private</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">int</span> size=0<span style="margin:0px; padding:0px; line-height:1.8">;
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 7</span>     <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">private</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">int</span> index=0<span style="margin:0px; padding:0px; line-height:1.8">;
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 8</span>     <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">public</span><span style="margin:0px; padding:0px; line-height:1.8"> ConcreteAggregate(){
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 9</span>         index=0<span style="margin:0px; padding:0px; line-height:1.8">;
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">10</span>         size=0<span style="margin:0px; padding:0px; line-height:1.8">;
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">11</span>         list=<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">new</span> Object[100<span style="margin:0px; padding:0px; line-height:1.8">];
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">12</span> <span style="margin:0px; padding:0px; line-height:1.8">    }
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">13</span> <span style="margin:0px; padding:0px; line-height:1.8">    @Override
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">14</span>     <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">public</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">void</span><span style="margin:0px; padding:0px; line-height:1.8"> add(Object obj) {
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">15</span>         list[index++]=<span style="margin:0px; padding:0px; line-height:1.8">obj;
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">16</span>         size++<span style="margin:0px; padding:0px; line-height:1.8">;
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">17</span> <span style="margin:0px; padding:0px; line-height:1.8">    }
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">18</span> 
<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">19</span> <span style="margin:0px; padding:0px; line-height:1.8">    @Override
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">20</span>     <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">public</span><span style="margin:0px; padding:0px; line-height:1.8"> Iterator iterator() {
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">21</span>         
<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">22</span>         <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">return</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">new</span> ConcreteIterator(<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">this</span><span style="margin:0px; padding:0px; line-height:1.8">);
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">23</span> <span style="margin:0px; padding:0px; line-height:1.8">    }
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">24</span> <span style="margin:0px; padding:0px; line-height:1.8">    @Override
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">25</span>     <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">public</span> Object get(<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">int</span><span style="margin:0px; padding:0px; line-height:1.8"> index) {
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">26</span>         
<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">27</span>         <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">return</span><span style="margin:0px; padding:0px; line-height:1.8"> list[index];
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">28</span> <span style="margin:0px; padding:0px; line-height:1.8">    }
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">29</span> <span style="margin:0px; padding:0px; line-height:1.8">    @Override
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">30</span>     <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">public</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">int</span><span style="margin:0px; padding:0px; line-height:1.8"> getSize() {
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">31</span>         
<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">32</span>         <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">return</span><span style="margin:0px; padding:0px; line-height:1.8"> size;
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">33</span> <span style="margin:0px; padding:0px; line-height:1.8">    }
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">34</span> 
<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">35</span> }</pre>&#13;
<div class="cnblogs_code_toolbar" style="margin:5px 0px 0px; padding:0px"><span class="cnblogs_code_copy" style="margin:0px; padding:0px 5px 0px 0px; line-height:1.8"><a target="_blank" title="复制代码" style="margin:0px; padding:0px; border:none!important"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="margin:0px; padding:0px; max-width:900px; border:none!important" /></a></span></div>&#13;
</div>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px">代码测试</p>&#13;
<div class="cnblogs_code" style="margin:5px 0px; padding:5px; border:1px solid rgb(204,204,204); overflow:auto; color:rgb(0,0,0); font-family:'Courier New'!important; font-size:12px!important; background-color:rgb(245,245,245)">&#13;
<div class="cnblogs_code_toolbar" style="margin:5px 0px 0px; padding:0px"><span class="cnblogs_code_copy" style="margin:0px; padding:0px 5px 0px 0px; line-height:1.8"><a target="_blank" title="复制代码" style="margin:0px; padding:0px; border:none!important"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="margin:0px; padding:0px; max-width:900px; border:none!important" /></a></span></div>&#13;
<pre style="margin-top:0px; margin-bottom:0px; padding:0px; white-space:pre-wrap; word-wrap:break-word; font-family:'Courier New'!important"><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 1</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">package</span><span style="margin:0px; padding:0px; line-height:1.8"> patten.design;
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 2</span> 
<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 3</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">public</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">class</span><span style="margin:0px; padding:0px; line-height:1.8"> IteratorTest {
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 4</span> 
<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 5</span>     <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,0)">/**</span>
<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 6</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,0)">     * </span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(128,128,128)">@param</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,0)"> args
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 7</span>      <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,0)">*/</span>
<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 8</span>     <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">public</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">static</span> <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">void</span><span style="margin:0px; padding:0px; line-height:1.8"> main(String[] args) {
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)"> 9</span> 
<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">10</span>         List list=<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">new</span><span style="margin:0px; padding:0px; line-height:1.8"> ConcreteAggregate();
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">11</span>         list.add("a"<span style="margin:0px; padding:0px; line-height:1.8">);
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">12</span>         list.add("b"<span style="margin:0px; padding:0px; line-height:1.8">);
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">13</span>         list.add("c"<span style="margin:0px; padding:0px; line-height:1.8">);
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">14</span>         list.add("d"<span style="margin:0px; padding:0px; line-height:1.8">);
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">15</span>         Iterator it=<span style="margin:0px; padding:0px; line-height:1.8">list.iterator();
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">16</span>         <span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,0,255)">while</span><span style="margin:0px; padding:0px; line-height:1.8">(it.hasNext()){
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">17</span> <span style="margin:0px; padding:0px; line-height:1.8">            System.out.println(it.next());
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">18</span> <span style="margin:0px; padding:0px; line-height:1.8">        }
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">19</span> <span style="margin:0px; padding:0px; line-height:1.8">    }
</span><span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">20</span> 
<span style="margin:0px; padding:0px; line-height:1.8; color:rgb(0,128,128)">21</span> }</pre>&#13;
<div class="cnblogs_code_toolbar" style="margin:5px 0px 0px; padding:0px"><span class="cnblogs_code_copy" style="margin:0px; padding:0px 5px 0px 0px; line-height:1.8"><a target="_blank" title="复制代码" style="margin:0px; padding:0px; border:none!important"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="margin:0px; padding:0px; max-width:900px; border:none!important" /></a></span></div>&#13;
</div>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px">迭代器模式的优缺点：</p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px">  迭代器模式的优点有：</p>&#13;
<ul style="margin:0px 0px 0px 30px; padding:0px">&#13;
<li style="margin:0px; padding:0px; list-style:disc">简化了遍历方式，对于对象集合的遍历，还是比较麻烦的，对于数组或者有序列表，我们尚可以通过游标来取得，但用户需要在对集合了解很清楚的前提下，自行遍历对象，但是对于hash表来说，用户遍历起来就比较麻烦了。而引入了迭代器方法后，用户用起来就简单的多了。</li><li style="margin:0px; padding:0px; list-style:disc">可以提供多种遍历方式，比如说对有序列表，我们可以根据需要提供正序遍历，倒序遍历两种迭代器，用户用起来只需要得到我们实现好的迭代器，就可以方便的对集合进行遍历了。</li><li style="margin:0px; padding:0px; list-style:disc">封装性良好，用户只需要得到迭代器就可以遍历，而对于遍历算法则不用去关心。</li></ul>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px">  迭代器模式的缺点：</p>&#13;
<ul style="margin:0px 0px 0px 30px; padding:0px">&#13;
<li style="margin:0px; padding:0px; list-style:disc">对于比较简单的遍历（像数组或者有序列表），使用迭代器方式遍历较为繁琐，大家可能都有感觉，像ArrayList，我们宁可愿意使用for循环和get方法来遍历集合。</li></ul>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px"> 总的来说：<span style="margin:0px; padding:0px"> 迭代器模式是与集合共生共死的，一般来说，我们只要实现一个集合，就需要同时提供这个集合的迭代器，就像java中的Collection，List、Set、Map等，这些集合都有自己的迭代器。假如我们要实现一个这样的新的容器，当然也需要引入迭代器模式，给我们的容器实现一个迭代器。</span></p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px"><span style="margin:0px; padding:0px"><br />&#13;
</span></p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px"><span style="margin:0px; padding:0px"></span></p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:Verdana,Arial,Helvetica,sans-serif; background-color:rgb(254,254,242)">&#13;
<span style="font-family:Arial; margin:0px; padding:0px">迭代器（Iterator）</span></p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:Verdana,Arial,Helvetica,sans-serif; background-color:rgb(254,254,242)">&#13;
<span style="font-family:Arial; margin:0px; padding:0px">　　迭代器是一种设计模式，它是一个对象，它可以遍历并选择序列中的对象，而开发人员不需要了解该序列的底层结构。迭代器通常被称为“轻量级”对象，因为创建它的代价小。</span></p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:Verdana,Arial,Helvetica,sans-serif; background-color:rgb(254,254,242)">&#13;
<span style="font-family:Arial; margin:0px; padding:0px">　　Java中的Iterator功能比较简单，并且只能单向移动：</span></p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:Verdana,Arial,Helvetica,sans-serif; background-color:rgb(254,254,242)">&#13;
<span style="font-family:Arial; margin:0px; padding:0px">　　(1) 使用方法iterator()要求容器返回一个Iterator。第一次调用Iterator的next()方法时，它返回序列的第一个元素。注意：iterator()方法是java.lang.Iterable接口,被Collection继承。</span></p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:Verdana,Arial,Helvetica,sans-serif; background-color:rgb(254,254,242)">&#13;
<span style="font-family:Arial; margin:0px; padding:0px">　　(2) 使用next()获得序列中的下一个元素。</span></p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:Verdana,Arial,Helvetica,sans-serif; background-color:rgb(254,254,242)">&#13;
<span style="font-family:Arial; margin:0px; padding:0px">　　(3) 使用hasNext()检查序列中是否还有元素。</span></p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:Verdana,Arial,Helvetica,sans-serif; background-color:rgb(254,254,242)">&#13;
<span style="font-family:Arial; margin:0px; padding:0px">　　(4) 使用remove()将迭代器新返回的元素删除。</span></p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:Verdana,Arial,Helvetica,sans-serif; background-color:rgb(254,254,242)">&#13;
<span style="font-family:Arial; margin:0px; padding:0px">　　Iterator是Java迭代器最简单的实现，为List设计的ListIterator具有更多的功能，它可以从两个方向遍历List，也可以从List中插入和删除元素。</span></p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:Verdana,Arial,Helvetica,sans-serif; background-color:rgb(254,254,242)">&#13;
<span style="font-family:Arial; margin:0px; padding:0px">迭代器应用：<br style="margin:0px; padding:0px" />&#13;
 list l = new ArrayList();<br style="margin:0px; padding:0px" />&#13;
 l.add("aa");<br style="margin:0px; padding:0px" />&#13;
 l.add("bb");<br style="margin:0px; padding:0px" />&#13;
 l.add("cc");<br style="margin:0px; padding:0px" />&#13;
 for (Iterator iter = l.iterator(); iter.hasNext();) {<br style="margin:0px; padding:0px" />&#13;
  String str = (String)iter.next();<br style="margin:0px; padding:0px" />&#13;
  System.out.println(str);<br style="margin:0px; padding:0px" />&#13;
 }<br style="margin:0px; padding:0px" />&#13;
 /*迭代器用于while循环<br style="margin:0px; padding:0px" />&#13;
 Iterator iter = l.iterator();<br style="margin:0px; padding:0px" />&#13;
 while(iter.hasNext()){<br style="margin:0px; padding:0px" />&#13;
  String str = (String) iter.next();<br style="margin:0px; padding:0px" />&#13;
  System.out.println(str);<br style="margin:0px; padding:0px" />&#13;
 }</span></p>&#13;
<br />&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px"><span style="margin:0px; padding:0px"><br />&#13;
</span></p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px"><span style="margin:0px; padding:0px"></span></p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; text-indent:2em; font-family:Verdana,Arial,Helvetica,sans-serif; background-color:rgb(254,254,242)">&#13;
<span style="margin:0px; padding:0px">迭代器模式的优缺点</span></p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; text-indent:2em; font-family:Verdana,Arial,Helvetica,sans-serif; background-color:rgb(254,254,242)">&#13;
        迭代器模式的优点有：</p>&#13;
<ul style="margin:0px 0px 0px 30px; padding:0px; word-break:break-all; font-family:Verdana,Arial,Helvetica,sans-serif; font-size:13px; line-height:19.5px; background-color:rgb(254,254,242)">&#13;
<li style="margin:0px 0px 1em; padding:0px; list-style:disc">简化了遍历方式，对于对象集合的遍历，还是比较麻烦的，对于数组或者有序列表，我们尚可以通过游标来取得，但用户需要在对集合了解很清楚的前提下，自行遍历对象，但是对于hash表来说，用户遍历起来就比较麻烦了。而引入了迭代器方法后，用户用起来就简单的多了。</li><li style="margin:0px 0px 1em; padding:0px; list-style:disc">可以提供多种遍历方式，比如说对有序列表，我们可以根据需要提供正序遍历，倒序遍历两种迭代器，用户用起来只需要得到我们实现好的迭代器，就可以方便的对集合进行遍历了。</li><li style="margin:0px 0px 1em; padding:0px; list-style:disc">封装性良好，用户只需要得到迭代器就可以遍历，而对于遍历算法则不用去关心。</li></ul>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; text-indent:2em; font-family:Verdana,Arial,Helvetica,sans-serif; background-color:rgb(254,254,242)">&#13;
        迭代器模式的缺点：</p>&#13;
<ul style="margin:0px 0px 0px 30px; padding:0px; word-break:break-all; font-family:Verdana,Arial,Helvetica,sans-serif; font-size:13px; line-height:19.5px; background-color:rgb(254,254,242)">&#13;
<li style="margin:0px 0px 1em; padding:0px; list-style:disc">对于比较简单的遍历（像数组或者有序列表），使用迭代器方式遍历较为繁琐，大家可能都有感觉，像ArrayList，我们宁可愿意使用for循环和get方法来遍历集合。</li></ul>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; text-indent:2em; font-family:Verdana,Arial,Helvetica,sans-serif; background-color:rgb(254,254,242)">&#13;
 </p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; text-indent:2em; font-family:Verdana,Arial,Helvetica,sans-serif; background-color:rgb(254,254,242)">&#13;
<span style="margin:0px; padding:0px">迭代器模式的适用场景</span></p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; text-indent:2em; font-family:Verdana,Arial,Helvetica,sans-serif; background-color:rgb(254,254,242)">&#13;
       迭代器模式是与集合共生共死的，一般来说，我们只要实现一个集合，就需要同时提供这个集合的迭代器，就像java中的Collection，List、Set、Map等，这些集合都有自己的迭代器。假如我们要实现一个这样的新的容器，当然也需要引入迭代器模式，给我们的容器实现一个迭代器。</p>&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; text-indent:2em; font-family:Verdana,Arial,Helvetica,sans-serif; background-color:rgb(254,254,242)">&#13;
       但是，由于容器与迭代器的关系太密切了，所以大多数语言在实现容器的时候都给提供了迭代器，并且这些语言提供的容器和迭代器在绝大多数情况下就可以满足我们的需要，所以现在需要我们自己去实践迭代器模式的场景还是比较少见的，我们只需要使用语言中已有的容器和迭代器就可以了。</p>&#13;
<br />&#13;
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px"><span style="margin:0px; padding:0px"><br />&#13;
</span></p>&#13;
</div>&#13;
   &#13;
