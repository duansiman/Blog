
                <div class="markdown_views"><p>本博客介绍fusioncharts插件的使用 <br/>
先了解fusioncharts插件，fusioncharts是一款基于XML和flash的报表组件，支持Java、PHP、AngularJS等等开发语言，所以，开发出来，加入swf文件，就可以出现动态效果的报表统计，具有2D和3D效果的图表，下面是官网和详细分类</p>

<p>官网：<a href="http://www.fusioncharts.com/">http://www.fusioncharts.com/</a></p>

<h2 id="fusioncharts插件的分类">Fusioncharts插件的分类：</h2>

<ol>
<li>3D/2D柱形图</li>
</ol>

<p><img src="http://img.blog.csdn.net/20161227154840866?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxNDQyNzM5MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title=""/> <br/>
2. 曲线图</p>

<p><img src="http://img.blog.csdn.net/20161227154853335?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxNDQyNzM5MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title=""/> <br/>
3. 3D/2D饼形图和环形图 <br/>
<img src="http://img.blog.csdn.net/20161227154908367?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxNDQyNzM5MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title=""/> <br/>
4. 区域图 <br/>
<img src="http://img.blog.csdn.net/20161227155204274?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxNDQyNzM5MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title=""/></p>

<ol>
<li>堆栈图  <br/>
<img src="http://img.blog.csdn.net/20161227155214915?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxNDQyNzM5MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title=""/></li>
<li>联合图 <br/>
<img src="http://img.blog.csdn.net/20161227155224212?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxNDQyNzM5MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title=""/></li>
<li>蜡烛图</li>
</ol>

<p><img src="http://img.blog.csdn.net/20161227155239977?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxNDQyNzM5MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title=""/> <br/>
8. 漏斗图 <br/>
<img src="http://img.blog.csdn.net/20161227155252462?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxNDQyNzM5MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title=""/> <br/>
9. 甘特图 <br/>
<img src="http://img.blog.csdn.net/20161227155303618?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxNDQyNzM5MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title=""/></p>

<p>先去官网下载Fusioncharts免费版本需要的swf和Javascript以及jar等等资料，<a href="http://www.fusioncharts.com/goodies/fusioncharts-free/">http://www.fusioncharts.com/goodies/fusioncharts-free/</a> <br/>
或者去<a href="http://download.csdn.net/detail/u014427391/9722565">http://download.csdn.net/detail/u014427391/9722565</a> <br/>
<a href="http://download.csdn.net/detail/u014427391/9722584">http://download.csdn.net/detail/u014427391/9722584</a>下载 <br/>
<img src="http://img.blog.csdn.net/20161227160650485?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxNDQyNzM5MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title=""/></p>

<p>fusionChartsHtmlReader.jsp:</p>

<pre class="prettyprint"><code class=" hljs xml"><span class="vbscript">&lt;%
/* Version <span class="hljs-number">2.0</span>: 
 * Added DOMId <span class="hljs-keyword">to</span> FlashVars
 * Version <span class="hljs-number">1.1</span>:
 * Works <span class="hljs-keyword">with</span> all jdk versions &gt;=<span class="hljs-number">1.4</span>.
 * Creates the object tag required <span class="hljs-keyword">to</span> embed a chart.
 * Generates the object tag <span class="hljs-keyword">to</span> embed the swf directly into the html page.&lt;br&gt;
 * Note: Only one of the parameters strURL <span class="hljs-keyword">or</span> strXML has <span class="hljs-keyword">to</span> be <span class="hljs-keyword">not</span> <span class="hljs-literal">null</span> <span class="hljs-keyword">for</span> this&lt;br&gt;
 * method <span class="hljs-keyword">to</span> work. <span class="hljs-keyword">If</span> both the parameters are provided <span class="hljs-keyword">then</span> strURL <span class="hljs-keyword">is</span> used <span class="hljs-keyword">for</span> further processing.&lt;br&gt;
 *  
 * @param chartSWF -
 *                SWF File Name (<span class="hljs-keyword">and</span> Path) of the chart which you intend
 *                <span class="hljs-keyword">to</span> plot
 * @param strURL -
 *                <span class="hljs-keyword">If</span> you intend <span class="hljs-keyword">to</span> use dataURL method <span class="hljs-keyword">for</span> this chart,
 *                pass the URL as this parameter. <span class="hljs-keyword">Else</span>, <span class="hljs-keyword">set</span> it <span class="hljs-keyword">to</span> <span class="hljs-string">""</span> (<span class="hljs-keyword">in</span>
 *                <span class="hljs-keyword">case</span> of dataStr method)
 * @param strXML -
 *                <span class="hljs-keyword">If</span> you intend <span class="hljs-keyword">to</span> use dataStr method <span class="hljs-keyword">for</span> this chart,
 *                pass the XML data as this parameter. <span class="hljs-keyword">Else</span>, <span class="hljs-keyword">set</span> it <span class="hljs-keyword">to</span> <span class="hljs-string">""</span>
 *                (<span class="hljs-keyword">in</span> <span class="hljs-keyword">case</span> of dataURL method)
 * @param chartId -
 *                Id <span class="hljs-keyword">for</span> the chart, using which it will be recognized <span class="hljs-keyword">in</span>
 *                the HTML page. <span class="hljs-keyword">Each</span> chart <span class="hljs-keyword">on</span> the page needs <span class="hljs-keyword">to</span> have a
 *                unique Id.
 * @param chartWidth -
 *                Intended width <span class="hljs-keyword">for</span> the chart (<span class="hljs-keyword">in</span> pixels)
 * @param chartHeight -
 *                Intended height <span class="hljs-keyword">for</span> the chart (<span class="hljs-keyword">in</span> pixels)
 * @param debugMode -
 *                Whether <span class="hljs-keyword">to</span> start the chart <span class="hljs-keyword">in</span> debug mode (<span class="hljs-keyword">Not</span> used <span class="hljs-keyword">in</span> Free version)
 * @param wMode - Window mode
 * @param color - Background color
 * @param scaleMode - <span class="hljs-string">"noScale"</span>, <span class="hljs-string">"exactFit"</span>
 * @param lang - Application Message Language - <span class="hljs-number">2</span> letter code
 */

%&gt;</span>
<span class="vbscript">&lt;%
    <span class="hljs-built_in">String</span> chartSWF= <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"chartSWF"</span>); 
    <span class="hljs-built_in">String</span> strURL= <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"strURL"</span>);
    <span class="hljs-built_in">String</span> strXML= <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"strXML"</span>);
    <span class="hljs-built_in">String</span> chartId= <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"chartId"</span>);
    <span class="hljs-built_in">String</span> chartWidthStr= <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"chartWidth"</span>);
    <span class="hljs-built_in">String</span> chartHeightStr= <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"chartHeight"</span>);
    <span class="hljs-built_in">String</span> debugModeStr= <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"debugMode"</span>); // <span class="hljs-keyword">not</span> used <span class="hljs-keyword">in</span> Free version
    <span class="hljs-built_in">String</span> registerWithJSStr= <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"registerWithJS"</span>); 

    <span class="hljs-built_in">String</span> wMode = <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"wMode"</span>); 
    <span class="hljs-built_in">String</span> color = <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"color"</span>); 
    <span class="hljs-built_in">String</span> scaleMode = <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"scaleMode"</span>); 
    <span class="hljs-built_in">String</span> lang = <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"lang"</span>); 


    <span class="hljs-built_in">int</span> chartWidth= <span class="hljs-number">0</span>;
    <span class="hljs-built_in">int</span> chartHeight=<span class="hljs-number">0</span>;
    Boolean debugMode=<span class="hljs-keyword">new</span> Boolean(<span class="hljs-string">"false"</span>);
    Boolean registerWithJS=<span class="hljs-keyword">new</span> Boolean(<span class="hljs-string">"false"</span>);
    <span class="hljs-built_in">int</span> debugModeInt =<span class="hljs-number">0</span>;
    <span class="hljs-built_in">int</span> regWithJSInt =<span class="hljs-number">0</span>;

    <span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>!=chartWidthStr &amp;&amp; !chartWidthStr.equals(<span class="hljs-string">""</span>)){
        chartWidth = Integer.parseInt(chartWidthStr);
    }
    <span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>!=chartHeightStr &amp;&amp; !chartHeightStr.equals(<span class="hljs-string">""</span>)){
        chartHeight = Integer.parseInt(chartHeightStr);
    }
    <span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>!=debugModeStr &amp;&amp; !debugModeStr.equals(<span class="hljs-string">""</span>)){
        debugMode = <span class="hljs-keyword">new</span> Boolean(debugModeStr);
        debugModeInt= boolToNum(debugMode);
    }
    <span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>!=registerWithJSStr &amp;&amp; !registerWithJSStr.equals(<span class="hljs-string">""</span>)){
        registerWithJS = <span class="hljs-keyword">new</span> Boolean(registerWithJSStr);
        regWithJSInt=boolToNum(registerWithJS);
    }


    <span class="hljs-keyword">if</span>(wMode==<span class="hljs-literal">null</span>) 
        wMode=<span class="hljs-string">""</span>;
    <span class="hljs-keyword">if</span>(scaleMode==<span class="hljs-literal">null</span>) 
        scaleMode=<span class="hljs-string">""</span>;
    <span class="hljs-keyword">if</span>(color==<span class="hljs-literal">null</span>)
        color=<span class="hljs-string">""</span>;
    <span class="hljs-keyword">if</span>(lang==<span class="hljs-literal">null</span>)
        lang=<span class="hljs-string">""</span>;

    <span class="hljs-built_in">String</span> strFlashVars=<span class="hljs-string">""</span>;
    strFlashVars = <span class="hljs-string">"chartWidth="</span> + chartWidth + <span class="hljs-string">"&amp;chartHeight="</span>
    + chartHeight + <span class="hljs-string">"&amp;DOMId="</span> + chartId + <span class="hljs-string">"&amp;debugMode="</span> + debugModeInt + <span class="hljs-string">"&amp;registerWithJS="</span> + regWithJSInt;

    <span class="hljs-keyword">if</span> (strXML==<span class="hljs-literal">null</span> || strXML.equals(<span class="hljs-string">""</span>)) {
        // DataURL Mode
        strFlashVars +=<span class="hljs-string">"&amp;dataURL="</span> + strURL + <span class="hljs-string">""</span>;
    } <span class="hljs-keyword">else</span> {
        // dataStr Mode
        strFlashVars += <span class="hljs-string">"&amp;dataXML="</span> + strXML + <span class="hljs-string">""</span>;
    }
    strFlashVars+= <span class="hljs-string">"&amp;scaleMode="</span> + scaleMode+ <span class="hljs-string">"&amp;lang="</span> + lang;


%&gt;</span> 
            <span class="hljs-comment">&lt;!--START Code Block for Chart &lt;%=chartId%&gt; --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">object</span> <span class="hljs-attribute">classid</span>=<span class="hljs-value">"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"</span> <span class="hljs-attribute">codebase</span>=<span class="hljs-value">"http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0"</span> 
            <span class="hljs-attribute">width</span>=<span class="hljs-value">"&lt;%= chartWidth%&gt;"</span> <span class="hljs-attribute">height</span>=<span class="hljs-value">"&lt;%= chartHeight%&gt;"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"&lt;%= chartId%&gt;"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">param</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"allowScriptAccess"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"always"</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">param</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"movie"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"&lt;%=chartSWF%&gt;"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">param</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"FlashVars"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"&lt;%=strFlashVars%&gt;"</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">param</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"quality"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"high"</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">param</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"wmode"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"&lt;%=wMode%&gt;"</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">param</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"bgcolor"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"&lt;%=color%&gt;"</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">embed</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"&lt;%=chartSWF%&gt;"</span> <span class="hljs-attribute">FlashVars</span>=<span class="hljs-value">"&lt;%=strFlashVars%&gt;"</span> 
            <span class="hljs-attribute">quality</span>=<span class="hljs-value">"high"</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"&lt;%=chartWidth%&gt;"</span> 
            <span class="hljs-attribute">height</span>=<span class="hljs-value">"&lt;%=chartHeight%&gt;"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"&lt;%=chartId%&gt;"</span>
            <span class="hljs-attribute">allowScriptAccess</span>=<span class="hljs-value">"always"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"application/x-shockwave-flash"</span> 
                        <span class="hljs-attribute">pluginspage</span>=<span class="hljs-value">"http://www.macromedia.com/go/getflashplayer"</span> 
                        <span class="hljs-attribute">wmode</span>=<span class="hljs-value">"transparent"</span> <span class="hljs-attribute">bgcolor</span>=<span class="hljs-value">"&lt;%=color%&gt;"</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">object</span>&gt;</span>
            <span class="hljs-comment">&lt;!--END Code Block for Chart &lt;%=chartId%&gt; --&gt;</span>
<span class="vbscript">&lt;%!
    /**
     * Converts a Boolean value <span class="hljs-keyword">to</span> <span class="hljs-built_in">int</span> value&lt;br&gt;
     * 
     * @param bool Boolean value which needs <span class="hljs-keyword">to</span> be converted <span class="hljs-keyword">to</span> <span class="hljs-built_in">int</span> value 
     * @return <span class="hljs-built_in">int</span> value correspoding <span class="hljs-keyword">to</span> the boolean : <span class="hljs-number">1</span> <span class="hljs-keyword">for</span> <span class="hljs-literal">true</span> <span class="hljs-keyword">and</span> <span class="hljs-number">0</span> <span class="hljs-keyword">for</span> <span class="hljs-literal">false</span>
     */
   <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> boolToNum(Boolean bool) {
    <span class="hljs-built_in">int</span> num = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">if</span> (bool.booleanValue()) {
        num = <span class="hljs-number">1</span>;
    }
    return num;
    }
%&gt;</span></code></pre>

<p>fusionChartsReader.jsp:</p>



<pre class="prettyprint"><code class=" hljs xml"><span class="vbscript">&lt;%@page import=<span class="hljs-string">"com.fusioncharts.helper.FCParameters"</span> %&gt;</span>
<span class="vbscript">&lt;%
    /*
     * Version <span class="hljs-number">2.0</span>: 
     * Added JS v3<span class="hljs-number">.2</span> constructor <span class="hljs-keyword">call</span> <span class="hljs-keyword">with</span> object style parameters.
     * Added strJSON, dataFormat, renderer <span class="hljs-keyword">and</span> renderAt as parameters.
     * Version: <span class="hljs-number">1.1</span>:
     * Added support <span class="hljs-keyword">for</span> all the parameters like wMode etc.
     * Works <span class="hljs-keyword">with</span> all jdk versions &gt;=<span class="hljs-number">1.4</span>.
     * Creates the JavaScript + HTML code required <span class="hljs-keyword">to</span> embed a chart.&lt;br&gt;
     * Uses the javascript FusionCharts <span class="hljs-keyword">class</span> <span class="hljs-keyword">to</span> create the chart by supplying &lt;br&gt;
     * the required parameters <span class="hljs-keyword">to</span> it.&lt;br&gt;
     * Note: Only one of the parameters dataURL <span class="hljs-keyword">or</span> dataStr has <span class="hljs-keyword">to</span> be non-<span class="hljs-literal">empty</span> <span class="hljs-keyword">for</span> this&lt;br&gt;
     * method <span class="hljs-keyword">to</span> work. <span class="hljs-keyword">If</span> both the parameters are provided <span class="hljs-keyword">then</span> dataURL <span class="hljs-keyword">is</span> used <span class="hljs-keyword">for</span> further processing.&lt;br&gt;
     * 
     * @param chartSWF -
     *                SWF File Name (<span class="hljs-keyword">and</span> Path) of the chart which you intend
     *                <span class="hljs-keyword">to</span> plot
     * @param strURL -
     *                <span class="hljs-keyword">If</span> you intend <span class="hljs-keyword">to</span> use dataURL method <span class="hljs-keyword">for</span> this chart,
     *                pass the URL as this parameter. <span class="hljs-keyword">Else</span>, <span class="hljs-keyword">set</span> it <span class="hljs-keyword">to</span> <span class="hljs-string">""</span> (<span class="hljs-keyword">in</span>
     *                <span class="hljs-keyword">case</span> of dataStr method)
     * @param strXML -
     *                <span class="hljs-keyword">If</span> you intend <span class="hljs-keyword">to</span> use dataStr method <span class="hljs-keyword">for</span> this chart,
     *                pass the XML data as this parameter. <span class="hljs-keyword">Else</span>, <span class="hljs-keyword">set</span> it <span class="hljs-keyword">to</span> <span class="hljs-string">""</span>
     *                (<span class="hljs-keyword">in</span> <span class="hljs-keyword">case</span> of dataURL method)
     * @param strJSON -
     *                <span class="hljs-keyword">If</span> you intend <span class="hljs-keyword">to</span> use dataStr method <span class="hljs-keyword">for</span> this chart,
     *                pass the JSON data as this parameter. <span class="hljs-keyword">Else</span>, <span class="hljs-keyword">set</span> it <span class="hljs-keyword">to</span> <span class="hljs-string">""</span>
     *                (<span class="hljs-keyword">in</span> <span class="hljs-keyword">case</span> of dataURL/xml method)
     * @param chartId -
     *                Id <span class="hljs-keyword">for</span> the chart, using which it will be recognized <span class="hljs-keyword">in</span>
     *                the HTML page. <span class="hljs-keyword">Each</span> chart <span class="hljs-keyword">on</span> the page needs <span class="hljs-keyword">to</span> have a
     *                unique Id.
     * @param chartWidth -
     *                Intended width <span class="hljs-keyword">for</span> the chart (<span class="hljs-keyword">in</span> pixels)
     * @param chartHeight -
     *                Intended height <span class="hljs-keyword">for</span> the chart (<span class="hljs-keyword">in</span> pixels)
     * @param debugMode -
     *                Whether <span class="hljs-keyword">to</span> start the chart <span class="hljs-keyword">in</span> debug mode 
     * @param registerWithJS -
     *                Whether <span class="hljs-keyword">to</span> ask chart <span class="hljs-keyword">to</span> register itself <span class="hljs-keyword">with</span>
     *                JavaScript
     * @param wMode -
     * @param color -
     * @param scaleMode -
     * @param lang -
     * @param detectFlashVersion -
     * @param autoInstallRedirect -
     */
%&gt;</span>
<span class="vbscript">&lt;%
    <span class="hljs-built_in">String</span> chartSWF = <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"chartSWF"</span>);
    <span class="hljs-built_in">String</span> strURL = <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"strURL"</span>);
    <span class="hljs-built_in">String</span> strXML = <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"strXML"</span>);
    <span class="hljs-built_in">String</span> strJSON = <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"strJSON"</span>);
    <span class="hljs-built_in">String</span> chartId = <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"chartId"</span>);
    <span class="hljs-built_in">String</span> chartWidthStr = <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"chartWidth"</span>);
    <span class="hljs-built_in">String</span> chartHeightStr = <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"chartHeight"</span>);
    <span class="hljs-built_in">String</span> debugModeStr= <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"debugMode"</span>); 
    <span class="hljs-built_in">String</span> registerWithJSStr= <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"registerWithJS"</span>); 

    <span class="hljs-built_in">String</span> wMode = <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"wMode"</span>); 
    <span class="hljs-built_in">String</span> color = <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"color"</span>); 
    <span class="hljs-built_in">String</span> scaleMode = <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"scaleMode"</span>); 
    <span class="hljs-built_in">String</span> lang = <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"lang"</span>); 
    <span class="hljs-built_in">String</span> detectFlashVersion = <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"detectFlashVersion"</span>); 
    <span class="hljs-built_in">String</span> autoInstallRedirect= <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"autoInstallRedirect"</span>);

    <span class="hljs-built_in">String</span> dataFormat= <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"dataFormat"</span>); 
    <span class="hljs-built_in">String</span> renderer= <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"renderer"</span>); 
    <span class="hljs-built_in">String</span> renderAt= <span class="hljs-built_in">request</span>.getParameter(<span class="hljs-string">"renderAt"</span>); 

    <span class="hljs-built_in">int</span> chartWidth = <span class="hljs-number">600</span>;
    <span class="hljs-built_in">int</span> chartHeight = <span class="hljs-number">300</span>;
    Boolean debugMode=<span class="hljs-keyword">new</span> Boolean(<span class="hljs-string">"false"</span>);
    Boolean registerWithJS=<span class="hljs-keyword">new</span> Boolean(<span class="hljs-string">"false"</span>);
    <span class="hljs-built_in">int</span> debugModeInt = <span class="hljs-number">0</span>;
    <span class="hljs-built_in">int</span> regWithJSInt = <span class="hljs-number">0</span>;


    <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> != chartWidthStr &amp;&amp; !chartWidthStr.equals(<span class="hljs-string">""</span>)) {
        chartWidth = Integer.parseInt(chartWidthStr);
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> != chartHeightStr &amp;&amp; !chartHeightStr.equals(<span class="hljs-string">""</span>)) {
        chartHeight = Integer.parseInt(chartHeightStr);
    }
    <span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>!=debugModeStr &amp;&amp; !debugModeStr.equals(<span class="hljs-string">""</span>)){
        debugMode = <span class="hljs-keyword">new</span> Boolean(debugModeStr);
        debugModeInt=boolToNum(debugMode);
    }
    <span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>!=registerWithJSStr &amp;&amp; !registerWithJSStr.equals(<span class="hljs-string">""</span>)){
        registerWithJS = <span class="hljs-keyword">new</span> Boolean(registerWithJSStr);
        regWithJSInt=boolToNum(registerWithJS);
    }
    <span class="hljs-keyword">if</span>(renderer==<span class="hljs-literal">null</span>) 
        renderer=<span class="hljs-string">"flash"</span>; // <span class="hljs-keyword">default</span> value
    <span class="hljs-keyword">if</span>(renderAt==<span class="hljs-literal">null</span>) 
        renderAt=chartId+<span class="hljs-string">"Div"</span>;


    <span class="hljs-built_in">String</span> dataSource = <span class="hljs-string">""</span>;
    // Check whether we<span class="hljs-comment">'ve to provide data using dataStr method or dataURL</span>
    // method

    <span class="hljs-keyword">if</span> (strURL!=<span class="hljs-literal">null</span> &amp;&amp; !strURL.equals(<span class="hljs-string">""</span>)) {
        dataSource = strURL;
        dataFormat =( dataFormat==<span class="hljs-literal">null</span> ? <span class="hljs-string">"xmlurl"</span> : dataFormat);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(strXML!=<span class="hljs-literal">null</span> &amp;&amp; !strXML.equals(<span class="hljs-string">""</span>)){
        dataSource = strXML;
        dataFormat =( dataFormat==<span class="hljs-literal">null</span> ? <span class="hljs-string">"xml"</span> : dataFormat);
    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(strJSON!=<span class="hljs-literal">null</span> &amp;&amp; !strJSON.equals(<span class="hljs-string">""</span>)){
        dataSource = strJSON;
        dataFormat =( dataFormat==<span class="hljs-literal">null</span> ? <span class="hljs-string">"json"</span> : dataFormat);
    }

    FCParameters fcParams = <span class="hljs-keyword">new</span> FCParameters(chartSWF, chartId,
            <span class="hljs-string">""</span>+chartWidth, <span class="hljs-string">""</span>+chartHeight, <span class="hljs-string">""</span> + debugModeInt, <span class="hljs-string">""</span> + regWithJSInt,
            wMode, color, scaleMode, lang, detectFlashVersion,
            autoInstallRedirect, dataSource, dataFormat, renderer,
            renderAt);
    <span class="hljs-built_in">String</span> paramsInJSON = fcParams.toJSON();
%&gt;</span>
            <span class="hljs-comment">&lt;!-- START Script Block for Chart &lt;%=chartId%&gt; --&gt;</span>
            <span class="vbscript">&lt;% <span class="hljs-keyword">if</span>(renderAt.equals(chartId+<span class="hljs-string">"Div"</span>)) { 
            // output this chartIdDiv div only <span class="hljs-keyword">if</span> chart <span class="hljs-keyword">is</span> being rendered <span class="hljs-keyword">in</span> it
            %&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">'&lt;%=chartId %&gt;Div'</span> <span class="hljs-attribute">align</span>=<span class="hljs-value">'center'</span>&gt;</span>Chart.<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
            <span class="vbscript">&lt;% } %&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">'text/javascript'</span>&gt;</span><span class="javascript">
                <span class="hljs-keyword">var</span> chart_&lt;%=chartId%&gt; = <span class="hljs-keyword">new</span> FusionCharts(<span class="xml"><span class="vbscript">&lt;%=paramsInJSON%&gt;</span>).render();
            </span></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
            <span class="hljs-comment">&lt;!--END Script Block for Chart &lt;%=chartId%&gt; --&gt;</span>
<span class="vbscript">&lt;%!
    /**
     * Converts a Boolean value <span class="hljs-keyword">to</span> <span class="hljs-built_in">int</span> value&lt;br&gt;
     * 
     * @param bool Boolean value which needs <span class="hljs-keyword">to</span> be converted <span class="hljs-keyword">to</span> <span class="hljs-built_in">int</span> value 
     * @return <span class="hljs-built_in">int</span> value correspoding <span class="hljs-keyword">to</span> the boolean : <span class="hljs-number">1</span> <span class="hljs-keyword">for</span> <span class="hljs-literal">true</span> <span class="hljs-keyword">and</span> <span class="hljs-number">0</span> <span class="hljs-keyword">for</span> <span class="hljs-literal">false</span>
     */
   <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> boolToNum(Boolean bool) {
    <span class="hljs-built_in">int</span> num = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">if</span> (bool.booleanValue()) {
        num = <span class="hljs-number">1</span>;
    }
    return num;
    }
%&gt;</span></code></pre>

<p>写个index.jsp: <br/>
Javascript：</p>

<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="javascript">

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">selectType</span><span class="hljs-params">()</span>{</span>
        <span class="hljs-keyword">var</span> typeValue = $(<span class="hljs-string">"#combobox"</span>).val();
        window.location.href=<span class="hljs-string">"fusioncharts/selectType?type="</span>+typeValue;

    }
  </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span></code></pre>

<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-comment">&lt;!--[if lte IE 9]&gt;
&lt;p class="browsehappy"&gt;你正在使用&lt;strong&gt;过时&lt;/strong&gt;的浏览器，系统 暂不支持。 请 &lt;a href="http://browsehappy.com/" target="_blank"&gt;升级浏览器&lt;/a&gt;
  以获得更好的体验！&lt;/p&gt;
&lt;![endif]--&gt;</span>

   <span class="hljs-comment">&lt;!-- 页面顶部¨ --&gt;</span>
   <span class="vbscript">&lt;%@ include file=<span class="hljs-string">"../admin/head.jsp"</span>%&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"am-cf admin-main"</span>&gt;</span>

  <span class="hljs-comment">&lt;!-- 左侧菜单• --&gt;</span>
  <span class="vbscript">&lt;%@ include file=<span class="hljs-string">"../admin/left.jsp"</span>%&gt;</span>

  <span class="hljs-comment">&lt;!-- content start --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"admin-content"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"am-cf am-padding"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"am-fl am-cf"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">strong</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"am-text-primary am-text-lg"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"main/index"</span>&gt;</span>首页<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">strong</span>&gt;</span> / <span class="hljs-tag">&lt;<span class="hljs-title">small</span>&gt;</span>图表统计<span class="hljs-tag">&lt;/<span class="hljs-title">small</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"am-g"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"am-u-sm-12"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"float:left;"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">label</span>&gt;</span>图表类型:<span class="hljs-tag">&lt;/<span class="hljs-title">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">select</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"combobox"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">option</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"Column2D"</span>&gt;</span>柱形图2D<span class="hljs-tag">&lt;/<span class="hljs-title">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">option</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"Column3D"</span>&gt;</span>柱形图3D<span class="hljs-tag">&lt;/<span class="hljs-title">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">option</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"Pie2D"</span>&gt;</span>扇形图2D<span class="hljs-tag">&lt;/<span class="hljs-title">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">option</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"Pie3D"</span>&gt;</span>扇形图3D<span class="hljs-tag">&lt;/<span class="hljs-title">option</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">select</span>&gt;</span>&amp;nbsp;
            <span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"javascript:selectType();"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"easyui-linkbutton"</span> <span class="hljs-attribute">data-options</span>=<span class="hljs-value">"iconCls:'icon-search'"</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"width:80px"</span>&gt;</span>Search<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">table</span> <span class="hljs-attribute">border</span>=<span class="hljs-value">"0"</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"50%"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">jsp:include</span> <span class="hljs-attribute">page</span>=<span class="hljs-value">"fusionChartsHTMLRenderer.jsp"</span> <span class="hljs-attribute">flush</span>=<span class="hljs-value">"true"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">jsp:param</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"chartSWF"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"${typeValue }"</span> /&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">jsp:param</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"strURL"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">""</span> /&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">jsp:param</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"strXML"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"${strXML }"</span> /&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">jsp:param</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"chartId"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"myNext"</span> /&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">jsp:param</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"chartWidth"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"500"</span> /&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">jsp:param</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"chartHeight"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"300"</span> /&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">jsp:param</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"debugMode"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"false"</span> /&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-title">jsp:include</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">table</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>

  <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>    
  <span class="hljs-comment">&lt;!-- content end --&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
<span class="hljs-comment">&lt;!-- basic scripts --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"source/1.9.1/jquery.min.js"</span>&gt;</span><span class="javascript"/><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span></code></pre>

<p>SpringMVC框架写个Controller类：</p>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> com.appms.controller.fusioncharts;

<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.Random;

<span class="hljs-keyword">import</span> javax.annotation.Resource;

<span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;
<span class="hljs-keyword">import</span> org.springframework.web.servlet.ModelAndView;

<span class="hljs-keyword">import</span> com.appms.base.BaseController;
<span class="hljs-keyword">import</span> com.appms.entity.PageData;
<span class="hljs-keyword">import</span> com.appms.service.app.GroupClassifyService;
<span class="hljs-keyword">import</span> com.appms.service.app.GroupPostService;

<span class="hljs-annotation">@Controller</span>
<span class="hljs-annotation">@RequestMapping</span>(<span class="hljs-string">"/fusioncharts"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FusionChartsController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseController</span>{</span>

    <span class="hljs-annotation">@Resource</span>(name=<span class="hljs-string">"groupClassifyService"</span>)
    GroupClassifyService groupClassifyService;
    <span class="hljs-annotation">@Resource</span>(name=<span class="hljs-string">"groupPostService"</span>)
    GroupPostService groupPostService;

    <span class="hljs-javadoc">/**
     * 统计报表首页
     *<span class="hljs-javadoctag"> @return</span>
     *<span class="hljs-javadoctag"> @throws</span> Exception
     */</span>
    <span class="hljs-annotation">@RequestMapping</span>(<span class="hljs-string">"/index"</span>)
    <span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title">goIndex</span>() <span class="hljs-keyword">throws</span> Exception{
        ModelAndView mv = <span class="hljs-keyword">this</span>.getModelAndView();
        List&lt;PageData&gt; classifyList = groupClassifyService.getAllClassify();
        mv.setViewName(<span class="hljs-string">"fusioncharts/fusioncharts_index"</span>);
        String strXML = <span class="hljs-string">""</span>;
        strXML += <span class="hljs-string">"&lt;graph caption='对比表' xAxisName='圈子' yAxisName='话题数量' decimalPrecision='0' formatNumberScale='0'&gt;"</span>;
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;classifyList.size();i++){
        strXML += <span class="hljs-string">"&lt;set name='"</span>+classifyList.get(i).getString(<span class="hljs-string">"classifyName"</span>)+
                <span class="hljs-string">"' value='"</span>+groupPostService.countPost(classifyList.get(i).get(<span class="hljs-string">"classifyID"</span>).toString())+
                <span class="hljs-string">"' color='"</span>+randomColor()+<span class="hljs-string">"'/&gt;"</span>;
        }
        strXML += <span class="hljs-string">"&lt;/graph&gt;"</span>;
        String typeValue = <span class="hljs-string">"source/FusionCharts/Column2D.swf"</span>;
        mv.addObject(<span class="hljs-string">"strXML"</span>,strXML);
        mv.addObject(<span class="hljs-string">"typeValue"</span>,typeValue);
        <span class="hljs-keyword">return</span> mv;
    }
    <span class="hljs-javadoc">/**
     * 选择图表类型
     *<span class="hljs-javadoctag"> @return</span>
     *<span class="hljs-javadoctag"> @throws</span> Exception
     */</span>
    <span class="hljs-annotation">@RequestMapping</span>(value=<span class="hljs-string">"/selectType"</span>)
    <span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title">selectType</span>()<span class="hljs-keyword">throws</span> Exception{
        ModelAndView model = <span class="hljs-keyword">this</span>.getModelAndView();
        List&lt;PageData&gt; classifyList = groupClassifyService.getAllClassify();
        PageData pd = <span class="hljs-keyword">new</span> PageData();
        pd = <span class="hljs-keyword">this</span>.getPageData();
        String type = pd.getString(<span class="hljs-string">"type"</span>);
        String typeValue = <span class="hljs-string">"source/FusionCharts/Column2D.swf"</span>;
        <span class="hljs-keyword">if</span>(type.equals(<span class="hljs-string">"Column2D"</span>)){
            typeValue = <span class="hljs-string">"source/FusionCharts/Column2D.swf"</span>;
        }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(type.equals(<span class="hljs-string">"Column3D"</span>)){
            typeValue = <span class="hljs-string">"source/FusionCharts/Column3D.swf"</span>;
        }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(type.equals(<span class="hljs-string">"Pie2D"</span>)){
            typeValue = <span class="hljs-string">"source/FusionCharts/Pie2D.swf"</span>;
        }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(type.equals(<span class="hljs-string">"Pie3D"</span>)){
            typeValue = <span class="hljs-string">"source/FusionCharts/Pie3D.swf"</span>;
        }
        String strXML = <span class="hljs-string">""</span>;
        strXML += <span class="hljs-string">"&lt;graph caption='圈子统计' xAxisName='圈子' yAxisName='话题数量' decimalPrecision='0' formatNumberScale='0'&gt;"</span>;
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;classifyList.size();i++){
        strXML += <span class="hljs-string">"&lt;set name='"</span>+classifyList.get(i).getString(<span class="hljs-string">"classifyName"</span>)+
                <span class="hljs-string">"' value='"</span>+groupPostService.countPost(classifyList.get(i).get(<span class="hljs-string">"classifyID"</span>).toString())+
                <span class="hljs-string">"' color='"</span>+randomColor()+<span class="hljs-string">"'/&gt;"</span>;
        }
        strXML += <span class="hljs-string">"&lt;/graph&gt;"</span>;
        model.addObject(<span class="hljs-string">"strXML"</span>, strXML);
        model.addObject(<span class="hljs-string">"typeValue"</span>,typeValue);
        model.setViewName(<span class="hljs-string">"fusioncharts/fusioncharts_index"</span>);
        <span class="hljs-keyword">return</span> model;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title">randomColor</span>(){
        <span class="hljs-comment">//红色</span>
        String red; 
        <span class="hljs-comment">//绿色</span>
        String green;
        <span class="hljs-comment">//蓝色</span>
        String blue;
        <span class="hljs-comment">//生成随机对象</span>
        Random random = <span class="hljs-keyword">new</span> Random();  
        <span class="hljs-comment">//生成红色颜色代码</span>
        red = Integer.toHexString(random.nextInt(<span class="hljs-number">256</span>)).toUpperCase();
        <span class="hljs-comment">//生成绿色颜色代码</span>
        green = Integer.toHexString(random.nextInt(<span class="hljs-number">256</span>)).toUpperCase(); 
        <span class="hljs-comment">//生成蓝色颜色代码</span>
        blue = Integer.toHexString(random.nextInt(<span class="hljs-number">256</span>)).toUpperCase();  

        <span class="hljs-comment">//判断红色代码的位数</span>
        red = red.length()==<span class="hljs-number">1</span> ? <span class="hljs-string">"0"</span> + red : red ;  
        <span class="hljs-comment">//判断绿色代码的位数</span>
        green = green.length()==<span class="hljs-number">1</span> ? <span class="hljs-string">"0"</span> + green : green ; 
        <span class="hljs-comment">//判断蓝色代码的位数</span>
        blue = blue.length()==<span class="hljs-number">1</span> ? <span class="hljs-string">"0"</span> + blue : blue ;
        <span class="hljs-comment">//生成十六进制颜色值</span>
        String color = <span class="hljs-string">"#"</span>+red+green+blue;
        <span class="hljs-keyword">return</span> color;
    }

}
</code></pre>

<p><img src="http://img.blog.csdn.net/20161227164100359?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxNDQyNzM5MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title=""/></p>

<p><img src="http://img.blog.csdn.net/20161227164111234?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxNDQyNzM5MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title=""/></p><link rel="stylesheet" href="http://static.blog.csdn.net/public/res-min/markdown_views.css?v=1.0"/></div><link rel="stylesheet" href="http://static.blog.csdn.net/public/res-min/markdown_views.css?v=1.0"/>&#13;
            