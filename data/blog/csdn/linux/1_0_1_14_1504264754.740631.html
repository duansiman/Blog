
                <div class="markdown_views"><h2 id="shell基本命令">Shell基本命令</h2>

<p>几个基本的shell命令，用ssh管理主机必备。 <br/>
1.ls  列出目录下的文件，不同类型的文件颜色不同，例如蓝色是文件夹，白色是文件</p>



<pre class="prettyprint"><code class=" hljs mel">[root<span class="hljs-variable">@restoretmp</span> steph]# <span class="hljs-keyword">ls</span>
<span class="hljs-keyword">file</span>.html public_html  test
[root<span class="hljs-variable">@restoretmp</span> steph]#
参数：
<span class="hljs-keyword">ls</span> -a 列出所有文件，包括隐藏文件
[root<span class="hljs-variable">@restoretmp</span> steph]# <span class="hljs-keyword">ls</span> -a
.  ..  .bash_logout  .bash_profile  .bashrc  <span class="hljs-keyword">file</span>.html public_html  test
[root<span class="hljs-variable">@restoretmp</span> steph]#
<span class="hljs-keyword">ls</span> -l 列出所有者 <span class="hljs-keyword">size</span> 文件权限 修改日期
<span class="hljs-keyword">ls</span> -R 递归列出所有子目录的内容</code></pre>

<ol>
<li>cd  转移目录</li>
</ol>



<pre class="prettyprint"><code class=" hljs bash"><span class="hljs-built_in">cd</span> /home/steph 将转移到/home/steph
<span class="hljs-built_in">cd</span> .. 上移一个目录
<span class="hljs-built_in">cd</span> 回到根目录</code></pre>

<ol>
<li>建立新文件和文件夹</li>
</ol>



<pre class="prettyprint"><code class=" hljs lasso">touch <span class="hljs-literal">new</span><span class="hljs-attribute">-filename</span> 建立新文件
mkdir <span class="hljs-literal">new</span><span class="hljs-attribute">-directory</span> 建立新目录</code></pre>

<p>4.删除文件和目录</p>



<pre class="prettyprint"><code class=" hljs perl">rm filename 删除名为 filename的文件
<span class="hljs-keyword">rmdir</span> foldername 删除名为foldername的目录</code></pre>

<p>5.修改文件夹权限</p>



<pre class="prettyprint"><code class=" hljs perl"><span class="hljs-keyword">chmod</span> <span class="hljs-number">755</span> foldername 将把名为foldername的文件夹的权限修改为<span class="hljs-number">755</span></code></pre>

<p>6.修改用户</p>



<pre class="prettyprint"><code class=" hljs css"><span class="hljs-tag">chown</span> <span class="hljs-tag">steph</span><span class="hljs-pseudo">:steph</span> <span class="hljs-tag">file</span><span class="hljs-class">.html</span> 把<span class="hljs-tag">file</span><span class="hljs-class">.html</span>的用户修改为<span class="hljs-tag">steph</span><span class="hljs-pseudo">:steph</span></code></pre>

<ol>
<li>压缩和解压缩文件</li>
</ol>



<pre class="prettyprint"><code class=" hljs avrasm">gzip 和 gunzip

压缩: 
gzip  filename
文件即会被压缩，并被保存为 filename<span class="hljs-preprocessor">.gz</span>

解压缩: 
gunzip filename<span class="hljs-preprocessor">.gz</span>
filename<span class="hljs-preprocessor">.gz</span> 会被删除，而继之以 filename
可以通过命令man gip 和man gunzip获得命令的详细说明.

zip 和 unzip
要使用 zip 来压缩文件，在 shell 提示下键入下面的命令：
zip -r filename<span class="hljs-preprocessor">.zip</span> filesdir</code></pre>

<p>在这个例子里，filename.zip 代表你创建的文件，filesdir 代表你想放置新 zip 文件的目录。-r 选项指定你想递归地（recursively）包括所有包括在 filesdir 目录中的文件。</p>

<p>要解压缩 zip 文件的内容，键入以下命令：</p>

<p>unzip filename.zip</p>

<p>你可以使用 zip 命令同时处理多个文件和目录，方法是将它们逐一列出，并用空格间隔：</p>

<p>zip -r filename.zip file1 file2 file3 /usr/work/school</p>

<p>上面的命令把 file1、file2、 file3、以及 /usr/work/school 目录的内容（假设这个目录存在）压缩起来，然后放入 filename.zip 文件中。</p>

<p>运行FTP Wget实现上传下载 <br/>
1. 用FTP将服务器上的文件上传到其他服务器</p>



<pre class="prettyprint"><code class=" hljs ruby">[root]<span class="hljs-variable">$ </span>ftp     /*启用<span class="hljs-constant">FTP</span>客户端
ftp&gt; open  <span class="hljs-number">202.103</span>.<span class="hljs-number">1.2</span>   /*打开远程服务器<span class="hljs-constant">IP</span>
<span class="hljs-constant">Connected</span> to <span class="hljs-number">202.103</span>.<span class="hljs-number">1.2</span>.
<span class="hljs-number">220</span> <span class="hljs-constant">ProFTPD</span> <span class="hljs-number">1.2</span>.<span class="hljs-number">9</span> <span class="hljs-constant">Server</span> ready.
<span class="hljs-constant">Name</span> (<span class="hljs-number">218.93</span>.<span class="hljs-number">205.112</span><span class="hljs-symbol">:qqroot</span>)<span class="hljs-symbol">:</span> user  /*输入用户名
<span class="hljs-number">331</span> <span class="hljs-constant">Password</span> required <span class="hljs-keyword">for</span> oran.
<span class="hljs-constant">Password</span><span class="hljs-symbol">:</span>                  /*输入密码
<span class="hljs-number">230</span> <span class="hljs-constant">User</span> oran logged <span class="hljs-keyword">in</span>.
put idcspy.tar.gz idcspy.tar.gz</code></pre>

<p>/*这是关键，put是上传命令，第一个idcspy.tar.gz是本地文件名，第二个是远程文件名。。意思就是把本地的idcspy.tar.gz上传到远程FTP里，并且命名为idcspy.tar.gz这样，SSH就可以自己上传了。你就可以做别的事情了。</p>

<ol>
<li>Wget下载文件</li>
</ol>

<p>使用方法：</p>

<p>wget的使用形式是：</p>

<p>wget [参数列表] URL</p>

<p>首先来介绍一下wget的主要参数：</p>

<p>· -b：让wget在后台运行，记录文件写在当前目录下”wget-log”文件中；</p>

<p>· -t [nuber of times]：尝试次数，当wget无法与服务器建立连接时，尝试连接多少次</p>

<p>。比如”-t</p>

<p>120〃表示尝试120次。当这一项为”0〃的时候，指定尝试无穷多次直到连接成功为止，这个</p>

<p>设置非常有用，当对方服务器突然关机或者网络突然中断的时候，可以在恢复正常后继续</p>

<p>下载没有传完的文件；</p>

<p>· -c：断点续传，这也是个非常有用的设置，特别当下载比较大的文件的时候，如果中</p>

<p>途意外中断，那么连接恢复的时候会从上次没传完的地方接着传，而不是又从头开始，使</p>

<p>用这一项需要远程服务器也支持断点续传，一般来讲，基于UNIX/Linux的Web/FTP服务器</p>

<p>都支持断点续传；</p>

<p>· -T [number of seconds]：超时时间，指定多长时间远程服务器没有响应就中断连接</p>

<p>，开始下一次尝试。比如”-T</p>

<p>120〃表示如果120秒以后远程服务器没有发过来数据，就重新尝试连接。如果网络速度比</p>

<p>较快，这个时间可以设置的短些，相反，可以设置的长一些，一般最多不超过900，通常</p>

<p>也不少于60，一般设置在120左右比较合适；</p>

<p>· -w [number of seconds]：在两次尝试之间等待多少秒，比如”-w 100〃表示两次尝试</p>

<p>之间等待100秒；</p>

<p>· -Y on/off：通过／不通过代理服务器进行连接；</p>

<p>· -Q [byetes]：限制下载文件的总大小最多不能超过多少，比如”-Q2k”表示不能超过2K</p>

<p>字节，”-Q3m”表示最多不能超过3M字节，如果数字后面什么都不加，就表示是以字节为单</p>

<p>位，比如”-Q200〃表示最多不能超过200字节；</p>

<p>· -nd：不下载目录结构，把从服务器所有指定目录下载的文件都堆到当前目录里；</p>

<p>· -x：与”-nd”设置刚好相反，创建完整的目录结构，例如”wget -nd</p>

<p><a href="http://www.gnu.org">http://www.gnu.org</a>“将创建在当前目录下创建”www.gnu.org”子目录，然后按照服务器</p>

<p>实际的目录结构一级一级建下去，直到所有的文件都传完为止；</p>

<p>· -nH：不创建以目标主机域名为目录名的目录，将目标主机的目录结构直接下到当前目</p>

<p>录下；</p>



<pre class="prettyprint"><code class=" hljs lasso">· –http<span class="hljs-attribute">-user</span><span class="hljs-subst">=</span>username

· –http<span class="hljs-attribute">-passwd</span><span class="hljs-subst">=</span>password：如果Web服务器需要指定用户名和口令，用这两项来设定；

· –proxy<span class="hljs-attribute">-user</span><span class="hljs-subst">=</span>username

· –proxy<span class="hljs-attribute">-passwd</span><span class="hljs-subst">=</span>password：如果代理服务器需要输入用户名和口令，使用这两个选项

；</code></pre>

<p>· -r：在本机建立服务器端目录结构；</p>

<p>· -l [depth]：下载远程服务器目录结构的深度，例如”-l 5〃下载目录深度小于或者等</p>

<p>于5以内的目录结构或者文件；</p>

<p>· -m：做站点镜像时的选项，如果你想做一个站点的镜像，使用这个选项，它将自动设</p>

<p>定其他合适的选项以便于站点镜像；</p>

<p>· -np：只下载目标站点指定目录及其子目录的内容。这也是一个非常有用的选项，我们</p>

<p>假设某个人的个人主页里面有一个指向这个站点其他人个人主页的连接，而我们只想下载</p>

<p>这个人的个人主页，如果不设置这个选项，甚至–有可能把整个站点给抓下来，这显然是</p>

<p>我们通常不希望的；</p>

<p>ü 如何设定wget所使用的代理服务器</p>

<p>wget可以使用用户设置文件”.wgetrc”来读取很多设置，我们这里主要利用这个文件来是</p>

<p>设置代理服务器。使用者用什么用户登录，那么什么用户主目录下的”.wgetrc”文件就起</p>

<p>作用。例如，”root”用户如果想使用”.wgetrc”来设置代理服务器，”/root/.wgert”就起</p>

<p>作用，下面给出一个”.wge</p>

<p>trc”文件的内容，读者可以参照这个例子来编写自己的”wgetrc”文件：</p>

<p>http-proxy = 111.111.111.111:8080</p>

<p>ftp-proxy = 111.111.111.111:8080</p>

<p>这两行的含义是，代理服务器IP地址为：111.111.111.111，端口号为：80。第一行指定</p>

<p>HTTP协议所使用的代理服务器，第二行指定FTP协议所使用的代理服务器。</p>

<p>第二篇：</p>

<p>$ wget –help</p>

<p>GNU Wget 1.9.1，非交互式的网络文件下载工具。</p>

<p>用法： wget [选项]… [URL]…</p>

<p>长选项必须用的参数在使用短选项时也是必须的。</p>

<p>启动：</p>



<pre class="prettyprint"><code class=" hljs haml">-<span class="ruby"><span class="hljs-constant">V</span>, –version      显示 <span class="hljs-constant">Wget</span> 的版本并且退出。
</span>-<span class="ruby">h, –help       打印此帮助。
</span>-<span class="ruby">b, -background     启动后进入后台操作。
</span>-<span class="ruby">e, -execute=<span class="hljs-constant">COMMAND</span>  运行‘.wgetrc’形式的命令。</span></code></pre>

<p>日志记录及输入文件：</p>



<pre class="prettyprint"><code class=" hljs haml">-<span class="ruby">o, –output-file=文件   将日志消息写入到指定文件中。
</span>
-<span class="ruby">a, –append-output=文件  将日志消息追加到指定文件的末端。
</span>
-<span class="ruby">d, –debug        打印调试输出。
</span>
-<span class="ruby">q, –quiet        安静模式(不输出信息)。
</span>
-<span class="ruby">v, –verbose        详细输出模式(默认)。
</span>
-<span class="ruby">nv, –non-verbose     关闭详细输出模式，但不进入安静模式。
</span>
-<span class="ruby">i, –input-file=文件   下载从指定文件中找到的 <span class="hljs-constant">URL</span>。
</span>
-<span class="ruby"><span class="hljs-constant">F</span>, –force-html      以 <span class="hljs-constant">HTML</span> 方式处理输入文件。
</span>
-<span class="ruby"><span class="hljs-constant">B</span>, –base=<span class="hljs-constant">URL</span>       使用 -<span class="hljs-constant">F</span> -i 文件选项时，在相对链接前添加指定的 <span class="hljs-constant">URL</span>。</span></code></pre>

<p>下载：</p>



<pre class="prettyprint"><code class=" hljs haml">-<span class="ruby">t, –tries=次数       配置重试次数（<span class="hljs-number">0</span> 表示无限）。
</span>
–retry-connrefused   即使拒绝连接也重试。

-<span class="ruby"><span class="hljs-constant">O</span>  –output-document=文件  将数据写入此文件中。
</span>
-<span class="ruby">nc, –no-clobber       不更改已经存在的文件，也不使用在文件名后
</span>
添加 .#（# 为数字）的方法写入新的文件。

-<span class="ruby">c, –continue        继续接收已下载了一部分的文件。
</span>
–progress=方式     选择下载进度的表示方式。

-<span class="ruby"><span class="hljs-constant">N</span>, –timestamping      除非远程文件较新，否则不再取回。
</span>
-<span class="ruby"><span class="hljs-constant">S</span>, –server-response    显示服务器回应消息。
</span>
–spider         不下载任何数据。

-<span class="ruby"><span class="hljs-constant">T</span>, –timeout=秒数      配置读取数据的超时时间 (秒数)。
</span>
-<span class="ruby">w, –wait=秒数       接收不同文件之间等待的秒数。
</span>
–waitretry=秒数     在每次重试之间稍等一段时间 (由 1 秒至指定的 秒数不等)。

–random-wait      接收不同文件之间稍等一段时间(由 0 秒至 2*WAIT 秒不等)。

-<span class="ruby"><span class="hljs-constant">Y</span>, –proxy=on/off      打开或关闭代理服务器。
</span>
-<span class="ruby"><span class="hljs-constant">Q</span>, –quota=大小       配置接收数据的限额大小。
</span>
–bind-address=地址   使用本机的指定地址 (主机名称或 IP) 进行连接。

–limit-rate=速率    限制下载的速率。

–dns-cache=off     禁止查找存于高速缓存中的 DNS。

–restrict-file-names=OS 限制文件名中的字符为指定的 OS (操作系统) 所允许的字符。

目录：

-<span class="ruby">nd –no-directories      不创建目录。
</span>
-<span class="ruby">x, –force-directories     强制创建目录。
</span>
-<span class="ruby">nH, –no-host-directories    不创建含有远程主机名称的目录。
</span>
-<span class="ruby"><span class="hljs-constant">P</span>, –directory-prefix=名称   保存文件前先创建指定名称的目录。
</span>
–cut-dirs=数目       忽略远程目录中指定数目的目录层。

HTTP 选项：

–http-user=用户  配置 http 用户名。

–http-passwd=密码  配置 http 用户密码。

-<span class="ruby"><span class="hljs-constant">C</span>, –cache=on/off    (不)使用服务器中的高速缓存中的数据 (默认是使用的)。
</span>
-<span class="ruby"><span class="hljs-constant">E</span>, –html-extension   将所有 <span class="hljs-constant">MIME</span> 类型为 text/html 的文件都加上 .html 扩展文件名。
</span>
–ignore-length    忽略“Content-Length”文件头字段。

–header=字符串     在文件头中添加指定字符串。

–proxy-user=用户  配置代理服务器用户名。

–proxy-passwd=密码  配置代理服务器用户密码。

–referer=URL     在 HTTP 请求中包含“Referer：URL”头。

-<span class="ruby">s, –save-headers    将 <span class="hljs-constant">HTTP</span> 头存入文件。
</span>
-<span class="ruby"><span class="hljs-constant">U</span>, –user-agent=<span class="hljs-constant">AGENT</span>  标志为 <span class="hljs-constant">AGENT</span> 而不是 <span class="hljs-constant">Wget</span>/<span class="hljs-constant">VERSION</span>。
</span>
–no-http-keep-alive 禁用 HTTP keep-alive（持久性连接）。

–cookies=off     禁用 cookie。

–load-cookies=文件  会话开始前由指定文件载入 cookie。

–save-cookies=文件  会话结束后将 cookie 保存至指定文件。

–post-data=字符串  使用 POST 方法，发送指定字符串。

–post-file=文件   使用 POST 方法，发送指定文件中的内容。

HTTPS (SSL) 选项：

–sslcertfile=文件   可选的客户段端证书。

–sslcertkey=密钥文件 对此证书可选的“密钥文件”。

–egd-file=文件    EGD socket 文件名。

–sslcadir=目录     CA 散列表所在的目录。

–sslcafile=文件   包含 CA 的文件。

–sslcerttype=0/1   Client-Cert 类型 0=PEM (默认) / 1=ASN1 (DER)

–sslcheckcert=0/1   根据提供的 CA 检查服务器的证书

–sslprotocol=0-3   选择 SSL 协议；0=自动选择，

1=SSLv2 2=SSLv3 3=TLSv1</code></pre>

<p>FTP 选项：</p>



<pre class="prettyprint"><code class=" hljs lasso"><span class="hljs-attribute">-nr</span>, –dont<span class="hljs-attribute">-remove</span><span class="hljs-attribute">-listing</span>  不删除“<span class="hljs-built_in">.</span>listing”文件。

<span class="hljs-attribute">-g</span>, –glob<span class="hljs-subst">=</span><span class="hljs-keyword">on</span>/off      设置是否展开有通配符的文件名。

–passive<span class="hljs-attribute">-ftp</span>      使用“被动”传输模式。

–retr<span class="hljs-attribute">-symlinks</span>     在递归模式中，下载链接所指示的文件(连至目录

则例外）。

递归下载：

<span class="hljs-attribute">-r</span>, –recursive     递归下载。

<span class="hljs-attribute">-l</span>, –level<span class="hljs-subst">=</span>数字     最大递归深度(inf 或 <span class="hljs-number">0</span> 表示无限)。

–delete<span class="hljs-attribute">-after</span>    删除下载后的文件。

<span class="hljs-attribute">-k</span>, –convert<span class="hljs-attribute">-links</span>   将绝对链接转换为相对链接。

<span class="hljs-attribute">-K</span>, –backup<span class="hljs-attribute">-converted</span>  转换文件 X 前先将其备份为 X<span class="hljs-built_in">.</span>orig。

<span class="hljs-attribute">-m</span>, –mirror       等效于 <span class="hljs-attribute">-r</span> <span class="hljs-attribute">-N</span> <span class="hljs-attribute">-l</span> inf <span class="hljs-attribute">-nr</span> 的选项。

<span class="hljs-attribute">-p</span>, –page<span class="hljs-attribute">-requisites</span>  下载所有显示完整网页所需的文件，例如图像。

–strict<span class="hljs-attribute">-comments</span>  打开对 HTML 备注的严格(SGML)处理选项。

递归下载时有关接受<span class="hljs-subst">/</span>拒绝的选项：

<span class="hljs-attribute">-A</span>, –accept<span class="hljs-subst">=</span>列表        接受的文件样式列表，以逗号分隔。

<span class="hljs-attribute">-R</span>, –reject<span class="hljs-subst">=</span>列表        排除的文件样式列表，以逗号分隔。

<span class="hljs-attribute">-D</span>, –domains<span class="hljs-subst">=</span>列表        接受的域列表，以逗号分隔。

–exclude<span class="hljs-attribute">-domains</span><span class="hljs-subst">=</span>列表    排除的域列表，以逗号分隔。

–follow<span class="hljs-attribute">-ftp</span>         跟随 HTML 文件中的 FTP 链接。

–follow<span class="hljs-attribute">-tags</span><span class="hljs-subst">=</span>列表      要跟随的 HTML 标记，以逗号分隔。

<span class="hljs-attribute">-G</span>, –ignore<span class="hljs-attribute">-tags</span><span class="hljs-subst">=</span>列表      要忽略的 HTML 标记，以逗号分隔。

<span class="hljs-attribute">-H</span>, –span<span class="hljs-attribute">-hosts</span>         递归时可进入其它主机。

<span class="hljs-attribute">-L</span>, –relative          只跟随相对链接。

<span class="hljs-attribute">-I</span>, –include<span class="hljs-attribute">-directories</span><span class="hljs-subst">=</span>列表  要下载的目录列表。

<span class="hljs-attribute">-X</span>, –exclude<span class="hljs-attribute">-directories</span><span class="hljs-subst">=</span>列表  要排除的目录列表。

<span class="hljs-attribute">-np</span>, –no<span class="hljs-attribute">-parent</span>         不搜索上层目录。</code></pre>

<h2 id="vi指令大全-编辑文件">Vi指令大全—-编辑文件</h2>

<p>进入vi的命令</p>



<pre class="prettyprint"><code class=" hljs avrasm">vi filename: 打开或新建文件，并将光标置于第一行首
vi +n filename: 打开文件，并将光标置于第n行首
vi + filename: 打开文件，并将光标置于最后一行首
vi +/pattern filename: 打开文件，并将光标置于第一个与pattern匹配的串处
vi -r filename: 在上次正用vi编辑时发生系统崩溃，恢复filename
vi filename…<span class="hljs-preprocessor">.filename</span>: 打开多个文件，依次进行编辑</code></pre>

<p>移动光标类命令 <br/>
h: 光标左移一个字符 <br/>
l: 光标右移一个字符 <br/>
space: 光标右移一个字符 <br/>
Backspace: 光标左移一个字符 <br/>
k或Ctrl+p: 光标上移一行 <br/>
j或Ctrl+n: 光标下移一行 <br/>
Enter: 光标下移一行 <br/>
w或W : 光标右移一个字至字首 <br/>
b或B : 光标左移一个字至字首 <br/>
e或E : 光标右移一个字至字尾 <br/>
): 光标移至句尾 <br/>
(: 光标移至句首 <br/>
}: 光标移至段落开头 <br/>
{: 光标移至段落结尾 <br/>
nG: 光标移至第n行首 <br/>
n+: 光标下移n行 <br/>
n-: 光标上移n行 <br/>
n<span class="MathJax_Preview"/><span style="" aria-readonly="true" role="textbox" id="MathJax-Element-36-Frame" class="MathJax"><nobr><span style="width: 50.283em; display: inline-block;" id="MathJax-Span-4280" class="math"><span style="display: inline-block; position: relative; width: 40.213em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.6em, 1000em, 2.92em, -0.399em); top: -2.56em; left: 0em;"><span id="MathJax-Span-4281" class="mrow"><span style="font-family: STIXGeneral;" id="MathJax-Span-4282" class="mo">:</span><span style="padding-left: 0.313em;" id="MathJax-Span-4283" class="texatom"><span id="MathJax-Span-4284" class="mrow"><span id="MathJax-Span-4285" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">光</span></span></span></span><span id="MathJax-Span-4286" class="texatom"><span id="MathJax-Span-4287" class="mrow"><span id="MathJax-Span-4288" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">标</span></span></span></span><span id="MathJax-Span-4289" class="texatom"><span id="MathJax-Span-4290" class="mrow"><span id="MathJax-Span-4291" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">移</span></span></span></span><span id="MathJax-Span-4292" class="texatom"><span id="MathJax-Span-4293" class="mrow"><span id="MathJax-Span-4294" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">至</span></span></span></span><span id="MathJax-Span-4295" class="texatom"><span id="MathJax-Span-4296" class="mrow"><span id="MathJax-Span-4297" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">第</span></span></span></span><span style="font-family: STIXGeneral; font-style: italic;" id="MathJax-Span-4298" class="mi">n</span><span id="MathJax-Span-4299" class="texatom"><span id="MathJax-Span-4300" class="mrow"><span id="MathJax-Span-4301" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">行</span></span></span></span><span id="MathJax-Span-4302" class="texatom"><span id="MathJax-Span-4303" class="mrow"><span id="MathJax-Span-4304" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">尾</span></span></span></span><span style="font-family: STIXGeneral; font-style: italic;" id="MathJax-Span-4305" class="mi">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.047em;"/></span><span style="font-family: STIXGeneral; padding-left: 0.313em;" id="MathJax-Span-4306" class="mo">:</span><span style="padding-left: 0.313em;" id="MathJax-Span-4307" class="texatom"><span id="MathJax-Span-4308" class="mrow"><span id="MathJax-Span-4309" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">光</span></span></span></span><span id="MathJax-Span-4310" class="texatom"><span id="MathJax-Span-4311" class="mrow"><span id="MathJax-Span-4312" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">标</span></span></span></span><span id="MathJax-Span-4313" class="texatom"><span id="MathJax-Span-4314" class="mrow"><span id="MathJax-Span-4315" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">移</span></span></span></span><span id="MathJax-Span-4316" class="texatom"><span id="MathJax-Span-4317" class="mrow"><span id="MathJax-Span-4318" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">至</span></span></span></span><span id="MathJax-Span-4319" class="texatom"><span id="MathJax-Span-4320" class="mrow"><span id="MathJax-Span-4321" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">屏</span></span></span></span><span id="MathJax-Span-4322" class="texatom"><span id="MathJax-Span-4323" class="mrow"><span id="MathJax-Span-4324" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">幕</span></span></span></span><span id="MathJax-Span-4325" class="texatom"><span id="MathJax-Span-4326" class="mrow"><span id="MathJax-Span-4327" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">顶</span></span></span></span><span id="MathJax-Span-4328" class="texatom"><span id="MathJax-Span-4329" class="mrow"><span id="MathJax-Span-4330" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">行</span></span></span></span><span style="font-family: STIXGeneral; font-style: italic;" id="MathJax-Span-4331" class="mi">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.039em;"/></span><span style="font-family: STIXGeneral; padding-left: 0.313em;" id="MathJax-Span-4332" class="mo">:</span><span style="padding-left: 0.313em;" id="MathJax-Span-4333" class="texatom"><span id="MathJax-Span-4334" class="mrow"><span id="MathJax-Span-4335" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">光</span></span></span></span><span id="MathJax-Span-4336" class="texatom"><span id="MathJax-Span-4337" class="mrow"><span id="MathJax-Span-4338" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">标</span></span></span></span><span id="MathJax-Span-4339" class="texatom"><span id="MathJax-Span-4340" class="mrow"><span id="MathJax-Span-4341" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">移</span></span></span></span><span id="MathJax-Span-4342" class="texatom"><span id="MathJax-Span-4343" class="mrow"><span id="MathJax-Span-4344" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">至</span></span></span></span><span id="MathJax-Span-4345" class="texatom"><span id="MathJax-Span-4346" class="mrow"><span id="MathJax-Span-4347" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">屏</span></span></span></span><span id="MathJax-Span-4348" class="texatom"><span id="MathJax-Span-4349" class="mrow"><span id="MathJax-Span-4350" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">幕</span></span></span></span><span id="MathJax-Span-4351" class="texatom"><span id="MathJax-Span-4352" class="mrow"><span id="MathJax-Span-4353" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">中</span></span></span></span><span id="MathJax-Span-4354" class="texatom"><span id="MathJax-Span-4355" class="mrow"><span id="MathJax-Span-4356" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">间</span></span></span></span><span id="MathJax-Span-4357" class="texatom"><span id="MathJax-Span-4358" class="mrow"><span id="MathJax-Span-4359" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">行</span></span></span></span><span style="font-family: STIXGeneral; font-style: italic;" id="MathJax-Span-4360" class="mi">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"/></span><span style="font-family: STIXGeneral; padding-left: 0.313em;" id="MathJax-Span-4361" class="mo">:</span><span style="padding-left: 0.313em;" id="MathJax-Span-4362" class="texatom"><span id="MathJax-Span-4363" class="mrow"><span id="MathJax-Span-4364" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">光</span></span></span></span><span id="MathJax-Span-4365" class="texatom"><span id="MathJax-Span-4366" class="mrow"><span id="MathJax-Span-4367" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">标</span></span></span></span><span id="MathJax-Span-4368" class="texatom"><span id="MathJax-Span-4369" class="mrow"><span id="MathJax-Span-4370" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">移</span></span></span></span><span id="MathJax-Span-4371" class="texatom"><span id="MathJax-Span-4372" class="mrow"><span id="MathJax-Span-4373" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">至</span></span></span></span><span id="MathJax-Span-4374" class="texatom"><span id="MathJax-Span-4375" class="mrow"><span id="MathJax-Span-4376" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">屏</span></span></span></span><span id="MathJax-Span-4377" class="texatom"><span id="MathJax-Span-4378" class="mrow"><span id="MathJax-Span-4379" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">幕</span></span></span></span><span id="MathJax-Span-4380" class="texatom"><span id="MathJax-Span-4381" class="mrow"><span id="MathJax-Span-4382" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">最</span></span></span></span><span id="MathJax-Span-4383" class="texatom"><span id="MathJax-Span-4384" class="mrow"><span id="MathJax-Span-4385" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">后</span></span></span></span><span id="MathJax-Span-4386" class="texatom"><span id="MathJax-Span-4387" class="mrow"><span id="MathJax-Span-4388" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">行</span></span></span></span><span style="font-family: STIXGeneral;" id="MathJax-Span-4389" class="mn">0</span><span style="font-family: STIXGeneral; padding-left: 0.313em;" id="MathJax-Span-4390" class="mo">:</span><span style="padding-left: 0.313em;" id="MathJax-Span-4391" class="texatom"><span id="MathJax-Span-4392" class="mrow"><span id="MathJax-Span-4393" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">光</span></span></span></span><span id="MathJax-Span-4394" class="texatom"><span id="MathJax-Span-4395" class="mrow"><span id="MathJax-Span-4396" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">标</span></span></span></span><span id="MathJax-Span-4397" class="texatom"><span id="MathJax-Span-4398" class="mrow"><span id="MathJax-Span-4399" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">移</span></span></span></span><span id="MathJax-Span-4400" class="texatom"><span id="MathJax-Span-4401" class="mrow"><span id="MathJax-Span-4402" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">至</span></span></span></span><span id="MathJax-Span-4403" class="texatom"><span id="MathJax-Span-4404" class="mrow"><span id="MathJax-Span-4405" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">当</span></span></span></span><span id="MathJax-Span-4406" class="texatom"><span id="MathJax-Span-4407" class="mrow"><span id="MathJax-Span-4408" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">前</span></span></span></span><span id="MathJax-Span-4409" class="texatom"><span id="MathJax-Span-4410" class="mrow"><span id="MathJax-Span-4411" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">行</span></span></span></span><span id="MathJax-Span-4412" class="texatom"><span id="MathJax-Span-4413" class="mrow"><span id="MathJax-Span-4414" class="mo"><span style="font-family: STIXGeneral,&quot;Arial Unicode MS&quot;,serif; font-size: 80%; font-style: normal; font-weight: normal;">首</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.56em;"/></span></span><span style="border-left: 0em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.383em; vertical-align: -0.317em;"/></span></nobr></span><script id="MathJax-Element-36" type="math/tex">: 光标移至第n行尾  
H: 光标移至屏幕顶行  
M: 光标移至屏幕中间行  
L: 光标移至屏幕最后行  
0: 光标移至当前行首  
</script>: 光标移至当前行尾</p>

<p>屏幕翻滚类命令 <br/>
Ctrl+u: 向文件首翻半屏 <br/>
Ctrl+d: 向文件尾翻半屏 <br/>
Ctrl+f: 向文件尾翻一屏 <br/>
Ctrl＋b: 向文件首翻一屏 <br/>
nz: 将第n行滚至屏幕顶部，不指定n时将当前行滚至屏幕顶部。</p>

<p>插入文本类命令 <br/>
i: 在光标前 <br/>
I: 在当前行首 <br/>
a: 光标后 <br/>
A: 在当前行尾 <br/>
o: 在当前行之下新开一行 <br/>
O: 在当前行之上新开一行 <br/>
r: 替换当前字符 <br/>
R: 替换当前字符及其后的字符，直至按ESC键 <br/>
s: 从当前光标位置处开始，以输入的文本替代指定数目的字符 <br/>
S: 删除指定数目的行，并以所输入文本代替之 <br/>
ncw或nCW: 修改指定数目的字 <br/>
nCC: 修改指定数目的行</p>

<p>删除命令 <br/>
ndw或ndW: 删除光标处开始及其后的n-1个字 <br/>
do: 删至行首 <br/>
d$: 删至行尾 <br/>
ndd: 删除当前行及其后n-1行 <br/>
x或X: 删除一个字符，x删除光标后的，而X删除光标前的 <br/>
Ctrl+u: 删除输入方式下所输入的文本</p>

<p>搜索及替换命令 <br/>
/pattern: 从光标开始处向文件尾搜索pattern <br/>
?pattern: 从光标开始处向文件首搜索pattern <br/>
n: 在同一方向重复上一次搜索命令 <br/>
N: 在反方向上重复上一次搜索命令 <br/>
:s/p1/p2/g: 将当前行中所有p1均用p2替代 <br/>
:n1,n2s/p1/p2/g: 将第n1至n2行中所有p1均用p2替代 <br/>
:g/p1/s//p2/g: 将文件中所有p1均用p2替换</p>

<p>选项设置 <br/>
all: 列出所有选项设置情况 <br/>
term: 设置终端类型 <br/>
ignorance: 在搜索中忽略大小写 <br/>
list: 显示制表位(Ctrl+I)和行尾标志($) <br/>
number: 显示行号 <br/>
report: 显示由面向行的命令修改过的数目 <br/>
terse: 显示简短的警告信息 <br/>
warn: 在转到别的文件时若没保存当前文件则显示NO write信息 <br/>
nomagic: 允许在搜索模式中，使用前面不带“\”的特殊字符 <br/>
nowrapscan: 禁止vi在搜索到达文件两端时，又从另一端开始 <br/>
mesg: 允许vi显示其他用户用write写到自己终端上的信息</p>

<p>最后行方式命令 <br/>
:n1,n2 co n3: 将n1行到n2行之间的内容拷贝到第n3行下 <br/>
:n1,n2 m n3:将n1行到n2行之间的内容移至到第n3行下 <br/>
:n1,n2 d: 将 n1行到n2行之间的内容删除 <br/>
:w: 保存当前文件 <br/>
:e filename: 打开文件filename进行编辑 <br/>
:x: 保存当前文件并退出 <br/>
:q: 退出vi <br/>
:q!: 不保存文件并退出vi <br/>
:!command: 执行shell命令command <br/>
:n1,n2 w!command: 将文件中n1行至n2行的内容作为command的输入并执行之， <br/>
若不指定n1，n2，则表示将整个文件内容作为command的输入 <br/>
:r!command: 将命令command的输出结果放到当前行</p>

<p>寄存器操作 <br/>
“?nyy: 将当前行及其下n行的内容保存到寄存器？中，其中?为一个字母，n为一个数字 <br/>
“?nyw: 将当前行及其下n个字保存到寄存器？中，其中?为一个字母，n为一个数字 <br/>
“?nyl: 将当前行及其下n个字符保存到寄存器？中，其中?为一个字母，n为一个数字 <br/>
“?p: 取出寄存器？中的内容并将其放到光标位置处。这里？可以是一个字母，也可以是一个数字 <br/>
ndd: 将当前行及其下共n行文本删除，并将所删内容放到1号删除寄存器中</p><link rel="stylesheet" href="http://static.blog.csdn.net/public/res-min/markdown_views.css?v=1.0"/></div><link rel="stylesheet" href="http://static.blog.csdn.net/public/res-min/markdown_views.css?v=1.0"/>&#13;
            