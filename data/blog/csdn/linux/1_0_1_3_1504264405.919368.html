
                
<div style="top:0px">﻿﻿</div>&#13;
<p style="margin:0pt; line-height:20pt"><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS">      在</span></span><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS"><a target="_blank" href="http://blog.csdn.net/daybreak1209/article/details/50617417">Redis的安装和部署（Linux）</a></span></span><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS">一文中详细介绍了在Linux环境中搭建Redis服务，本文将介绍关于Redis分布式&#13;
 集群搭建细节。</span></span></p>&#13;
<p style="margin:0pt; line-height:20pt"><strong><span style="color:#0066; font-size:11pt; background:rgb(255,255,255); text-transform:none; font-weight:bold; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS">一、Redis集群架构</span></span></strong></p>&#13;
<p style="margin:0pt 0pt 0pt 21pt; line-height:20pt"><span style="color:#ff00; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS">1、Redis集群架构图</span></span></p>&#13;
<p style="margin:0pt 0pt 0pt 21pt; line-height:20pt"><span style="color:#ff00; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS"><img alt="" src="http://img.blog.csdn.net/20160524202921640?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" width="541" height="480" style="height:267px; width:329px"/></span></span></p>&#13;
<p style="margin:0pt 0pt 0pt 21pt; line-height:20pt; text-indent:21pt"><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS">蓝色的为Redis集群中的每个node节点，节点之间通过ping&#13;
 命令，测试相互是否连接正常，普通集群没有主从区分，连接任何一个节点操作，都可以转发到其他任意一个节点。</span></span></p>&#13;
<p style="margin:0pt 0pt 0pt 21pt; line-height:20pt; text-indent:21pt"><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"/><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS; color:#ff0000">1、</span></span><span style="color:#ff00; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS">Redis&#13;
 容错机制</span></span></p>&#13;
<p style="margin:0pt 0pt 0pt 21pt; line-height:20pt; text-indent:21pt"><span style="color:#ff00; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"/><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS"> 每Redis提供了节点之间相互发送的ping命令，用于测试每个节点的健康状态，集群中连接正常的节点接收到其他节点发送的ping命令时，会返回一个pong字符串。</span></span></p>&#13;
<p style="margin:0pt 0pt 0pt 21pt; line-height:20pt; text-indent:21pt"><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"/><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS"><span style="color:#ff0000">Redis投票机制：</span>如果一个节点A给B发送ping没有得到pong返回，那么A就会通知其他节点再次给B发送ping，如果集群中超过一半的节点给B发送ping都没有得到返回，那么B就被坐实game&#13;
 over了，所以为了避免单点故障，一般都会为Redis的每个节点提供一个备份节点，B节点挂掉了立马启动B的备份节点服务器。</span></span></p>&#13;
<p style="margin:0pt 0pt 0pt 21pt; line-height:20pt; text-indent:21pt"><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"/><span style="color:#ff00; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS">2、Redis&#13;
 集群存储原理</span></span></p>&#13;
<p style="margin:0pt 0pt 0pt 21pt; line-height:20pt; text-indent:21pt"><span style="font-family:Comic Sans MS"><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt">每个节点上的数据都不一样，（一样就是主备了）把数据都分散存放到各个节点上进行存储。如何确定哪些类型数据存入哪个节点呢？Redis中槽slot就用于圈定当前节点的存储范围，分散存储使用hash算法，确定什么值放到哪个槽里</span><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt">。</span></span></p>&#13;
<p style="margin:0pt 0pt 0pt 21pt; line-height:20pt; text-indent:21pt"><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS"> 所以在创建Redis集群时，会首先为每个节点创建槽容量，例如从1~2000，指定数据存储区域。</span></span></p>&#13;
<p style="margin:0pt 0pt 0pt 21pt; line-height:20pt; text-indent:21pt"><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS; color:#ff0000">3、</span></span><span style="color:#ff00; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS">Redis&#13;
 持久化机制</span></span></p>&#13;
<p style="margin:0pt 0pt 0pt 21pt; line-height:20pt; text-indent:21pt"><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS">Redis提供了2中数据持久化方式：</span></span></p>&#13;
<p style="margin:0pt 0pt 0pt 21pt; line-height:20pt; text-indent:21pt"><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS"><span style="color:#ff0000">Snapshotting：</span>定时的将Redis内存的当前状态保存到RDB文件中,持久化到硬盘。</span></span></p>&#13;
<p style="margin:0pt 0pt 0pt 21pt; line-height:20pt; text-indent:21pt"><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS"><span style="color:#ff0000">AOF（append-only&#13;
 file）：</span>将所有的command操作保存到aof文件中，AOP使得同步频率很高，数据即便丢失，粒度也很小，但性能上有所牺牲。默认数据持久化会2s同步一次，也可以进行配置改变同步频率。</span></span></p>&#13;
<p style="margin:0pt 0pt 0pt 21pt; line-height:20pt; text-indent:21pt"><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"/><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS; color:#000066"> 翻译自redis-wiki</span></span></p>&#13;
<p style="margin:0pt 0pt 0pt 21pt; line-height:20pt; text-indent:21pt"><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"/><strong><span style="color:#0066; font-size:11pt; background:rgb(255,255,255); text-transform:none; font-weight:bold; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS">二、Redis集群搭建</span></span></strong></p>&#13;
<p style="margin:0pt 0pt 0pt 21pt; line-height:20pt; text-indent:21pt"><strong><span style="color:#0066; font-size:11pt; background:rgb(255,255,255); text-transform:none; font-weight:bold; font-style:normal; letter-spacing:0pt"/></strong><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS"> &#13;
 现在开始搭建具有3各节点和3个备份节点的Redis cluster。端口分别从7001-7006，因为测试机内存的原因，搭建一个使用6个Redis实例搭建一个伪分布式集群。</span></span></p>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<span style="color:#ff00; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS">               1、搭建集群所需环境</span></span></p>&#13;
<p align="justify"><span style="font-family:Comic Sans MS"><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt">              1）使用</span><span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt">yum&#13;
 install ruby</span><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt">安装Ruby，因为redis中创建集群的脚本是以rb结尾的ruby文件（下图可见该rb文件）。使用ruby -v查看ruby是否安装成功。</span></span></p>&#13;
<p align="justify"><span style="font-family:Comic Sans MS"><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><img alt="" src="http://img.blog.csdn.net/20160524203254023?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"/>                                                                           &#13;
                                  2）使用</span><span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"> yum install rubygems</span><span style="color:#000000; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt">安装RubyGems-Ruby组件的打包系统，用于管理Ruby程序包。</span></span></p>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<span style="color:#ff00; font-size:11pt; text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS">2、创建6个Redis实例</span></span></p>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS">1）将redis的解压包中的bin文件件均拷贝到新创建的redis-cluster（含有redis-trib.rb文件）的redis01文件中</span></span><span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS"><br/>&#13;
</span></span></p>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS"><img alt="" src="http://img.blog.csdn.net/20160524203639893?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"/></span></span></p>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS">2）修改redis01的redis.conf文件，修改端口号和cluster-enable属性</span></span></p>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS"><img alt="" src="http://img.blog.csdn.net/20160524203741737?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"/></span></span></p>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"/><span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS">3）依次拷贝redis01为redis02-redis06，修改端口号</span></span></p>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS"><img alt="" src="http://img.blog.csdn.net/20160524203819467?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"/></span></span></p>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"/><span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS">4）编写一个sh脚本，一次性启动6个Redis实例</span></span></p>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS"><img alt="" src="http://img.blog.csdn.net/20160524203849734?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"/></span></span></p>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS">5）执行sh脚本，启动redis节点，并查看Redis实例启动情况</span></span></p>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS"><img alt="" src="http://img.blog.csdn.net/20160524204009454?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"/></span></span></p>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"/><span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS">6）执行redis-trib.rb脚本，创建集群。</span></span></p>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS"/></span></p><pre code_snippet_id="1695400" snippet_file_name="blog_20160524_1_1713888" class="html" name="code">./redis-trib.rb create --replicas 1 192.168.132.128:7001 192.168.132.128:7002 192.168.132.128:7003 192.168.132.128:7004 192.168.132.128:7005  192.168.132.128:7006</pre><span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS"/></span>&#13;
<p/>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<span style="font-family:Comic Sans MS"><span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><img alt="" src="http://img.blog.csdn.net/20160524204321006?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"/>    </span></span></p>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<span style="font-family:Comic Sans MS"><span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt">    </span><span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt">在集群的创建日志信息中可以发现，使用hash&#13;
 创建slots，master节点为01.02.03 ，剩余3个用于做备机节点，并显示了主从对应关系以及每个节点槽范围信息。</span></span></p>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<span style="font-family:Comic Sans MS; color:#000066"><span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><strong>三、</strong></span></span><strong><span style="color:#0066; font-size:11pt; background:rgb(255,255,255); text-transform:none; font-weight:bold; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS">集群测试</span></span></strong></p>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<strong><span style="color:#0066; font-size:11pt; background:rgb(255,255,255); text-transform:none; font-weight:bold; font-style:normal; letter-spacing:0pt"/></strong><span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS">1）使用任意一个节点客户端登陆&#13;
 主要加上 -c参数表示用于集群连接</span></span></p>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"/><span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS">2）任意执行一个set命令，节点间会自动转发，将set的值保存到对应的节点slot中。</span></span><span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS"> </span></span></p>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<span style="font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; color:rgb(0,0,0); font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS"><span style="color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS"><img alt="" src="http://img.blog.csdn.net/20160524204358725?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"/></span></span></span></span></p>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<span style="color:#ff0000"><font color="#ff0000"><span style="font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS"><span style="font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt">    </span></span></span><span style="font-family:宋体; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS"><strong>集群搭建成功。</strong></span></span></font></span></p>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<span style="color:#ff0000"><span style="font-family:宋体; color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-weight:normal; font-style:normal; letter-spacing:0pt"><span style="font-family:Comic Sans MS"><strong><span style="font-size:14px; color:#000066">四、总结</span></strong></span></span></span></p>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<span style="font-family:Comic Sans MS; font-size:14px; color:#000066"><span style="font-family:宋体; color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-style:normal; letter-spacing:0pt">建成功。在创建集群时，笔者出现一个redis节点拒绝连接的错误，以至于集群创建失败。</span></span></p>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<span style="font-family:Comic Sans MS; font-size:14px; color:#000066"><span style="font-family:宋体; color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-style:normal; letter-spacing:0pt"><img alt="" src="http://img.blog.csdn.net/20160524204828601?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"/></span></span></p>&#13;
<p style="margin-bottom:0pt; font-size:10.5pt; font-weight:normal; color:rgb(0,0,0); font-style:normal; margin-top:0pt; line-height:20pt">&#13;
<span style="font-family:Comic Sans MS; font-size:14px; color:#000066"><span style="font-family:宋体; color:#000000; font-size:10.5pt; background:rgb(255,255,255); text-transform:none; font-style:normal; letter-spacing:0pt">经过反复排查发现是自己原来安装的redis进行了权限设置，为方便了方便测试，于是选择取消该权限设置。</span></span></p>&#13;
<link rel="stylesheet" href="http://static.blog.csdn.net/public/res-min/markdown_views.css?v=1.0"/>&#13;
            