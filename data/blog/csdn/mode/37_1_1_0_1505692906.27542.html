
                <div class="markdown_views"><h2 id="介绍">介绍</h2>

<p>代理模式是结构性模式，它通过引入一个新的对象（如小图片和远程代理对象）来实现对真实对象的操作或者将新的对象作为真实对象的一个替身。 <br/>
我们现实生活中也有许多代理模式的影子。例如朋友出国旅游，我们可以托朋友帮忙买些东西。或者，我们点外卖，配送员替我们去取餐等等。</p>



<h2 id="结构图">结构图</h2>

<p><img src="http://img.blog.csdn.net/20170917133054951?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMzIzOTExMQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="图片来源于网络" title=""/> <br/>
一共有三个角色</p>

<ol>
<li>Subject（抽象主题角色）</li>
<li>Proxy（代理主题角色）</li>
<li>RealSubject（真实主题角色）</li>
</ol>



<h2 id="时序图">时序图</h2>

<p><img src="http://img.blog.csdn.net/20170917133126805?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMzIzOTExMQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="图片来源于网络" title=""/></p>



<h2 id="案例">案例</h2>

<p>这边的配送员就是代理角色，顾客是真实角色，配送员完成顾客到店取货的步骤。 <br/>
<strong>抽象主题角色</strong></p>



<pre class="prettyprint"><code class=" hljs cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> Subject {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getFood</span>();
}</code></pre>

<p><strong>顾客</strong></p>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Customer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Subject</span> {</span>
    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getFood</span>() {
        System.out.println(<span class="hljs-string">"客户拿到餐啦!"</span>);
    }
}</code></pre>

<p><strong>配送员</strong></p>



<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DeliveryMan</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Subject</span> {</span>
    <span class="hljs-keyword">private</span> Customer customer = <span class="hljs-keyword">new</span> Customer();

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">goShop</span>(){
        System.out.println(<span class="hljs-string">"去商家取餐!"</span>);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getFood</span>() {
        goShop();
        customer.getFood();
        finish();

    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">finish</span>() {
        System.out.println(<span class="hljs-string">"结束送餐!"</span>);
    }

}</code></pre>

<p><strong>测试</strong></p>



<pre class="prettyprint"><code class=" hljs cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> Client {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(String[] args) {
        Subject subject = <span class="hljs-keyword">new</span> DeliveryMan();
        subject.getFood();
    }

}</code></pre>

<p><strong>测试结果</strong> <br/>
<img src="http://img.blog.csdn.net/20170917134628095?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMzIzOTExMQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title=""/></p>

<p><a href="https://github.com/rainbowda/Design-Pattern/tree/master/dp-common/src/main/java/com/dp/proxy">Github地址</a></p>



<h2 id="总结">总结</h2>

<p>上面的案例只是简单的代理模式，实际开发中要复杂许多。 <br/>
而且代理有还许多种，例如远程代理(Remote Proxy)、 虚拟代理(Virtual Proxy)等等。 <br/>
还有一种较为高级的代理模式叫做动态代理，Spring AOP就是采用动态代理模式。有兴趣的可以</p><link rel="stylesheet" href="http://static.blog.csdn.net/public/res-min/markdown_views.css?v=2.0"/></div><link rel="stylesheet" href="http://static.blog.csdn.net/public/res-min/markdown_views.css?v=2.0"/>&#13;
            