\n <div class="markdown_views"><h1 id="插入数据">插入数据</h1>\n\n<p>虽然在《MySQL必知必会》这本书中到现在才开始讲数据的插入，但是在前面的实践过程中，已经多次使用了行数据的插入。 <br />\n例如，有一个student的表，里面有3列，分别为ID,name,score；则为此表插入一行数据的语句如下：</p>\n\n<pre><code>insert into student values(1,'wu',89);\n</code></pre>\n\n<p>但是，目前为止，只应用了插入一行数据是如何进行的。而插入其他的就不知道，下面我们将开始学习。</p>\n\n\n\n<h2 id="数据插入">数据插入</h2>\n\n<p>数据插入是用insert关键字来实现的。插入数据可以用几种方式使用：</p>\n\n<p>1)插入完整的行；</p>\n\n<p>2）插入行的一部分；</p>\n\n<p>3）插入多行；</p>\n\n<p>4）插入某些查询的结果。</p>\n\n<p>下面将一一介绍这些内容。</p>\n\n\n\n<h2 id="插入完整的行">插入完整的行</h2>\n\n<p>插入完整的行就如博文开头介绍的那样完成即可。</p>\n\n<pre><code>insert into student values(1,'wu',89);\n</code></pre>\n\n<p>此例子插入一个新学生到student表中。<font color="red" size="4">存储到每个表列中的数据在values子句中给出，对每个列必须提供一个值。</font></p>\n\n<p><font color="blue">如果某列没有值，应该使用NULL值（假如表允许对该列使用空值。各个列必须以它们在表定义中出现的顺序填充。如果某列指定为自动增量，如果你不想给出一个值也不可以省略此列，可以设为NULL，因为这是MySQL的工作</font></p>\n\n<p><font color="red" size="5">注意：虽然这种语法很简单，但是并不安全，应该尽量避免使用。这是因为这种用法高度依赖于表中列的定义次序。</font></p>\n\n<p>那么怎样编写才更安全呢？？</p>\n\n<p>如下： <br />\n在表明后指出所有的列名，然后在values中提供与前面列名一致的数据即可。稍微书写繁琐了一点，但是却保证了一定的正确性，这样就不高度依赖与表中列的定义次序。</p>\n\n<p><img src="http://7xknzt.com1.z0.glb.clouddn.com/MySQL_insert_v1.PNG" alt="" title="" /></p>\n\n<p><strong>综上：在插入数据时，我们一般总是使用列的列表，不使用没有明确给出列的列表的insert语句。无论我们选择哪种insert语法，都必须给出values的正确数目。如果不提供列名，则必须给每个表列提供一个值。如果提供列名，则必须对每个列出的列给出一个值。</strong></p>\n\n<p>第二种语法，可以省略列，例如可以省略自动增量的id。如果使用不指定列名的，就不能省略，必须指定NULL；有如下情况的可以省略列</p>\n\n<p>1、该列定义为允许NULL值（无值或空值）</p>\n\n<p>2、在表定义中给出默认值。</p>\n\n<p><font color="red">如果对表中不允许NULL值且没有默认值的列不给出值，则MySQL将产生一条错误消息。</font></p>\n\n<p><font color="red">提高整体性能</font>：<strong>数据库经常被多个客户访问，对处理什么请求以及用什么次序处理进行管理是MySQL的任务。但是insert操作可能很耗时（特别是有很多索引需要更新时），而且它可能会降低等待处理的select语句的性能。因此，如果数据检索是最重要的，则你可以通过在insert 和into之间添加关键字low_priority，指示MySQL降低insert语句的优先级。这同样也适用于update和delete语句。</strong></p>\n\n\n\n<h2 id="插入多行数据">插入多行数据</h2>\n\n<p>如果你想插入多行数据，应该怎么办呢？？</p>\n\n<p>有如下两种方法：</p>\n\n<p>第一种方法：将多条插入语句用分号隔开。这和一行一行的插入一样。</p>\n\n<p>第二种方法：如果列名顺序相同，则可以 用逗号将多组值分隔开，每组数据用一对圆括号括起来。</p>\n\n<p>具体例子如下：</p>\n\n<p><img src="http://7xknzt.com1.z0.glb.clouddn.com/MySQL_insert_v3.PNG" alt="" title="" /></p>\n\n<p>从结果的用时可以看出，第二种方法比第一种方法要更快一些。即此方法可以提高数据库处理的性能。</p>\n\n\n\n<h2 id="插入检索出的数据">插入检索出的数据</h2>\n\n<p>insert除了插入一个指定列值的行，还可以将一条select语句的结果插入表中。这就是所谓的insert select。</p>\n\n<p>例如：我们想把student2中的数据插入到student中。</p>\n\n<p>student2中的内容如下： <br />\n<img src="http://7xknzt.com1.z0.glb.clouddn.com/MySQL_insert_v4.PNG" alt="" title="" /></p>\n\n<p>由于student表中只有ID、name、score这3列。因此，为与student表中的格式对应，我们选择将student2表中的前三列插入到student中</p>\n\n<p><img src="http://7xknzt.com1.z0.glb.clouddn.com/MySQL_insert_v2.PNG" alt="" title="" /></p>\n\n<p>insert select 中select语句中可包含where子句以过滤插入的数据。</p>\n\n<p><font color="red">注意：插入检索出的数据的格式应该与要插入表中的格式一致。否则会报错。</font></p>\n\n\n\n<h2 id="小结">小结</h2>\n\n<p>关于插入数据还是挺简单的哈，但是也有很多值得我们注意的地方。例如：插入多行数据的第二种方法就比第一种要快。以及插入完整行数据如果不指定列名，则不太安全。</p></div>&#13;\n <script type="text/javascript">&#13;\n $(function () {&#13;\n $('pre.prettyprint code').each(function () {&#13;\n var lines = $(this).text().split('\\n').length;&#13;\n var $numbering = $('&lt;ul/&gt;').addClass('pre-numbering').hide();&#13;\n $(this).addClass('has-numbering').parent().append($numbering);&#13;\n for (i = 1; i &lt;= lines; i++) {&#13;\n $numbering.append($('&lt;li/&gt;').text(i));&#13;\n };&#13;\n $numbering.fadeIn(1700);&#13;\n });&#13;\n });&#13;\n </script>&#13;\n &#13;\n
