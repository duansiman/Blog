\n <div class="markdown_views"><h2 id="创建计算字段-as">创建计算字段 ：AS</h2>\n\n<p>存储在数据库表中的数据都是一些基本的单元，并不是应用程序所需要的格式；</p>\n\n<p>例如，物品订单表存储物品的价格和数量，但不需要存储每个物品的总价格（价格乘以数量）。当为了打印发票的时候，就需要物品的总价格了。</p>\n\n<p>因此，存储在表中的数据都不是应用程序所需要的，我们需要直接从数据库中检索出转换、计算或格式化过的数据；而不是检索出数据，然后再在客户机应用程序或报告中重新格式化（或许你可以在客户机上面做，但我们一般不这么做，因为在数据库服务器上完成这些操作比在客户机上完成要快的多）。</p>\n\n<p><strong>字段</strong>：基本上就是列的别名。</p>\n\n<p><font color="red">重要的是要注意到，只有数据库知道select语句中哪些列是实际的表列，哪些列是计算字段，但是在客户机的角度来看，计算字段的数据是和其他列的数据相同的方式返回的。 </font></p>\n\n<h3 id="拼接字段">拼接字段</h3>\n\n<p>下面以一个例子来进行说明。 <br />\n例如在一个student表中，我们希望表中的数据以 name(score) 的格式显示输出。</p>\n\n<p>name score是数据库student表中的两列数据，应该如何做呢？ <br />\nMySQL数据库给我们提供了一个拼接函数：concat()。</p>\n\n<pre><code>select concat(name,' (',score,')') from student;\n</code></pre>\n\n<p><img src="http://7xknzt.com1.z0.glb.clouddn.com/concat_MySQL.PNG" alt="" title="" /></p>\n\n<p><font color="red">MySQL的不同之处：多数DBMS使用+ 或||来实现拼接，但是MySQL则使用concat()函数来实现。</font></p>\n\n\n\n<h3 id="别名">别名</h3>\n\n<p>从前面的输出可以看到，select语句拼接的工作的很好。但是此新计算的列的名字是什么呢？实际上是他并没有名字，它只是一个值。如果仅在SQL上查询一下结果，这样没有什么不好。但是，一个未命名的列不能用于客户机应用中，因为客户机没有办法应用它。</p>\n\n<p><font color="blue">为了解决这个问题，SQL支持列别名。别名就是一个字段或值的替换名。用关键字as来赋予。</font></p>\n\n<p>例如：对我们上面的例子取一个别名：namsAndScore;</p>\n\n<pre><code>select concat(name,'(',score,')') as nameAndScore from studnet;//用as为新的结果取一个别名\n</code></pre>\n\n<p><img src="http://7xknzt.com1.z0.glb.clouddn.com/as_MySQL.PNG" alt="" title="" /></p>\n\n\n\n<h3 id="执行算术计算">执行算术计算</h3>\n\n<p>由于在student这个表中，只有一列成绩，没法进行几门成绩的平均成绩的计算，因此，我这里又新建了一个表格student2.</p>\n\n<p>建表格的命令如下：</p>\n\n<pre><code>create table student2(id int(10),name varchar(10),mathScore int(10),english int(10));\n</code></pre>\n\n<p><img src="http://7xknzt.com1.z0.glb.clouddn.com/as_MySQL_v3.PNG" alt="" title="" /></p>\n\n<p>计算平均成绩并且给平均成绩一个别名的方法如下：</p>\n\n<pre><code>select name,mathScore,englishScore,(mathScore+englishScore)/2 as avgScore from student2;\n</code></pre>\n\n<p><img src="http://7xknzt.com1.z0.glb.clouddn.com/as_MySQL_2.PNG" alt="" title="" /></p>\n\n<p>上面这个例子中就应用了算术运算中的 加法和除法.</p>\n\n<p>减法和乘法的用法也与之一样。</p></div>&#13;\n <script type="text/javascript">&#13;\n $(function () {&#13;\n $('pre.prettyprint code').each(function () {&#13;\n var lines = $(this).text().split('\\n').length;&#13;\n var $numbering = $('&lt;ul/&gt;').addClass('pre-numbering').hide();&#13;\n $(this).addClass('has-numbering').parent().append($numbering);&#13;\n for (i = 1; i &lt;= lines; i++) {&#13;\n $numbering.append($('&lt;li/&gt;').text(i));&#13;\n };&#13;\n $numbering.fadeIn(1700);&#13;\n });&#13;\n });&#13;\n </script>&#13;\n &#13;\n
