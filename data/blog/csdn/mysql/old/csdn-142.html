\n <div class="markdown_views"><h2 id="聚集函数">聚集函数</h2>\n\n<p>我们经常需要汇总数据并不需要把它们实际检索出来，为此MySQL提供了专门的函数。使用这些函数，MySQL查询可用于检索数据，以便分析和报表生成。</p>\n\n<p>这种类型的检索例子有以下几种：</p>\n\n<blockquote>\n <ul>\n <li>确定表中行数（或者满足某个条件或者是包含某个特定值的条件）</li>\n <li>确定表中行组的和。</li>\n <li>找出表列中的最大值、最小值和平均值。</li>\n </ul>\n</blockquote>\n\n<p>MySQL给出了5个聚集函数。如下：</p>\n\n<blockquote>\n <ul>\n <li>AVG() </li>\n <li>SUM()</li>\n <li>MAX()</li>\n <li>MIN()</li>\n <li>COUNT()</li>\n </ul>\n</blockquote>\n\n<p>根据函数名，相信他的功能应该就相当清晰了。</p>\n\n<p>下面对这些函数一一进行练习操作。</p>\n\n\n\n<h3 id="avg">AVG()</h3>\n\n<p>此函数一般用于求某列（可能会指定条件）的平均值。</p>\n\n<p>用法如下：</p>\n\n<pre><code>select AVG(colName) from tableName ;\nselect AVG(colName) from tableName where some condtion; \n</code></pre>\n\n<p><img src="http://7xknzt.com1.z0.glb.clouddn.com/MySQL_avg.PNG" alt="" title="" /></p>\n\n\n\n<h3 id="maxmin">MAX()/MIN()</h3>\n\n<p>此函数用于求取 某列（可能会指定条件）的最大值/最小值。</p>\n\n<p><img src="http://7xknzt.com1.z0.glb.clouddn.com/MySQL_maxMin.PNG" alt="" title="" /></p>\n\n<p><font color="red">在这个练习中遇到了一个小bug，去别名的时候不能去maxValue这样的别名，即不能取那些聚集函数后面拼接字符的别名，如下：</font></p>\n\n<p><img src="http://7xknzt.com1.z0.glb.clouddn.com/MySQL_max_v2.PNG" alt="" title="" /></p>\n\n<p>注意：虽然MAX（）一般用来找出最大的数值或日期值，但是MySQL允许它用来返回任意列中的最大值，包括返回文本列中的最大值。</p>\n\n\n\n<h3 id="sum">SUM()</h3>\n\n<p>此函数一般用于求取 某列（可能会指定条件）的总和。</p>\n\n<p><img src="http://7xknzt.com1.z0.glb.clouddn.com/MySQL_sum.PNG" alt="" title="" /></p>\n\n\n\n<h3 id="count">COUNT()</h3>\n\n<p>一般用于返回某列（可能会指定条件）的行数。</p>\n\n<p><img src="http://7xknzt.com1.z0.glb.clouddn.com/MySQL_count.PNG" alt="" title="" /></p>\n\n<p>注意：count(*) 统计所有行（包括NULL的行）； <br />\n count(corName) 就会忽略值为NULL的行。</p>\n\n\n\n<h2 id="小结">小结</h2>\n\n<p>avg()/max()/min()/sum()/count(),当参数为指定列的时候，会忽略掉值为NULL的行。</p></div>&#13;\n <script type="text/javascript">&#13;\n $(function () {&#13;\n $('pre.prettyprint code').each(function () {&#13;\n var lines = $(this).text().split('\\n').length;&#13;\n var $numbering = $('&lt;ul/&gt;').addClass('pre-numbering').hide();&#13;\n $(this).addClass('has-numbering').parent().append($numbering);&#13;\n for (i = 1; i &lt;= lines; i++) {&#13;\n $numbering.append($('&lt;li/&gt;').text(i));&#13;\n };&#13;\n $numbering.fadeIn(1700);&#13;\n });&#13;\n });&#13;\n </script>&#13;\n &#13;\n
