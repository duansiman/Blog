\n <div class="markdown_views"><h1 id="环境简介">环境简介</h1>\n\n<p>linux :cenos 6.5 <br />\nmysql版本：mySQL5.6.30 <br />\nMysql5.6.30安装与mySQL5.1安装还是有一些区别了，需要使用cmake进行安装信息的配置。据说Mysql从5.5以后安装都需要cmake。 <br />\nMysql5.6.30里面没有configure，没法通过./configure 进行安装配置，需要自己去生成配置信息 <br />\n<img src="http://img.blog.csdn.net/20160423094332391" alt="这里写图片描述" title="" /></p>\n\n\n\n<h1 id="mysql5630安装">MySQL5.6.30安装</h1>\n\n\n\n<h2 id="前期准备">前期准备</h2>\n\n\n\n<h3 id="创建mysql用户与mysql组">创建mysql用户与mysql组</h3>\n\n<p>创建组：groupadd mysql <br />\n创建用户:useradd -r -g mysql mysql</p>\n\n\n\n<h3 id="创建mysql文件夹于数据存放文件夹data">创建mysql文件夹于数据存放文件夹data</h3>\n\n<p>mkdir -p /usr/local/mysql/data</p>\n\n\n\n<h3 id="安装cmake">安装cmake</h3>\n\n<p><img src="http://img.blog.csdn.net/20160423094401047" alt="这里写图片描述" title="" /></p>\n\n<p><img src="http://img.blog.csdn.net/20160423094653205" alt="这里写图片描述" title="" /> <br />\n当然也可使用yum安装命令如下 <br />\nyum install cmake -y</p>\n\n\n\n<h2 id="安装信息配置">安装信息配置</h2>\n\n<p>cmake . -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DMYSQL_UNIX_ADDR=/usr/local/mysql/mysql.sock -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci -DEXTRA_CHARSETS=all -DWITH_INNOBASE_STORAGE_ENGINE=1 -DWITH_ARCHIVE_STORAGE_ENGINE=1 -DWITH_BLACKHOLE_STORAGE_ENGINE=1 -DMYSQL_DATADIR=/usr/localhost/mysql/data <br />\n<img src="http://img.blog.csdn.net/20160423100459996" alt="这里写图片描述" title="" /></p>\n\n\n\n<h2 id="执行make-make-install">执行make &amp;&amp; make install</h2>\n\n<p><img src="http://img.blog.csdn.net/20160424095952102" alt="这里写图片描述" title="" /></p>\n\n\n\n<h2 id="进行相应的配置">进行相应的配置</h2>\n\n<p>1.conf：用于保存mysql配置信息 <br />\nmkdir /usr/local/mysql/conf <br />\n2.var:用来存放mysql运行时文件 <br />\nmkdir /usr/local/mysql/var <br />\n3.将support-files里面的my-default.cnf移到conf里面，并改名为my.cnf <br />\n<img src="http://img.blog.csdn.net/20160424103022845" alt="这里写图片描述" title="" /> <br />\n4.分配权限 <br />\nchown -R mysql:mysql /usr/local/mysql <br />\n<img src="http://img.blog.csdn.net/20160424103325893" alt="这里写图片描述" title="" /></p>\n\n\n\n<h2 id="初始化mysql">初始化mysql</h2>\n\n<p><code> <br />\n/usr/local/mysql/scripts/mysql_install_db--basedir=/usr/local/mysql --datadir=/usr/local/mysql/data --skip-name-resolve--user=mysql --defaults-file=/usr/local/mysql/conf/my.cnf--pid-file=/usr/local/mysql/var/mysql.pid--socket=/usr/local/mysql/var/mysql.sock <br />\n</code> <br />\n<img src="http://img.blog.csdn.net/20160424105325328" alt="这里写图片描述" title="" /></p>\n\n\n\n<h2 id="启动与关闭mysql">启动与关闭mysql</h2>\n\n<p>启动：support-files/mysql.server start <br />\n关闭：support-files/mysql.server stop <br />\n<img src="http://img.blog.csdn.net/20160424111203604" alt="这里写图片描述" title="" /></p>\n\n\n\n<h2 id="连接mysql">连接mysql</h2>\n\n<p><img src="http://img.blog.csdn.net/20160424110445625" alt="这里写图片描述" title="" /></p>\n\n\n\n<h2 id="mysql安装好之后的目录结构">mysql安装好之后的目录结构</h2>\n\n<p>启动之前与后比较如下图 <br />\n<img src="http://img.blog.csdn.net/20160424111351394" alt="这里写图片描述" title="" /></p>\n\n\n\n<h1 id="安装可能遇到问题解决">安装可能遇到问题解决</h1>\n\n\n\n<h2 id="问题1">问题1</h2>\n\n<p>./configure 的时候报一下的错误，可以尝试这样解决 <br />\nMysql安装：/bin/rm: cannot remove <code>libtoolt': No such file or directory . <br />\n编译MySQL的过程中提示： <br />\n/bin/rm: cannot remove</code>libtoolt’: No such file or directory <br />\n解决： <br />\n1、确认libtool是否已经安装，如果没有安装的话，则先安装libtool</p>\n\n\n\n<h1 id="yum-y-install-libtool">yum -y install libtool</h1>\n\n<p>2、分别执行以下三条命令：</p>\n\n\n\n<h1 id="autoreconf-force-install">autoreconf –force –install</h1>\n\n\n\n<h1 id="libtoolize-automake-force">libtoolize –automake –force</h1>\n\n\n\n<h1 id="automake-force-add-missing">automake –force –add-missing</h1>\n\n<p>再重新编译安装，问题解决！</p>\n\n\n\n<h2 id="问题二">问题二</h2>\n\n<p>缺少ncurses-devel包 <br />\n错误信息如下 <br />\n<img src="http://img.blog.csdn.net/20160424095010089" alt="这里写图片描述" title="" /> <br />\n解决版本 <br />\n解决方式（CentOS） <br />\nyum list|grep ncurses <br />\nyum -y install ncurses-devel <br />\n<img src="http://img.blog.csdn.net/20160424095037876" alt="这里写图片描述" title="" /></p>\n\n\n\n<h2 id="问题三">问题三</h2>\n\n<p>当执行mysql_install_db初始化mysql时候 <br />\n发现已经存在my.cn文件，很有可能是系统之前安装了mysql没有卸载干净导致的 <br />\n<img src="http://img.blog.csdn.net/20160424104643678" alt="这里写图片描述" title="" /> <br />\nmy.cn文件如下 <br />\n<img src="http://img.blog.csdn.net/20160424104655554" alt="这里写图片描述" title="" /> <br />\n这样就导致了，本地usr/local/mysql/var中没有生成mysql.sock文件 <br />\n解决办法： <br />\n移除/etc/my.cn，然后重新初始化 <br />\n问题四：如果启动mysql出现找不到<em>**</em>.pid文件问题 <br />\n问题出错界面如下 <br />\n<img src="http://img.blog.csdn.net/20160424110539766" alt="这里写图片描述" title="" /> <br />\n修改my.cnf配置文件，指定数据库所在文件，如下 <br />\n<img src="http://img.blog.csdn.net/20160424110806267" alt="这里写图片描述" title="" /> <br />\n执行bin/mysqld_safe &amp; <br />\n在执行support-files/mysql.server start</p></div>&#13;\n <script type="text/javascript">&#13;\n $(function () {&#13;\n $('pre.prettyprint code').each(function () {&#13;\n var lines = $(this).text().split('\\n').length;&#13;\n var $numbering = $('&lt;ul/&gt;').addClass('pre-numbering').hide();&#13;\n $(this).addClass('has-numbering').parent().append($numbering);&#13;\n for (i = 1; i &lt;= lines; i++) {&#13;\n $numbering.append($('&lt;li/&gt;').text(i));&#13;\n };&#13;\n $numbering.fadeIn(1700);&#13;\n });&#13;\n });&#13;\n </script>&#13;\n &#13;\n
