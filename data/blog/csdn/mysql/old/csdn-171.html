\n\n<p>在使用mysqldump备份MySQL时，备份文件是SQL格式的文本文件，它由一系列create table和insert语句组成。恢复时，只要把该SQL文件作为mysql程序的输入即可，如下所示：</p>&#13;\n<p></p>&#13;\n<pre name="code" class="plain">mysqldump mydb mytbl &gt; mytbl.sql\nmysql mydb &lt; mytbl.sql</pre>&#13;\n<strong>注意：千万不要试图用mysqlimport加载由mysqldump生成的备份文件！</strong>mysqlimport只能读取数据行，不能用来读取SQL语句。&#13;\n<p></p>&#13;\n<p>当你在命令行下敲mysqldump，后面不加如何参数，将出现如下的提示信息：</p>&#13;\n<p></p>&#13;\n<pre name="code" class="plain">[root@lx203 ~]# mysqldump\nUsage: mysqldump [OPTIONS] database [tables]\nOR mysqldump [OPTIONS] --databases [OPTIONS] DB1 [DB2 DB3...]\nOR mysqldump [OPTIONS] --all-databases [OPTIONS]\nFor more options, use mysqldump --help</pre>&#13;\n<p></p>&#13;\n<p>上面的提示信息给出了3种使用方法，下面我们将一一介绍：</p>&#13;\n<p>1）mysqldump [OPTIONS] database [tables]</p>&#13;\n<p>这是最常见的使用方法，给出一个数据库名，在它后面给出一个或多个表名，表示导出该数据库下指定的这几个表。</p>&#13;\n<p>2）mysqldump [OPTIONS] --databases [OPTIONS] DB1 [DB2 DB3...]</p>&#13;\n<p>第二种方法使用了--databases参数，它将导出列出的数据库里的所有表</p>&#13;\n<p>3）mysqldump [OPTIONS] --all-databases [OPTIONS]</p>&#13;\n<p>--all-databases参数表示导出所有数据库里的所有表，包括mysql数据库里的权限表，所以一定要谨慎使用</p>&#13;\n<p>当你在命令行下敲mysqldump --help，将会出现所有参数，下面我们将介绍主要的几个：</p>&#13;\n<p>1）--opt</p>&#13;\n<p></p>&#13;\n<pre name="code" class="plain"> --opt Same as --add-drop-table, --add-locks, --create-options,\n --quick, --extended-insert, --lock-tables, --set-charset,\n and --disable-keys. Enabled by default, disable with\n --skip-opt.</pre>&#13;\n从什么的解释可以知道--opt将启用多个能加快速度的选项，用于备份过程的优化，它是默认启动的，一般建议启动它，--skip-opt选项可以禁用它。&#13;\n<p></p>&#13;\n<p>但是这里需要特别注意的是：--opt选项为了加快备份速度，<strong>会在备份表上加上读锁，将导致其它用户无法修改</strong>，所以在业务繁忙时，千万不要启用该选项备份！</p>&#13;\n<p>下面解释下--opt启用的这几个选项：</p>&#13;\n<p>--add-drop-table：表示在每条create table语句前加上drop table if exists语句；</p>&#13;\n<p>--add-locks：表示在生成的insert语句前后加上锁命令；</p>&#13;\n<p>--extended-insert：表示生成一次插入多行的insert语句</p>&#13;\n<p>--lock-tables：表示在备份表上加上读锁；<br />&#13;\n<br />&#13;\n</p>&#13;\n<p>2）--single-transaction</p>&#13;\n<p>在导出innodb和Falcon表时，最好加上该选项，可以确保得到一个稳定的备份。</p>&#13;\n<p>3）--no-create-info  --no-data</p>&#13;\n<p>前面提到过，默认情况下，mysqldump导出的文本文件中包含create table和insert into语句，如果加上--no-create-info表示不需要create table语句，同理，--no-data表示不需要insert into语句。</p>&#13;\n<p>4）--routines --triggers  --events</p>&#13;\n<p>默认情况下，只有触发器包含在导出的文本文件里，如果你需要导出其它的对象，可以加上相应的选项。</p>&#13;\n<p>这三个选项还有相应的--skip形式，表示把它排除在导出文件里。</p>&#13;\n<p><br />&#13;\n</p>&#13;\n &#13;\n
