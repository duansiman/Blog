\n\n<h2>字符串大小写转换</h2>&#13;\n<p>MySQL 字符串大小写转化函数有两对： lower(), uppper() 和 lcase(), ucase()</p>&#13;\n<pre code_snippet_id="618843" snippet_file_name="blog_20150313_1_9380276" name="code" class="sql">mysql&gt; select lower('DDD');\n+--------------+\n| lower('DDD') |\n+--------------+\n| ddd |\n+--------------+\n\nmysql&gt; select upper('ddd');\n+--------------+\n| upper('ddd') |\n+--------------+\n| DDD |\n+--------------+\n\nmysql&gt; select lcase('DDD');\n+--------------+\n| lcase('DDD') |\n+--------------+\n| ddd |\n+--------------+\n\nmysql&gt; select ucase('ddd');\n+--------------+\n| ucase('ddd') |\n+--------------+\n| DDD |\n+--------------+\n</pre><br />&#13;\n<p>通常情况下，我选择 lower(), upper() 来转换字符串大小写，因为这和其他数据库中函数相兼容。</p>&#13;\n<h2>清除字符串首尾空格</h2>&#13;\n<p>MySQL 中的清除字符串首尾空格函数有三个： ltrim(), rtrim(), trim()</p>&#13;\n<pre><pre code_snippet_id="618843" snippet_file_name="blog_20150313_2_2600413" name="code" class="html">mysql&gt; select concat('.', ltrim(' ddd '), '.');\n+----------------------------------+\n| concat('.', ltrim(' ddd '), '.') |\n+----------------------------------+\n| .ddd . |\n+----------------------------------+\n\nmysql&gt; select concat('.', rtrim(' ddd '), '.');\n+----------------------------------+\n| concat('.', rtrim(' ddd '), '.') |\n+----------------------------------+\n| . ddd. |\n+----------------------------------+\n\nmysql&gt; select concat('.', trim(' ddd '), '.');\n+---------------------------------+\n| concat('.', trim(' ddd '), '.') |\n+---------------------------------+\n| .ddd. |\n+---------------------------------+</pre></pre>&#13;\n<p>MySQL 中的 trim 字符串函数，实在是强大。它不仅能消除字符串首尾部的空格，还可以消除我们指定的任意字符。ltrim(), rtrim() 只是它的一个功能子集。来看下 trim 函数的完整语法：</p>&#13;\n<pre><pre code_snippet_id="618843" snippet_file_name="blog_20150313_3_2581946" name="code" class="sql">1. trim([{both | leading | trailing} [remstr] from] str)\n2. trim([remstr from] str)\n</pre></pre>&#13;\n<p>1. 清除字符串首部字符。</p>&#13;\n<pre><pre code_snippet_id="618843" snippet_file_name="blog_20150313_4_5420398" name="code" class="sql">mysql&gt; select trim(leading '.' from '..ddd..');\n+----------------------------------+\n| trim(leading '.' from '..ddd..') |\n+----------------------------------+\n| ddd.. |\n+----------------------------------+\n</pre></pre>&#13;\n<p>2. 清除字符串尾部字符。</p>&#13;\n<pre><pre code_snippet_id="618843" snippet_file_name="blog_20150313_5_3242341" name="code" class="sql">mysql&gt; select trim(trailing '.' from '..ddd..');\n+-----------------------------------+\n| trim(trailing '.' from '..ddd..') |\n+-----------------------------------+\n| ..ddd |\n+-----------------------------------+\n</pre></pre>&#13;\n<p>3. 清除字符串首尾部字符。</p>&#13;\n<pre><pre code_snippet_id="618843" snippet_file_name="blog_20150313_6_8871672" name="code" class="sql">mysql&gt; select trim(both '.' from '..ddd..');\n+-------------------------------+\n| trim(both '.' from '..ddd..') |\n+-------------------------------+\n| ddd |\n+-------------------------------+\n\nmysql&gt; select trim('.' from '..ddd..');\n+--------------------------+\n| trim('.' from '..ddd..') |\n+--------------------------+\n| ddd |\n+--------------------------+\n</pre></pre>&#13;\n<p>trim() 默认清除字符串首尾部的空格。</p>&#13;\n<h2>字符串截取</h2>&#13;\n<p>MySQL 字符串截取函数：left(), right(), substring(), substring_index()。还有 mid(), substr()。其中，mid(), substr() 等价于 substring() 函数，substring() 的功能非常强大和灵活。</p>&#13;\n<p>1. 字符串截取：left(str, length)</p>&#13;\n<pre><pre code_snippet_id="618843" snippet_file_name="blog_20150313_7_2756900" name="code" class="sql">mysql&gt; select left('sqlstudy.com', 3);\n+-------------------------+\n| left('sqlstudy.com', 3) |\n+-------------------------+\n| sql |\n+-------------------------+\n</pre></pre>&#13;\n<p>2. 字符串截取：right(str, length)<br />&#13;\n</p>&#13;\n<pre code_snippet_id="618843" snippet_file_name="blog_20150313_8_5562333" name="code" class="sql">mysql&gt; select right('sqlstudy.com', 3);\n+--------------------------+\n| right('sqlstudy.com', 3) |\n+--------------------------+\n| com |\n+--------------------------+</pre>&#13;\n<p></p>&#13;\n<p>3. 字符串截取：substring(str, pos); substring(str, pos, len)</p>&#13;\n<p>3.1 从字符串的第 4 个字符位置开始取，直到结束。</p>&#13;\n<p></p>&#13;\n<pre code_snippet_id="618843" snippet_file_name="blog_20150313_9_3351256" name="code" class="sql">mysql&gt; select substring('sqlstudy.com', 4);\n+------------------------------+\n| substring('sqlstudy.com', 4) |\n+------------------------------+\n| study.com |\n+------------------------------+</pre>&#13;\n<p></p>&#13;\n<p>3.2 从字符串的第 4 个字符位置开始取，只取 2 个字符。</p>&#13;\n<pre><pre code_snippet_id="618843" snippet_file_name="blog_20150313_10_616791" name="code" class="sql">mysql&gt; select substring('sqlstudy.com', 4, 2);\n+---------------------------------+\n| substring('sqlstudy.com', 4, 2) |\n+---------------------------------+\n| st |\n+---------------------------------+\n</pre></pre>&#13;\n<p>3.3 从字符串的第 4 个字符位置（倒数）开始取，直到结束。</p>&#13;\n<pre><pre code_snippet_id="618843" snippet_file_name="blog_20150313_11_9518527" name="code" class="sql">mysql&gt; select substring('sqlstudy.com', -4);\n+-------------------------------+\n| substring('sqlstudy.com', -4) |\n+-------------------------------+\n| .com |\n+-------------------------------+\n</pre></pre>&#13;\n<p>3.4 从字符串的第 4 个字符位置（倒数）开始取，只取 2 个字符。<br />&#13;\n</p>&#13;\n<pre code_snippet_id="618843" snippet_file_name="blog_20150313_12_7656115" name="code" class="html">mysql&gt; select substring('sqlstudy.com', -4, 2);\n+----------------------------------+\n| substring('sqlstudy.com', -4, 2) |\n+----------------------------------+\n| .c |\n+----------------------------------+</pre>&#13;\n<p></p>&#13;\n<p>我们注意到在函数 substring(str,pos, len)中， pos 可以是负值，但 len 不能取负值。</p>&#13;\n<p>4. 字符串截取：substring_index(str,delim,count)</p>&#13;\n<p>4.1 截取第二个 '.' 之前的所有字符。</p>&#13;\n<pre><pre code_snippet_id="618843" snippet_file_name="blog_20150313_13_2097751" name="code" class="sql">mysql&gt; select substring_index('www.sqlstudy.com.cn', '.', 2);\n+------------------------------------------------+\n| substring_index('www.sqlstudy.com.cn', '.', 2) |\n+------------------------------------------------+\n| www.sqlstudy |\n+------------------------------------------------+\n</pre></pre>&#13;\n<p>4.2 截取第二个 '.' （倒数）之后的所有字符。</p>&#13;\n<pre><pre code_snippet_id="618843" snippet_file_name="blog_20150313_14_6331642" name="code" class="sql">mysql&gt; select substring_index('www.sqlstudy.com.cn', '.', -2);\n+-------------------------------------------------+\n| substring_index('www.sqlstudy.com.cn', '.', -2) |\n+-------------------------------------------------+\n| com.cn |\n+-------------------------------------------------+\n</pre></pre>&#13;\n<p>4.3 如果在字符串中找不到 delim 参数指定的值，就返回整个字符串</p>&#13;\n<pre><pre code_snippet_id="618843" snippet_file_name="blog_20150313_15_5789787" name="code" class="sql">mysql&gt; select substring_index('www.sqlstudy.com.cn', '.coc', 1);\n+---------------------------------------------------+\n| substring_index('www.sqlstudy.com.cn', '.coc', 1) |\n+---------------------------------------------------+\n| www.sqlstudy.com.cn |\n+---------------------------------------------------+</pre></pre>&#13;\n &#13;\n
