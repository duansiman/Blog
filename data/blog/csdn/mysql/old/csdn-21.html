\n\n<div style="margin:0px; font-family:Helvetica,&quot;Hiragino Sans GB&quot;,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,&quot;Microsoft YaHei UI&quot;,SimSun,SimHei,arial,sans-serif; font-size:15px; line-height:24px; widows:1">&#13;\nmysql有六处使用了字符集，分别为：client 、connection、database、results、server 、system。</div>&#13;\n<div style="margin:0px; font-family:Helvetica,&quot;Hiragino Sans GB&quot;,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,&quot;Microsoft YaHei UI&quot;,SimSun,SimHei,arial,sans-serif; font-size:15px; line-height:24px; widows:1">&#13;\n<span style="white-space:pre"></span><span style="color:rgb(255,0,0)">character_set_client  是MySQL</span><span style="line-height:1.6"><span style="color:rgb(255,0,0)">数据库</span></span><span style="line-height:1.6"><span style="color:rgb(255,0,0)">可以接受数据的编码</span></span><span style="line-height:1.6"><span style="color:rgb(255,0,0)"> </span></span></div>&#13;\n<div style="margin:0px; font-family:Helvetica,&quot;Hiragino Sans GB&quot;,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,&quot;Microsoft YaHei UI&quot;,SimSun,SimHei,arial,sans-serif; font-size:15px; line-height:24px; widows:1">&#13;\n<div style="margin:0px"><span style="white-space:pre"></span>connection是连接数据库的字符集设置类型，如果程序没有指明连接数据库使用的字符集类型就按照服务器端默认的字符集设置。      </div>&#13;\n<div style="margin:0px"><span style="white-space:pre"></span>database是数据库服务器中某个库使用的字符集设定，如果建库时没有指明，将使用服务器安装时指定的字符集设置。   </div>&#13;\n<div style="margin:0px"><span style="white-space:pre"></span><span style="color:rgb(255,0,0)">character_set_results </span><span style="line-height:1.6"><span style="color:rgb(255,0,0)">是</span></span><span style="line-height:1.6"><span style="color:rgb(255,0,0)">MySQL</span></span><span style="line-height:1.6"><span style="color:rgb(255,0,0)">数据库给客户端返回时使用的字符集，如果没有指明，使用服务器默认的字符集。&#13;\n    </span>  </span></div>&#13;\n<div style="margin:0px"><span style="white-space:pre"></span>server是服务器安装时指定的默认字符集设定。      </div>&#13;\n<div style="margin:0px"><span style="white-space:pre"></span>system是数据库系统使用的字符集设定。</div>&#13;\n<div style="margin:0px"><br />&#13;\n</div>&#13;\n<div style="margin:0px">&#13;\n<h1 style="margin:1.33rem 0px 0.667rem; padding:0px; font-size:1.4rem">查看和修改数据库字符集：</h1>&#13;\n<div style="margin:0px"><span style="white-space:pre"></span><span style="color:rgb(255,0,0)">show variables like 'character%';</span></div>&#13;\n<div style="margin:0px"><span style="white-space:pre"><span style="color:rgb(255,0,0)"></span></span><span style="color:rgb(255,0,0)">set character_set_results=gbk;</span></div>&#13;\n<div style="margin:0px"><span style="white-space:pre"><span style="color:rgb(255,0,0)"></span></span><span style="color:rgb(255,0,0)">set character_set_client=gbk; </span></div>&#13;\n<div style="margin:0px"><span style="line-height:1.6"><br />&#13;\n</span></div>&#13;\n<h1 style="margin:1.33rem 0px 0.667rem; padding:0px; font-size:1.4rem"><span style="line-height:1.6"></span></h1>&#13;\n<h1 style="margin:1.33rem 0px 0.667rem; padding:0px; font-size:1.4rem"><span style="color:rgb(255,0,0)">问题1：</span>安装MySQL数据库时设置编码(utf8)，若安装数据库时没有设置，修改方法如下：    </h1>&#13;\n<div style="margin:0px">&#13;\n<div style="margin:0px"><span style="line-height:1.6"> 1</span><span style="line-height:1.6">.my.ini中设置：</span><span style="line-height:1.6">  </span></div>&#13;\n<blockquote style="margin:0px 0px 0px 40px; padding:0px; border:none">&#13;\n<div style="margin:0px">[client]</div>&#13;\n<div style="margin:0px"><br />&#13;\n</div>&#13;\n<div style="margin:0px">port=3306</div>&#13;\n<div style="margin:0px"><br />&#13;\n</div>&#13;\n<div style="margin:0px">[mysql]</div>&#13;\n<div style="margin:0px"><br />&#13;\n</div>&#13;\n<div style="margin:0px"><span style="color:rgb(255,0,0)">default-character-set=gbk【修改这里更改了三个变量：client、results、connection】</span></div>&#13;\n</blockquote>&#13;\n<div style="margin:0px"><img src="http://img.blog.csdn.net/20170316133340401?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvUVExMDEyNDIxMzk2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</div>&#13;\n<div style="margin:0px">2.查看MySQL数据库默认字符集</div>&#13;\n<div style="margin:0px"> <img src="http://img.blog.csdn.net/20170316133404041?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvUVExMDEyNDIxMzk2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /></div>&#13;\n</div>&#13;\n<div style="margin:0px">&#13;\n<h1 style="margin:1.33rem 0px 0.667rem; padding:0px; font-size:1.4rem"><span style="color:rgb(255,0,0)">问题2：</span></h1>&#13;\n<div style="margin:0px">    由于安装数据库设置的是utf8格式，但是在dos界面cmd命令行下无法插入中文，也无法显示中文数据（乱码）。</div>&#13;\n<div style="margin:0px"><img src="http://img.blog.csdn.net/20170316133432042?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvUVExMDEyNDIxMzk2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</div>&#13;\n<div style="margin:0px"><br />&#13;\n</div>&#13;\n<div style="margin:0px"><img src="http://img.blog.csdn.net/20170316133515526?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvUVExMDEyNDIxMzk2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</div>&#13;\n<div style="margin:0px"><span style="line-height:1.6">此时，MySQL服务器端可以接受的编码character_set_client =utf8。而客户端的编码格式为gbk。如下图所示：</span></div>&#13;\n<div style="margin:0px"><img src="http://img.blog.csdn.net/20170316133546948?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvUVExMDEyNDIxMzk2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</div>&#13;\n<div style="margin:0px"><span style="line-height:1.6"><strong><span style="color:rgb(255,0,0)">解决办法如下：</span></strong></span></div>&#13;\n</div>&#13;\n</div>&#13;\n<div style="margin:0px">   1.首先查看<span style="line-height:1.6"> MySQL服务器可以接受数据的编码</span><span style="line-height:1.6"> </span><span style="line-height:1.6">character_set_client =utf8 。</span></div>&#13;\n<div style="margin:0px"><img src="http://img.blog.csdn.net/20170316133606988?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvUVExMDEyNDIxMzk2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n<div style="margin:0px">     <span style="line-height:1.6"> 2.</span><span style="line-height:1.6">而客户端的编码格式为gbk，插入中文会报错。</span>ERROR 1366 (HY000): Incorrect string value: '\\xC1\\xF5' for column 'name' at row 1。</div>&#13;\n</div>&#13;\n<div style="margin:0px">此时，修改<span class="kwd" style="color:rgb(30,52,123); line-height:1.6">set</span><span class="pln" style="color:rgb(72,72,76); line-height:1.6"> character_set_client</span><span class="pun" style="color:rgb(147,161,161); line-height:1.6">=</span><span class="pln" style="color:rgb(72,72,76); line-height:1.6">g</span><span class="pln" style="color:rgb(72,72,76)">bk</span><span class="pun" style="color:rgb(147,161,161)"><span style="color:rgb(0,0,0)">;&#13;\n 插入中文数据成功！</span></span></div>&#13;\n<img src="http://img.blog.csdn.net/20170316133630285?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvUVExMDEyNDIxMzk2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n<div style="margin:0px">&#13;\n<div style="margin:0px">     3.查询数据，此时中文乱码，显示不正常。</div>&#13;\n</div>&#13;\n<img src="http://img.blog.csdn.net/20170316133649714?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvUVExMDEyNDIxMzk2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n<div style="margin:0px">     4.因为客户端（cmd）解码格式为gbk。而此时MySQL数据库向客户端（cmd）返回数据的格式为<span style="line-height:1.6">character_set_results=utf8</span></div>&#13;\n<img src="http://img.blog.csdn.net/20170316133940618?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvUVExMDEyNDIxMzk2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n<div style="margin:0px">    5.<span style="line-height:1.6">此时，修改</span><span class="kwd" style="color:rgb(30,52,123); line-height:1.6">set</span><span class="pln" style="color:rgb(72,72,76); line-height:1.6"> character_set_results</span><span class="pun" style="color:rgb(147,161,161); line-height:1.6">=</span><span class="pln" style="color:rgb(72,72,76); line-height:1.6">g</span><span class="pln" style="color:rgb(72,72,76); line-height:1.6">bk</span><span class="pun" style="color:rgb(147,161,161); line-height:1.6"><span style="color:rgb(0,0,0)">; </span></span></div>&#13;\n<img src="http://img.blog.csdn.net/20170316134000352?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvUVExMDEyNDIxMzk2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n<div style="margin:0px">    6.<span style="line-height:1.6">查询显示中文数据成功！</span><span style="line-height:1.6"> </span></div>&#13;\n<img src="http://img.blog.csdn.net/20170316134024341?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvUVExMDEyNDIxMzk2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n<div style="margin:0px"> <span style="line-height:1.6"> 7.注意：dos（cmd）客户端下设置的client和results编码格式，对SQLyog等软件客户端的编码格式不存在影响。所以这2处编码格式是针对不同的客户端。</span></div>&#13;\n<div style="margin:0px"><img src="http://img.blog.csdn.net/20170316135209142?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvUVExMDEyNDIxMzk2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n<div style="margin:0px"> </div>&#13;\n</div>&#13;\n<div style="margin:0px"><br />&#13;\n<div style="margin:0px"> </div>&#13;\n</div>&#13;\n</div>&#13;\n &#13;\n
