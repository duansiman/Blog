\n\n一、理论：<br />&#13;\n1.安装包比较：<br />&#13;\na.rpm：优点为安装简单，缺点：安装路径不灵活，一个服务器只能安装一台mysql<br />&#13;\nb.二进制：优点为安装简单，一台服务器可以安装多个mysql。缺点：性能不如源码编译的好<br />&#13;\nc.源码：优点为可按需编译，性能好。缺点：安装过程复杂，编译时间长<br />&#13;\n2.linux平台上的mysql参数文件读取：<br />&#13;\na./etc/my.cnf：全局选项<br />&#13;\nb.$MYSOL_HOME/my.cnf：服务器相关选项，其中$MYSQL_HOME为环境变量中指定的MYSQL安装目录<br />&#13;\nc.default-extra-file：用--default--extra-file=path指定的文件<br />&#13;\nd.~/my.cnf：用户相关选项<br />&#13;\n3.源码编译安装的性能优化：<br />&#13;\na../configure --help可以看到所有编译的配置选项<br />&#13;\nb.只安装客户端：./configure --without-server<br />&#13;\nc.不要位于/usr/local/var下的日志文件<br />&#13;\n./configure --prefix=/usr/local/mysql<br />&#13;\n./configure --prefix=/usr/lcoal localstatedir=/usr/local/mysql/data<br />&#13;\nd.修改socket的默认位置：<br />&#13;\n./configure --with-unix-socket-path=/usr/local/mysql/tmp/mysql.sock<br />&#13;\ne.只选择要使用的字符集：<br />&#13;\n./configure --with-charset=charset<br />&#13;\n./configure --with-collaction=COLLATION<br />&#13;\n./configure --width-extra-chrsets=LIST(以空格为间隔的字符集名、complex：包括不能动态装载的所有字符集、all：包括所有字符集)<br />&#13;\nf.使用静态编译以提高性能：<br />&#13;\n.configure --with-client-ldflags=-all-static --with-mysqld-ldflags=-all-static <br />&#13;\n4.升级mysql方法一：<br />&#13;\na.在目标服务器上安装新版本的mysql<br />&#13;\nb.在新版本的mysql上建立和老版本同名的数据库<br />&#13;\nmysqladmin -h hostname -P port -u user -p passwd create_db_name<br />&#13;\nc.将老版本的mysql上的数据库通过管道导入到新版本的数据库中<br />&#13;\nmysqldump --opt db_name | mysql -h hostname -P port -u user -p passwd db_name <br />&#13;\n(--opt表明采用优化方式导出，--compress可加上来减少网络传输)<br />&#13;\nd.将旧版本mysql中的mysql数据库目录全部cp过来覆盖新版本mysql中的mysql数据库<br />&#13;\ne.在新版本shell里执行mysql_fix_privilege_tables命令升级权限表<br />&#13;\nf.重启新版本mysql<br />&#13;\n5.升级mysql方法二：<br />&#13;\na.在目标服务器上安装mysql<br />&#13;\nb.在旧版本mysql中创建用来保存输出文件的目录并用mysqldump备份数据库<br />&#13;\nmkdir DUMPDIR<br />&#13;\nmysqldump --tab=DUMPDIR db_name<br />&#13;\n此时生成两个文件，.sql保存了表的创建语句，.txt保存了用默认分隔符生成的纯数据文本<br />&#13;\nc.将DUMPDIR目录中的文件复制到目标服务器中：<br />&#13;\nmysqladmin create db_name <br />&#13;\ncat DUMPDIR/*.sql | mysql db_name<br />&#13;\nmtqslimport db_name DUMPDIR/*.txt<br />&#13;\nd.升级目标数据库权限表并重启mysql服务 <br />&#13;\n6.升级mysql方法三（只能用于MyISAM表）<br />&#13;\na.在目标服务器上安装新数据库<br />&#13;\nb.将旧版本的MYSQL数据目录下的所有文件复制到新版本mysql相应目录下<br />&#13;\nc.升级目标服务器权限表并重启mysql服务<br />&#13;\n7.mysql降低版本：<br />&#13;\na.将数据文件手复制到低版本数据库的数据目录下，若有表格式冲突或是数据引擎不同，则可以先使用mysqldump命令导出文本后再将其导入低版本的数据库<br />&#13;\n &#13;\n
