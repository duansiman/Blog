\n\n<pre name="code" class="sql">mysql&gt; use test1;\nReading table information for completion of table and column names\nYou can turn off this feature to get a quicker startup with -A\n\nDatabase change\n\nmysql&gt; select csdn-100.html csdn-101.html csdn-102.html csdn-103.html csdn-104.html csdn-105.html csdn-106.html csdn-107.html csdn-108.html csdn-109.html csdn-10.html csdn-110.html csdn-111.html csdn-112.html csdn-113.html csdn-114.html csdn-115.html csdn-116.html csdn-117.html csdn-118.html csdn-119.html csdn-11.html csdn-120.html csdn-121.html csdn-122.html csdn-123.html csdn-124.html csdn-125.html csdn-126.html csdn-127.html csdn-128.html csdn-129.html csdn-12.html csdn-130.html csdn-131.html csdn-132.html csdn-133.html csdn-134.html csdn-135.html csdn-136.html csdn-137.html csdn-138.html csdn-139.html csdn-13.html csdn-140.html csdn-141.html csdn-142.html csdn-143.html csdn-144.html csdn-145.html csdn-146.html csdn-147.html csdn-148.html csdn-149.html csdn-14.html csdn-150.html csdn-151.html csdn-152.html csdn-153.html csdn-154.html csdn-155.html csdn-156.html csdn-157.html csdn-158.html csdn-159.html csdn-15.html csdn-160.html csdn-161.html csdn-162.html csdn-163.html csdn-164.html csdn-165.html csdn-166.html csdn-167.html csdn-168.html csdn-169.html csdn-16.html csdn-170.html csdn-171.html csdn-172.html csdn-173.html csdn-174.html csdn-175.html csdn-176.html csdn-177.html csdn-178.html csdn-179.html csdn-17.html csdn-180.html csdn-181.html csdn-182.html csdn-183.html csdn-184.html csdn-185.html csdn-186.html csdn-187.html csdn-188.html csdn-189.html csdn-18.html csdn-190.html csdn-191.html csdn-192.html csdn-193.html csdn-194.html csdn-195.html csdn-196.html csdn-197.html csdn-198.html csdn-199.html csdn-19.html csdn-1.html csdn-200.html csdn-201.html csdn-202.html csdn-203.html csdn-204.html csdn-205.html csdn-206.html csdn-207.html csdn-208.html csdn-209.html csdn-20.html csdn-210.html csdn-211.html csdn-212.html csdn-213.html csdn-214.html csdn-215.html csdn-216.html csdn-217.html csdn-218.html csdn-219.html csdn-21.html csdn-220.html csdn-221.html csdn-22.html csdn-23.html csdn-24.html csdn-25.html csdn-26.html csdn-27.html csdn-28.html csdn-29.html csdn-2.html csdn-30.html csdn-31.html csdn-32.html csdn-33.html csdn-34.html csdn-35.html csdn-36.html csdn-37.html csdn-38.html csdn-39.html csdn-3.html csdn-40.html csdn-41.html csdn-42.html csdn-43.html csdn-44.html csdn-45.html csdn-46.html csdn-47.html csdn-48.html csdn-49.html csdn-4.html csdn-50.html csdn-51.html csdn-52.html csdn-53.html csdn-54.html csdn-55.html csdn-56.html csdn-57.html csdn-58.html csdn-59.html csdn-5.html csdn-60.html csdn-61.html csdn-62.html csdn-63.html csdn-64.html csdn-65.html csdn-66.html csdn-67.html csdn-68.html csdn-69.html csdn-6.html csdn-70.html csdn-71.html csdn-72.html csdn-73.html csdn-74.html csdn-75.html csdn-76.html csdn-77.html csdn-78.html csdn-79.html csdn-7.html csdn-80.html csdn-81.html csdn-82.html csdn-83.html csdn-84.html csdn-85.html csdn-86.html csdn-87.html csdn-88.html csdn-89.html csdn-8.html csdn-90.html csdn-91.html csdn-92.html csdn-93.html csdn-94.html csdn-95.html csdn-96.html csdn-97.html csdn-98.html csdn-99.html csdn-9.html mysql.sh from emp;\n+------------+----------+------+--------+\n| ename | hiredate | sal | deptno |\n+------------+----------+------+--------+\n| aaaaa | NULL | NULL | 1 |\n| cccccccccc | NULL | NULL | 2 |\n| ddddddddd | NULL | NULL | 3 |\n| ffffff | NULL | NULL | 4 |\n| ggg | NULL | NULL | 5 |\n| a1 | NULL | NULL | 5 |\n+------------+----------+------+--------+\n6 rows in set (0.00 sec)\n\nmysql&gt; show create table emp \\G;\n*************************** 1. row ***************************\n Table: emp\nCreate Table: CREATE TABLE `emp` (\n `ename` varchar(10) DEFAULT NULL,\n `hiredate` date DEFAULT NULL,\n `sal` decimal(10,2) DEFAULT NULL,\n `deptno` int(2) DEFAULT NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8\n1 row in set (0.01 sec)\n\nERROR: \nNo query specified\n\nmysql&gt; DELIMITER &amp;&amp; \nmysql&gt; CREATE PROCEDURE num_from_employee (IN input_deptno int, OUT count_num INT ) \n -&gt; READS SQL DATA \n -&gt; BEGIN \n -&gt; SELECT COUNT(*) FROM emp WHERE deptno=input_deptno ; \n -&gt; END &amp;&amp;\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql&gt; delimiter ;\n\nmysql&gt; call num_from_employee(5,@a);\n+----------+\n| COUNT(*) |\n+----------+\n| 2 |\n+----------+\n1 row in set (0.02 sec)\n\nQuery OK, 0 rows affected (0.02 sec)\n\nmysql&gt; call num_from_employee(1,@a);\n+----------+\n| COUNT(*) |\n+----------+\n| 1 |\n+----------+\n1 row in set (0.01 sec)\n\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql&gt; create table inventory(\n -&gt; film_id int(11),\n -&gt; store_id int(11),\n -&gt; inventory_in_stock varchar(50)\n -&gt; ) ENGINE=InnoDB DEFAULT CHARSET=utf8;\nQuery OK, 0 rows affected (0.02 sec)\n\nmysql&gt; insert into inventory(film_id,store_id,inventory_in_stock) values (1,2,'aaaaaaaa'), (3,4,'bbbb'), (5,6,'cccccccccc'), (7,8,'dddddd'), (9,10,'fff');\nQuery OK, 5 rows affected (0.00 sec)\nRecords: 5 Duplicates: 0 Warnings: 0\n \nmysql&gt; select csdn-100.html csdn-101.html csdn-102.html csdn-103.html csdn-104.html csdn-105.html csdn-106.html csdn-107.html csdn-108.html csdn-109.html csdn-10.html csdn-110.html csdn-111.html csdn-112.html csdn-113.html csdn-114.html csdn-115.html csdn-116.html csdn-117.html csdn-118.html csdn-119.html csdn-11.html csdn-120.html csdn-121.html csdn-122.html csdn-123.html csdn-124.html csdn-125.html csdn-126.html csdn-127.html csdn-128.html csdn-129.html csdn-12.html csdn-130.html csdn-131.html csdn-132.html csdn-133.html csdn-134.html csdn-135.html csdn-136.html csdn-137.html csdn-138.html csdn-139.html csdn-13.html csdn-140.html csdn-141.html csdn-142.html csdn-143.html csdn-144.html csdn-145.html csdn-146.html csdn-147.html csdn-148.html csdn-149.html csdn-14.html csdn-150.html csdn-151.html csdn-152.html csdn-153.html csdn-154.html csdn-155.html csdn-156.html csdn-157.html csdn-158.html csdn-159.html csdn-15.html csdn-160.html csdn-161.html csdn-162.html csdn-163.html csdn-164.html csdn-165.html csdn-166.html csdn-167.html csdn-168.html csdn-169.html csdn-16.html csdn-170.html csdn-171.html csdn-172.html csdn-173.html csdn-174.html csdn-175.html csdn-176.html csdn-177.html csdn-178.html csdn-179.html csdn-17.html csdn-180.html csdn-181.html csdn-182.html csdn-183.html csdn-184.html csdn-185.html csdn-186.html csdn-187.html csdn-188.html csdn-189.html csdn-18.html csdn-190.html csdn-191.html csdn-192.html csdn-193.html csdn-194.html csdn-195.html csdn-196.html csdn-197.html csdn-198.html csdn-199.html csdn-19.html csdn-1.html csdn-200.html csdn-201.html csdn-202.html csdn-203.html csdn-204.html csdn-205.html csdn-206.html csdn-207.html csdn-208.html csdn-209.html csdn-20.html csdn-210.html csdn-211.html csdn-212.html csdn-213.html csdn-214.html csdn-215.html csdn-216.html csdn-217.html csdn-218.html csdn-219.html csdn-21.html csdn-220.html csdn-221.html csdn-22.html csdn-23.html csdn-24.html csdn-25.html csdn-26.html csdn-27.html csdn-28.html csdn-29.html csdn-2.html csdn-30.html csdn-31.html csdn-32.html csdn-33.html csdn-34.html csdn-35.html csdn-36.html csdn-37.html csdn-38.html csdn-39.html csdn-3.html csdn-40.html csdn-41.html csdn-42.html csdn-43.html csdn-44.html csdn-45.html csdn-46.html csdn-47.html csdn-48.html csdn-49.html csdn-4.html csdn-50.html csdn-51.html csdn-52.html csdn-53.html csdn-54.html csdn-55.html csdn-56.html csdn-57.html csdn-58.html csdn-59.html csdn-5.html csdn-60.html csdn-61.html csdn-62.html csdn-63.html csdn-64.html csdn-65.html csdn-66.html csdn-67.html csdn-68.html csdn-69.html csdn-6.html csdn-70.html csdn-71.html csdn-72.html csdn-73.html csdn-74.html csdn-75.html csdn-76.html csdn-77.html csdn-78.html csdn-79.html csdn-7.html csdn-80.html csdn-81.html csdn-82.html csdn-83.html csdn-84.html csdn-85.html csdn-86.html csdn-87.html csdn-88.html csdn-89.html csdn-8.html csdn-90.html csdn-91.html csdn-92.html csdn-93.html csdn-94.html csdn-95.html csdn-96.html csdn-97.html csdn-98.html csdn-99.html csdn-9.html mysql.sh from inventory;\n+---------+----------+--------------------+\n| film_id | store_id | inventory_in_stock |\n+---------+----------+--------------------+\n| 1 | 2 | aaaaaaaa |\n| 3 | 4 | bbbb |\n| 5 | 6 | cccccccccc |\n| 7 | 8 | dddddd |\n| 9 | 10 | fff |\n+---------+----------+--------------------+\n5 rows in set (0.00 sec)\n\nmysql&gt; delimiter $$\nmysql&gt; create procedure film_in_stock(in p_film_id int,in p_store_id int,out p_film_count int) \n -&gt; reads sql data\n -&gt; begin\n -&gt; select film_id\n -&gt; from inventory\n -&gt; where film_id = p_film_id\n -&gt; and store_id = p_store_id;\n -&gt; select found_rows() into p_film_count;\n -&gt; end $$\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql&gt; delimiter ;\nmysql&gt; call film_in_stock(5,6,@a);\n+---------+\n| film_id |\n+---------+\n| 5 |\n+---------+\n1 row in set (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nmysql&gt; show create procedure film_in_stock \\G;\n*************************** 1. row ***************************\n Procedure: film_in_stock\n sql_mode: \n Create Procedure: CREATE DEFINER=`root`@`localhost` PROCEDURE `film_in_stock`(in p_film_id int,in p_store_id int,out p_film_count int)\n READS SQL DATA\nbegin\n select film_id\n from inventory\n where film_id = p_film_id\n and store_id = p_store_id;\n select found_rows() into p_film_count;\nend\ncharacter_set_client: utf8\ncollation_connection: utf8_general_ci\n Database Collation: utf8_general_ci\n1 row in set (0.01 sec)\n\nERROR: \nNo query specified\n\nmysql&gt; create table actor(\n -&gt; actor_id int(11) NOT NULL AUTO_INCREMENT , \n -&gt; first_name varchar(30),\n -&gt; last_name varchar(30),\n -&gt; PRIMARY KEY (actor_id) \n -&gt; ) engine = innodb charset = utf8;\nQuery OK, 0 rows affected (0.02 sec)\n\n\nmysql&gt; delimiter $$\nmysql&gt; create procedure actor_insert()\n -&gt; begin \n -&gt; set @x = 1;\n -&gt; insert into actor(actor_id,first_name,last_name) values (201,'Test',201);\n -&gt; set @x = 2;\n -&gt; insert into actor(actor_id,first_name,last_name) values(1,'Test','1');\n -&gt; set @x = 3;\n -&gt; end $$\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql&gt; call actor_insert();\nQuery OK, 0 rows affected (0.02 sec)\n\nmysql&gt; call actor_insert();\nERROR 1062 (23000): Duplicate entry '201' for key 'PRIMARY'\nmysql&gt; select @x;\n+------+\n| @x |\n+------+\n| 1 |\n+------+\n1 row in set (0.00 sec)\n\nmysql&gt; delimiter $$\nmysql&gt; create procedure actor_insert_new()\n -&gt; begin \n -&gt; DECLARE CONTINUE HANDLER FOR SQLSTATE '23000' SET @x2 = 1;\n -&gt; set @x = 1;\n -&gt; insert into actor(actor_id,first_name,last_name) values (201,'Test',201);\n -&gt; set @x = 2;\n -&gt; insert into actor(actor_id,first_name,last_name) values(1,'Test','1');\n -&gt; set @x = 3;\n -&gt; end $$\nQuery OK, 0 rows affected (0.02 sec)\n\nmysql&gt; delimiter ;\n\nmysql&gt; call actor_insert_new();\nQuery OK, 0 rows affected, 1 warning (0.01 sec)\n\nmysql&gt; call actor_insert_new();\nQuery OK, 0 rows affected, 1 warning (0.00 sec)\n\nmysql&gt; select @x,@x2;\n+------+------+\n| @x | @x2 |\n+------+------+\n| 3 | 1 |\n+------+------+\n1 row in set (0.00 sec)\n\nmysql&gt; show create table payment \\G;\n*************************** 1. row ***************************\n Table: payment\nCreate Table: CREATE TABLE `payment` (\n `staff_id` int(11) DEFAULT NULL,\n `amount` int(11) DEFAULT NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8\n1 row in set (0.01 sec)\n\nERROR: \nNo query specified\n\nmysql&gt; select csdn-100.html csdn-101.html csdn-102.html csdn-103.html csdn-104.html csdn-105.html csdn-106.html csdn-107.html csdn-108.html csdn-109.html csdn-10.html csdn-110.html csdn-111.html csdn-112.html csdn-113.html csdn-114.html csdn-115.html csdn-116.html csdn-117.html csdn-118.html csdn-119.html csdn-11.html csdn-120.html csdn-121.html csdn-122.html csdn-123.html csdn-124.html csdn-125.html csdn-126.html csdn-127.html csdn-128.html csdn-129.html csdn-12.html csdn-130.html csdn-131.html csdn-132.html csdn-133.html csdn-134.html csdn-135.html csdn-136.html csdn-137.html csdn-138.html csdn-139.html csdn-13.html csdn-140.html csdn-141.html csdn-142.html csdn-143.html csdn-144.html csdn-145.html csdn-146.html csdn-147.html csdn-148.html csdn-149.html csdn-14.html csdn-150.html csdn-151.html csdn-152.html csdn-153.html csdn-154.html csdn-155.html csdn-156.html csdn-157.html csdn-158.html csdn-159.html csdn-15.html csdn-160.html csdn-161.html csdn-162.html csdn-163.html csdn-164.html csdn-165.html csdn-166.html csdn-167.html csdn-168.html csdn-169.html csdn-16.html csdn-170.html csdn-171.html csdn-172.html csdn-173.html csdn-174.html csdn-175.html csdn-176.html csdn-177.html csdn-178.html csdn-179.html csdn-17.html csdn-180.html csdn-181.html csdn-182.html csdn-183.html csdn-184.html csdn-185.html csdn-186.html csdn-187.html csdn-188.html csdn-189.html csdn-18.html csdn-190.html csdn-191.html csdn-192.html csdn-193.html csdn-194.html csdn-195.html csdn-196.html csdn-197.html csdn-198.html csdn-199.html csdn-19.html csdn-1.html csdn-200.html csdn-201.html csdn-202.html csdn-203.html csdn-204.html csdn-205.html csdn-206.html csdn-207.html csdn-208.html csdn-209.html csdn-20.html csdn-210.html csdn-211.html csdn-212.html csdn-213.html csdn-214.html csdn-215.html csdn-216.html csdn-217.html csdn-218.html csdn-219.html csdn-21.html csdn-220.html csdn-221.html csdn-22.html csdn-23.html csdn-24.html csdn-25.html csdn-26.html csdn-27.html csdn-28.html csdn-29.html csdn-2.html csdn-30.html csdn-31.html csdn-32.html csdn-33.html csdn-34.html csdn-35.html csdn-36.html csdn-37.html csdn-38.html csdn-39.html csdn-3.html csdn-40.html csdn-41.html csdn-42.html csdn-43.html csdn-44.html csdn-45.html csdn-46.html csdn-47.html csdn-48.html csdn-49.html csdn-4.html csdn-50.html csdn-51.html csdn-52.html csdn-53.html csdn-54.html csdn-55.html csdn-56.html csdn-57.html csdn-58.html csdn-59.html csdn-5.html csdn-60.html csdn-61.html csdn-62.html csdn-63.html csdn-64.html csdn-65.html csdn-66.html csdn-67.html csdn-68.html csdn-69.html csdn-6.html csdn-70.html csdn-71.html csdn-72.html csdn-73.html csdn-74.html csdn-75.html csdn-76.html csdn-77.html csdn-78.html csdn-79.html csdn-7.html csdn-80.html csdn-81.html csdn-82.html csdn-83.html csdn-84.html csdn-85.html csdn-86.html csdn-87.html csdn-88.html csdn-89.html csdn-8.html csdn-90.html csdn-91.html csdn-92.html csdn-93.html csdn-94.html csdn-95.html csdn-96.html csdn-97.html csdn-98.html csdn-99.html csdn-9.html mysql.sh from payment;\n+----------+--------+\n| staff_id | amount |\n+----------+--------+\n| 1 | 10000 |\n| 2 | 20000 |\n| 3 | 30000 |\n| 4 | 400000 |\n| 5 | 500000 |\n+----------+--------+\n5 rows in set (0.01 sec)\n\nmysql&gt; delimiter $$\nmysql&gt; create procedure payment_stat()\n -&gt; begin\n -&gt; DECLARE i_staff_id int;\n -&gt; DECLARE d_amount int;\n -&gt; declare tmp_name varchar(30) default "";\n -&gt; DECLARE cur_payment cursor for select staff_id,amount from payment;\n -&gt; DECLARE EXIT HANDLER FOR NOT FOUND CLOSE cur_payment;\n -&gt; \n -&gt; set @x1 = 0 ;\n -&gt; set @x2 = 0 ;\n -&gt; \n -&gt; open cur_payment;\n -&gt; fetch cur_payment into i_staff_id,d_amount;\n -&gt; while(i_staff_id &lt;=3 )\n -&gt; do\n -&gt; if i_staff_id &lt; 3 then \n -&gt; select i_staff_id,d_amount;\n -&gt; end if;\n -&gt; fetch cur_payment into i_staff_id,d_amount;\n -&gt; end while;\n -&gt; close cur_payment;\n -&gt; \n -&gt; select @x1,@x2;\n -&gt; end;\n -&gt; $$\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql&gt; delimiter ;\n\nmysql&gt; call payment_stat();\n+------------+----------+\n| i_staff_id | d_amount |\n+------------+----------+\n| 1 | 10000 |\n+------------+----------+\n1 row in set (0.01 sec)\n\n+------------+----------+\n| i_staff_id | d_amount |\n+------------+----------+\n| 2 | 20000 |\n+------------+----------+\n1 row in set (0.01 sec)\n\n+------+------+\n| @x1 | @x2 |\n+------+------+\n| 0 | 0 |\n+------+------+\n1 row in set (0.01 sec)\n\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql&gt; drop procedure payment_stat;\nQuery OK, 0 rows affected (0.00 sec)\n\n\nmysql&gt; delimiter $$\nmysql&gt; create procedure payment_stat()\n -&gt; begin\n -&gt; DECLARE i_staff_id int;\n -&gt; DECLARE d_amount int;\n -&gt; declare tmp_name varchar(30) default "";\n -&gt; DECLARE cur_payment cursor for select staff_id,amount from payment;\n -&gt; DECLARE EXIT HANDLER FOR NOT FOUND CLOSE cur_payment;\n -&gt; \n -&gt; set @x1 = 0 ;\n -&gt; set @x2 = 0 ;\n -&gt; \n -&gt; open cur_payment;\n -&gt; fetch cur_payment into i_staff_id,d_amount;\n -&gt; while(i_staff_id &lt;=3 )\n -&gt; do\n -&gt; if i_staff_id &lt; 3 then \n -&gt; set @x1 = @x1+ i_staff_id;\n -&gt; else\n -&gt; set @x2 = @x2+ d_amount;\n -&gt; end if;\n -&gt; fetch cur_payment into i_staff_id,d_amount;\n -&gt; end while;\n -&gt; close cur_payment;\n -&gt; \n -&gt; select @x1,@x2;\n -&gt; end;\n -&gt; $$\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql&gt; call payment_stat();\n -&gt; $$\n+------+-------+\n| @x1 | @x2 |\n+------+-------+\n| 3 | 30000 |\n+------+-------+\n1 row in set (0.01 sec)\n\nQuery OK, 0 rows affected (0.01 sec)\n\n\nmysql&gt; delimiter $$\nmysql&gt; create procedure payment_stat()\n -&gt; begin\n -&gt; DECLARE i_staff_id int;\n -&gt; DECLARE d_amount int;\n -&gt; \n -&gt; DECLARE cur_payment cursor for select staff_id,amount from payment;\n -&gt; DECLARE EXIT HANDLER FOR NOT FOUND CLOSE cur_payment;\n -&gt; \n -&gt; set @x1 = 0 ;\n -&gt; set @x2 = 0 ;\n -&gt; \n -&gt; open cur_payment;\n -&gt; fetch cur_payment into i_staff_id,d_amount;\n -&gt; while(i_staff_id &lt;=3 )\n -&gt; do\n -&gt; if i_staff_id &lt; 3 then \n -&gt; set @x1 = @x1+ i_staff_id + 1;\n -&gt; else\n -&gt; set @x2 = @x2+ d_amount ;\n -&gt; end if;\n -&gt; fetch cur_payment into i_staff_id,d_amount;\n -&gt; end while;\n -&gt; close cur_payment;\n -&gt; \n -&gt; select @x1,@x2;\n -&gt; end;\n -&gt; $$\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; delimiter ;\nmysql&gt; call payment_stat();\n+------+-------+\n| @x1 | @x2 |\n+------+-------+\n| 3 | 30000 |\n+------+-------+\n1 row in set (0.00 sec)\n\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; drop procedure payment_stat;\nQuery OK, 0 rows affected (0.00 sec)\n\n\nmysql&gt; delimiter $$\nmysql&gt; create procedure payment_stat()\n -&gt; begin\n -&gt; DECLARE i_staff_id int;\n -&gt; DECLARE d_amount int;\n -&gt; \n -&gt; DECLARE cur_payment cursor for select staff_id,amount from payment;\n -&gt; DECLARE EXIT HANDLER FOR NOT FOUND CLOSE cur_payment;\n -&gt; \n -&gt; set @x1 = 0 ;\n -&gt; set @x2 = 0 ;\n -&gt; \n -&gt; open cur_payment;\n -&gt; fetch cur_payment into i_staff_id,d_amount;\n -&gt; while(i_staff_id &lt;=3 )\n -&gt; do\n -&gt; if i_staff_id &lt; 3 then \n -&gt; set @x1 = @x1+ i_staff_id;\n -&gt; else\n -&gt; set @x2 = @x2+ d_amount;\n -&gt; end if;\n -&gt; fetch cur_payment into i_staff_id,d_amount;\n -&gt; end while;\n -&gt; close cur_payment;\n -&gt; \n -&gt; select @x1,@x2;\n -&gt; end;\n -&gt; $$\nQuery OK, 0 rows affected (0.00 sec)\n\n\nmysql&gt; delimiter ;\nmysql&gt; call payment_stat();\n+------+-------+\n| @x1 | @x2 |\n+------+-------+\n| 3 | 30000 |\n+------+-------+\n1 row in set (0.00 sec)\n\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; delimiter $$\nmysql&gt; create procedure payment_stat()\n -&gt; begin\n -&gt; DECLARE i_staff_id int;\n -&gt; DECLARE d_amount int;\n -&gt; \n -&gt; DECLARE cur_payment cursor for select staff_id,amount from payment;\n -&gt; DECLARE EXIT HANDLER FOR NOT FOUND CLOSE cur_payment;\n -&gt; \n -&gt; set @x1 = 0 ;\n -&gt; set @x2 = 0 ;\n -&gt; \n -&gt; open cur_payment;\n -&gt; fetch cur_payment into i_staff_id,d_amount;\n -&gt; while(i_staff_id &lt;=3 )\n -&gt; do\n -&gt; if i_staff_id &lt; 3 then \n -&gt; set @x1 = @x1+ i_staff_id + 1;\n -&gt; else\n -&gt; set @x2 = @x2+ d_amount;\n -&gt; end if;\n -&gt; fetch cur_payment into i_staff_id,d_amount;\n -&gt; end while;\n -&gt; close cur_payment;\n -&gt; \n -&gt; select @x1,@x2;\n -&gt; end;\n -&gt; $$\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql&gt; delimiter ;\nmysql&gt; call payment_stat();\n+------+-------+\n| @x1 | @x2 |\n+------+-------+\n| 5 | 30000 |\n+------+-------+\n1 row in set (0.00 sec)\n\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; drop procedure payment_stat;\nQuery OK, 0 rows affected (0.02 sec)\n\n\nmysql&gt; delimiter $$\nmysql&gt; create procedure payment_stat()\n -&gt; begin\n -&gt; DECLARE i_staff_id int;\n -&gt; DECLARE d_amount int;\n -&gt; \n -&gt; DECLARE cur_payment cursor for select staff_id,amount from payment;\n -&gt; DECLARE EXIT HANDLER FOR NOT FOUND CLOSE cur_payment;\n -&gt; \n -&gt; set @x1 = 0 ;\n -&gt; set @x2 = 0 ;\n -&gt; \n -&gt; open cur_payment;\n -&gt; fetch cur_payment into i_staff_id,d_amount;\n -&gt; while(i_staff_id &lt;=3 )\n -&gt; do\n -&gt; if i_staff_id &lt; 3 then \n -&gt; set @x1 = @x1+ i_staff_id + 6;\n -&gt; else\n -&gt; set @x2 = @x2+ d_amount + 5;\n -&gt; end if;\n -&gt; fetch cur_payment into i_staff_id,d_amount;\n -&gt; end while;\n -&gt; close cur_payment;\n -&gt; \n -&gt; select @x1,@x2;\n -&gt; end;\n -&gt; $$\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql&gt; delimiter ;\n\nmysql&gt; call payment_stat();\n \n+------+-------+\n| @x1 | @x2 |\n+------+-------+\n| 15 | 30005 |\n+------+-------+\n1 row in set (0.00 sec)\n\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; DELIMITER $$\nmysql&gt; \nmysql&gt; CREATE PROCEDURE addNum()\n -&gt; BEGIN\n -&gt; DECLARE x INT;\n -&gt; SET x = 0;\n -&gt; for_loop : LOOP\n -&gt; SET x = x + 1;\n -&gt; IF x &gt; 30 THEN\n -&gt; LEAVE for_loop;\n -&gt; END IF;\n -&gt; IF mod(x,2) = 0 then \n -&gt; select "num:",x;\n -&gt; ITERATE for_loop;\n -&gt; END IF;\n -&gt; END LOOP;\n -&gt; select "count:",x;\n -&gt; END $$\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql&gt; call addNum();\n -&gt; $$\n+------+------+\n| num: | x |\n+------+------+\n| num: | 2 |\n+------+------+\n1 row in set (0.00 sec)\n\n+------+------+\n| num: | x |\n+------+------+\n| num: | 4 |\n+------+------+\n1 row in set (0.00 sec)\n\n+------+------+\n| num: | x |\n+------+------+\n| num: | 6 |\n+------+------+\n1 row in set (0.00 sec)\n\n+------+------+\n| num: | x |\n+------+------+\n| num: | 8 |\n+------+------+\n1 row in set (0.00 sec)\n\n+------+------+\n| num: | x |\n+------+------+\n| num: | 10 |\n+------+------+\n1 row in set (0.00 sec)\n\n+------+------+\n| num: | x |\n+------+------+\n| num: | 12 |\n+------+------+\n1 row in set (0.00 sec)\n\n+------+------+\n| num: | x |\n+------+------+\n| num: | 14 |\n+------+------+\n1 row in set (0.00 sec)\n\n+------+------+\n| num: | x |\n+------+------+\n| num: | 16 |\n+------+------+\n1 row in set (0.00 sec)\n\n+------+------+\n| num: | x |\n+------+------+\n| num: | 18 |\n+------+------+\n1 row in set (0.00 sec)\n\n+------+------+\n| num: | x |\n+------+------+\n| num: | 20 |\n+------+------+\n1 row in set (0.00 sec)\n\n+------+------+\n| num: | x |\n+------+------+\n| num: | 22 |\n+------+------+\n1 row in set (0.00 sec)\n\n+------+------+\n| num: | x |\n+------+------+\n| num: | 24 |\n+------+------+\n1 row in set (0.00 sec)\n\n+------+------+\n| num: | x |\n+------+------+\n| num: | 26 |\n+------+------+\n1 row in set (0.00 sec)\n\n+------+------+\n| num: | x |\n+------+------+\n| num: | 28 |\n+------+------+\n1 row in set (0.00 sec)\n\n+------+------+\n| num: | x |\n+------+------+\n| num: | 30 |\n+------+------+\n1 row in set (0.00 sec)\n\n+--------+------+\n| count: | x |\n+--------+------+\n| count: | 31 |\n+--------+------+\n1 row in set (0.00 sec)\n\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; delimiter $$\nmysql&gt; create procedure repeatPractise()\n -&gt; begin\n -&gt; set @v = 0 ;\n -&gt; REPEAT \n -&gt; set @v = @v+ 1;\n -&gt; UNTIL @v &gt;=5 \n -&gt; END REPEAT;\n -&gt; END \n -&gt; $$\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql&gt; call repeatPractise();\n -&gt; $$\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; select @v;\n -&gt; $$\n+------+\n| @v |\n+------+\n| 5 |\n+------+\n1 row in set (0.00 sec)</pre><br />&#13;\n &#13;\n
