\n\n<p><a target="_blank" href="http://blog.csdn.net/l1028386804/article/details/52744877">转载请注明出处：http://blog.csdn.net/l1028386804/article/details/52744877</a><br />&#13;\n</p>&#13;\n<p>在上一篇博文《<a target="_blank" href="http://blog.csdn.net/l1028386804/article/details/52744534">MySQL之——主从复制(读写分离)实现</a>》中，向大家介绍了如何配置MySQL的主从复制，以及简要介绍了一些主从同步的简单管理操作。在这篇博文中，将向大家介绍如何对MySQL主从复制的一些参数进行配置。那么让我们一起进入正题吧。</p>&#13;\n<h4>1、如何避免一些错误</h4>&#13;\n<p>比如从库一个表不存在导致整个从库的同步都卡住等，可以配置从库的my.cnf，添加以下配置  <br />&#13;\n</p>&#13;\n<p></p>&#13;\n<pre code_snippet_id="1914806" snippet_file_name="blog_20161006_1_1175579" name="code" class="plain">slave-skip-errors = 1032,1062,126,1114,1146,1048,1396</pre>这样出现这些错误代码时主从复制依然会跳过错误继续同步下一条记录<br />&#13;\n<p></p>&#13;\n<h4>2、主库上有个数据库不需要同步</h4>&#13;\n<p>如果主库上有个数据库不需要同步，可以在主库的配置文件添加<br />&#13;\n</p>&#13;\n<pre code_snippet_id="1914806" snippet_file_name="blog_20161006_2_5700938" name="code" class="plain">binlog-ignore-db = testdb</pre>&#13;\n<p></p>&#13;\n<h4>3、只同步某一个数据库</h4>&#13;\n<p>如果只想同步某一个数据库，可以在配置文件添加<br />&#13;\n</p>&#13;\n<pre code_snippet_id="1914806" snippet_file_name="blog_20161006_3_6639029" name="code" class="plain">binlog-do-db =testdb</pre>如果二者都不存在，那么所有数据库都会被同步，如果二者都存在则以binlog-do-db 优先，<span style="color:#FF0000">如果有多个数据库，那么填写多条记录即可</span><br />&#13;\n<p></p>&#13;\n<h4>4、某一个表不被同步</h4>&#13;\n<p>如果只想某一个表不被同步，那么配置文件添加<br />&#13;\n</p>&#13;\n<p></p>&#13;\n<pre code_snippet_id="1914806" snippet_file_name="blog_20161006_4_2037223" name="code" class="plain">replicate-ignore-table=testdb.test_table即可</pre>&#13;\n<p></p>&#13;\n<h4>5、保留7天二进制日志</h4>&#13;\n<p>因为主从复制必须开启binlog，而binlog很可能日积月累非常大写爆磁盘，所以可以配置<br />&#13;\n</p>&#13;\n<pre code_snippet_id="1914806" snippet_file_name="blog_20161006_5_9735928" name="code" class="plain">expire-logs-days = 7</pre>只保留7天的二进制日志<br />&#13;\n<p></p>&#13;\n<h4>6、限制binlog空间大小</h4>&#13;\n<p></p>&#13;\n<pre code_snippet_id="1914806" snippet_file_name="blog_20161006_6_2974532" name="code" class="plain">relay-log-space-limit = 16G</pre>限制binlog的空间最大使用16G，以防磁盘被日志占满<br />&#13;\n<br />&#13;\n<p></p>&#13;\n &#13;\n
