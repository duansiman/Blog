\n <div class="markdown_views"><h1 id="概念">概念</h1>\n\n<p>触发器是一种特殊的事务，它监听增删改操作，并触发增删改操作。主要是用来处理一些比较复杂的业务逻辑以保证数据的联动性。其包含了四要素：1.监视地点(table) 2.监视事件(insert/update/delete) 3.触发时间(after/before) 4.触发事件(insert/update/delete)</p>\n\n<h1 id="语法">语法</h1>\n\n\n\n<pre class="prettyprint"><code class=" hljs sql">\n<span class="hljs-operator"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TRIGGER</span> <span class="hljs-string">'触发器名称'</span> <span class="hljs-string">'触发时间（after|before）'</span> <span class="hljs-string">'监听的事情(insert|update|delete) '</span>\n<span class="hljs-keyword">ON</span> <span class="hljs-string">'触发地点'</span> <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">EACH</span> <span class="hljs-keyword">ROW</span> \n<span class="hljs-keyword">BEGIN</span>\n sql1;</span>\n sql2;\n sql3;\n<span class="hljs-operator"><span class="hljs-keyword">END</span>$</span></code></pre>\n\n<p>FOR EACH ROW 用来标识触发器的类型，因为Mysql支持行级别的触发器，不支持语句触发器，故只能使用FOR EACH ROW 。因为触发器中使用’;’区分多个事件语句，故需要重新定义定界符。</p>\n\n<h1 id="实例">实例</h1>\n\n<p>修改定界符为$ <br />\n<img src="http://img.blog.csdn.net/20160508172016732" alt="这里写图片描述" title="" /> <br />\n创建触发器 <br />\n<img src="http://img.blog.csdn.net/20160508172033967" alt="这里写图片描述" title="" /> <br />\n查看触发器 <br />\n<img src="http://img.blog.csdn.net/20160508172113041" alt="这里写图片描述" title="" /> <br />\n执行操作之前 <br />\nt4表数据如下 <br />\n<img src="http://img.blog.csdn.net/20160508172441942" alt="这里写图片描述" title="" /> <br />\nt3表数据如下 <br />\n<img src="http://img.blog.csdn.net/20160508172346449" alt="这里写图片描述" title="" /> <br />\n执行相应的操作之后 <br />\n<img src="http://img.blog.csdn.net/20160508172137682" alt="这里写图片描述" title="" /></p></div>&#13;\n <script type="text/javascript">&#13;\n $(function () {&#13;\n $('pre.prettyprint code').each(function () {&#13;\n var lines = $(this).text().split('\\n').length;&#13;\n var $numbering = $('&lt;ul/&gt;').addClass('pre-numbering').hide();&#13;\n $(this).addClass('has-numbering').parent().append($numbering);&#13;\n for (i = 1; i &lt;= lines; i++) {&#13;\n $numbering.append($('&lt;li/&gt;').text(i));&#13;\n };&#13;\n $numbering.fadeIn(1700);&#13;\n });&#13;\n });&#13;\n </script>&#13;\n &#13;\n
