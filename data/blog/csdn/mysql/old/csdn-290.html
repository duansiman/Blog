\n\n<h1 style="text-align:center">Mysql索引简易教程</h1>&#13;\n<h3>      <span style="color:#3333ff"> 基本概念</span></h3>&#13;\n<p>        索引是指把你设置为索引的字段<span style="font-family:Times New Roman">A</span><span style="font-family:宋体">的内容储存在一个独立区间</span><span style="font-family:Times New Roman">S</span><span style="font-family:宋体">里，里面只有这个字段的内容。在找查这个与这个字段</span><span style="font-family:Times New Roman">A</span><span style="font-family:宋体">的内容时会直接从这个独立区间里查找，而不是去到数据表里查找。</span><span style="font-family:宋体">找到的这些符合条件的字段后再读取字段</span><span style="font-family:'Times New Roman'">A</span><span style="font-family:宋体">所指向真实的数据记录的物理地址，再把对应的数据内容输出。如果你查找的不是索引的字段那么他会从数据表里面查找。</span><span style="font-family:宋体">因为数据表有很多不相关的字段，数据库程序是不会省略不查找。要判断那些不相关的字段以及多次在记录中跳转是花费一定的资源的。当然不是设置越多索引就越好。</span><span style="font-family:宋体">因为索引都放到这个独立区间</span><span style="font-family:'Times New Roman'">S</span><span style="font-family:宋体">，独立区间</span><span style="font-family:'Times New Roman'">S</span><span style="font-family:宋体">越大搜索所占的资源就越大。如果你只有一个字段为索引，那么你搜索这个字段是非常快速的。 </span></p>&#13;\n<p><span style="white-space:pre"></span>建立索引的目的是加快对表中记录的查找或排序。为表设置索引要付出代价的：一是增加了数据库的存储空间，二是在插入和修改数据时要花费较多的时间<span style="font-family:Times New Roman">(</span><span style="font-family:宋体">因为索引也要随之变动</span><span style="font-family:Times New Roman">)</span><span style="font-family:宋体">。</span></p>&#13;\n<p><span style="white-space:pre"></span>索引的好处在于可以将指定列进行排序，提高检索的速度。</p>&#13;\n<p>一个简单的例子：</p>&#13;\n<p>某个列的数据是 </p>&#13;\n<p>id   name</p>&#13;\n<p>12  小李</p>&#13;\n<p>10  小龙</p>&#13;\n<p>5   小青</p>&#13;\n<p>99  小红</p>&#13;\n<p>id<span style="font-family:宋体">列创建索引后就会生成一个索引表</span></p>&#13;\n<p>id  index</p>&#13;\n<p>5    3</p>&#13;\n<p>10   2</p>&#13;\n<p>12   1</p>&#13;\n<p>99   4</p>&#13;\n<p>当查询 <span style="font-family:Times New Roman">where id =10</span><span style="font-family:宋体">的时候，使用到索引表。由于</span><span style="font-family:Times New Roman">10</span><span style="font-family:宋体">下面是</span><span style="font-family:Times New Roman">5</span><span style="font-family:宋体">。所以不再进行扫描表操作。返回第二条数据，对应回主表的第二行。</span>这样就提高了查询的速度，如果没添加索引,则扫描整张主表。</p>&#13;\n<p>索引的类型，什么列需要加索引等相关信息的你还需百度查询一下，这里告诉你的是一些基本的概念。</p>&#13;\n<h3><span style="color:rgb(0,0,255)"> 数据库索引的作用和优点缺点</span></h3>&#13;\n<p><strong> 为什么要创建索引呢？</strong>这是因为，创建索引可以大大提高系统的性能。 </p>&#13;\n<p>第一，通过创建唯一性索引，可以保证数据库表中每一行数据的唯一性。 </p>&#13;\n<p>第二，可以大大加快 数据的检索速度，这也是创建索引的最主要的原因。 </p>&#13;\n<p>第三，可以加速表和表之间的连接，特别是在实现数据的参考完整性方面特别有意义。 </p>&#13;\n<p>第四，在使用分组和排序 子句进行数据检索时，同样可以显著减少查询中分组和排序的时间。 </p>&#13;\n<p>第五，通过使用索引，可以在查询的过程中，使用优化隐藏器，提高系统的性能。</p>&#13;\n<p>也许会有人要问：增加索引有如此多的优点，为什么不对表中的每一个列创建一个索引呢？这种想法固然有其合理性，然而也有其片面性。虽然,索引有许多优点,但是，为表中的每一个列都增加索引，是非常不明智的。这是因为，增加索引也有许多不利的一个方面。</p>&#13;\n<p>第一，创建索引和维护索引要耗费时间，这种时间随着数据量的增加而增加。 </p>&#13;\n<p>第二，索引需要占物理空间，除了数据表占数据空间之外，每一个索引还要占一定的物理空间，如果要建立聚簇索引，那么需要的空间就会更大。 </p>&#13;\n<p>第三，当对表中的数据进行增加、删除和修改的时候，索引也要动态的维护，这样就降低了数据的维护速度。</p>&#13;\n<p><span style="white-space:pre"></span>索引是建立在数据库表中某些列的上面。因此，在创建索引的时候，应该仔细考虑在哪些列上可以创建索引，在哪些列上不能创建索引。一般来说，应该在这些列 上创建索引，例如：</p>&#13;\n<p>在经常需要搜索的列上，可以加快搜索的速度； </p>&#13;\n<p>在作为主键的列上，强制该列的唯一性和组织表中数据的排列结构； </p>&#13;\n<p>在经常用在连接的列上，这 些列主要是一些外键，可以加快连接的速度； </p>&#13;\n<p>在经常需要根据范围进行搜索的列上创建索引，因为索引已经排序，其指定的范围是连续的； </p>&#13;\n<p>在经常需要排序的列上创建索引，因为索引已经排序，这样查询可以利用索引的排序，加快排序查询时间； </p>&#13;\n<p>在经常使用在<span style="font-family:Times New Roman">WHERE</span><span style="font-family:宋体">子句中的列上面创建索引，加快条件的判断速度。</span></p>&#13;\n<p>同样，对于有些列不应该创建索引。一般来说，不应该创建索引的的这些列具有下列特点：</p>&#13;\n<p>第一，对于那些在查询中很少使用或者参考的列不应该创建索引。这是因 为，既然这些列很少使用到，因此有索引或者无索引，并不能提高查询速度。相反，由于增加了索引，反而降低了系统的维护速度和增大了空间需求。 </p>&#13;\n<p>第二，对于那些只有很少数据值的列也不应该增加索引。这是因为，由于这些列的取值很少，例如人事表的性别列，在查询的结果中，结果集的数据行占了表中数据行的很大比例，即需要在表中搜索的数据行的比例很大。增加索引，并不能明显加快检索速度。 </p>&#13;\n<p>第三，对于那些定义为<span style="font-family:Times New Roman">text, image</span><span style="font-family:宋体">和</span><span style="font-family:Times New Roman">bit</span><span style="font-family:宋体">数据类型的列不应该增加索引。这是因为，这些列的数据量要么相当大，要么取值很少。 </span></p>&#13;\n<p>第四，当修改性能远远大于检索性能时，不应该创建索 引。这是因为，修改性能和检索性能是互相矛盾的。当增加索引时，会提高检索性能，但是会降低修改性能。当减少索引时，会提高修改性能，降低检索性能。因此，当修改性能远远大于检索性能时，不应该创建索引。</p>&#13;\n<h3><span style="color:rgb(0,0,255)">创建索引的方法和索引的特征 </span></h3>&#13;\n<h4>创建索引的方法 </h4>&#13;\n<p><span style="white-space:pre"></span>创建索引有多种方法，这些方法包括直接创建索引的方法和间接创建索引的方法。直接创建索引，例如使用<span style="font-family:Times New Roman">CREATE INDEX</span><span style="font-family:宋体">语句或者使用创建索引向导，间接创建索引，例如在表中定义主键约束或者唯一性键约束时，同时也创建了索引。</span></p>&#13;\n<p><span style="font-family:宋体">   虽然，这两种方法都可以创建索引，但 是，它们创建索引的具体内容是有区别的。 </span></p>&#13;\n<p><span style="white-space:pre"></span>使用<span style="font-family:Times New Roman">CREATE INDEX</span><span style="font-family:宋体">语句或者使用创建索引向导来创建索引，这是最基本的索引创建方式，并且这种方法最具有柔性，可以定制创建出符合自己需要的索引。</span></p>&#13;\n<p><span style="font-family:宋体">在使用这种方式 创建索引时，可以使用许多选项，例如指定数据页的充满度、进行排序、整理统计信息等，这样可以优化索引。使用这种方法，可以指定索引的类型、唯一性和复合性，也就是说，既可以创建聚簇索引，也可以创建非聚簇索引，既可以在一个列上创建索引，也可以在两个或者两个以上的列上创建索引。</span></p>&#13;\n<p><span style="white-space:pre"></span>通过定义主键约束或者唯一性键约束，也可以间接创建索引。主键约束是一种保持数据完整性的逻辑，它限制表中的记录有相同的主键记录。在创建主键约束时，系统自动创建了一个唯一性的聚簇索引。</p>&#13;\n<p><span style="white-space:pre"></span>虽然，在逻辑上，主键约束是一种重要的结构，但是，在物理结构上，与主键约束相对应的结构是唯一性的聚簇索引。换句话说，在物理实现上，不存在主键约束，而只存在唯一性的聚簇索引。</p>&#13;\n<p><span style="white-space:pre"></span>同样，在创建唯一性键约束时，也同时创建了索引，这种索引则是唯一性的非聚簇索引。因此， 当使用约束创建索引时，索引的类型和特征基本上都已经确定了，由用户定制的余地比较小。</p>&#13;\n<p><span style="white-space:pre"></span>当在表上定义主键或者唯一性键约束时，如果表中已经有了使用<span style="font-family:Times New Roman">CREATE INDEX</span><span style="font-family:宋体">语句创建的标准索引时，那么主键约束或者唯一性键约束创建的索引覆盖以前创建的标准索引。也就是说，主键约束或者唯一性键约束创建的索引的优先 级高于使用</span><span style="font-family:Times New Roman">CREATE INDEX</span><span style="font-family:宋体">语句创建的索引。</span></p>&#13;\n<h4>索引的特征 </h4>&#13;\n<p>索引有两个特征，即唯一性索引和复合索引。 </p>&#13;\n<p><span style="white-space:pre"></span>唯一性索引保证在索引列中的全部数据是唯一的，不会包含冗余数据。如果表中已经有一个主键约束或者唯一性键约束，那么当创建表或者修改表时，<span style="font-family:Times New Roman">SQL Server</span><span style="font-family:宋体">自动创建一个唯一性索引。</span></p>&#13;\n<p><span style="font-family:宋体"><span style="white-space:pre"></span>然而，如果必须保证唯一性，那么应该创建主键约束或者唯一性键约束，而不是创建一个唯一性索引。当创建唯一性索引时，应该认真考虑这些规则：当在表中创建主键约束或者唯一性键约束时，</span><span style="font-family:Times New Roman">SQL Server</span><span style="font-family:宋体">自动创建一个唯一性索引；</span></p>&#13;\n<p><span style="font-family:宋体"><span style="white-space:pre"></span>如果表中已经包含有数据，那么当创建索引时，</span><span style="font-family:Times New Roman">SQL Server</span><span style="font-family:宋体">检查表中已有数据的冗余性；每当使用插入语句插入数据或者使用修改语句修改数据时，</span><span style="font-family:Times New Roman">SQL Server</span><span style="font-family:宋体">检查数据的冗余性：如果有冗余值，那么</span><span style="font-family:Times New Roman">SQL Server</span><span style="font-family:宋体">取消该语句的执行，并且返回一个错误消息；</span></p>&#13;\n<p><span style="font-family:宋体"><span style="white-space:pre"></span>确保表中的每一行数据都有一个唯一值，这样可以确保每一个实体都可以唯一确认；只能在可以保证实体 完整性的列上创建唯一性索引，例如，不能在人事表中的姓名列上创建唯一性索引，因为人们可以有相同的姓名。</span></p>&#13;\n<p>复合索引就是一个索引创建在两个列或者多个列上。在搜索时，当两个或者多个列作为一个关键值时，最好在这些列上创建复合索引。当创建复合索引时，应该考虑 这些规则：最多可以把<span style="font-family:Times New Roman">16</span><span style="font-family:宋体">个列合并成一个单独的复合索引，构成复合索引的列的总长度不能超过</span><span style="font-family:Times New Roman">900</span><span style="font-family:宋体">字节，也就是说复合列的长度不能太长；</span></p>&#13;\n<p><span style="font-family:宋体"><span style="white-space:pre"></span>在复合索引中，所有的列必须来自同一个表中，不能跨表建立复合列；在复合索引中，列的排列顺序是非常重要的，因此要认真排列列的顺序，原则上，应该首先定义最唯一的列，例如在（</span><span style="font-family:Times New Roman">COL1</span><span style="font-family:宋体">，</span><span style="font-family:Times New Roman">COL2</span><span style="font-family:宋体">）上的索引与在（</span><span style="font-family:Times New Roman">COL2</span><span style="font-family:宋体">，</span><span style="font-family:Times New Roman">COL1</span><span style="font-family:宋体">）上的索引是不相同的，因为两个索引的列的顺序不同；</span></p>&#13;\n<p><span style="font-family:宋体">为了使查询优化器使用复合索引，查询语句中的</span><span style="font-family:Times New Roman">WHERE</span><span style="font-family:宋体">子句必须参考复合索引中第一个列；当表中有多个关键列时，复合索引是非常有用的；使用复合索引可以提高查询性能，减少在一个表中所创建的索引数量。</span></p>&#13;\n<h4><strong>索引的类型</strong></h4>&#13;\n<p><span style="white-space:pre"></span>非唯一索引，就是这个索引里面的值，是允许重复的。相对于唯一索引，就是这个索引里面的值，是不允许重复的。</p>&#13;\n<p><span style="white-space:pre"></span>简单的例子， 就好比我们的身份证。如果存储到数据库里面。如果在姓名上面创建一个索引，那么是非唯一索引，因为同名的人是存在的。如果在身份证号码上面创建一个索引，那么是唯一索引，因为号码还重复，就麻烦了。</p>&#13;\n<p> </p>&#13;\n &#13;\n
