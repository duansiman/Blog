\n\n<p style="margin-top:8px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); line-height:26px; word-break:break-all">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px">网上有不少人提出过类似的<a target="_blank" href="http://www.haogongju.net/tag/%e9%97%ae%e9%a2%98" title="问题" style="text-decoration:initial; color:rgb(51,51,51); margin:0px; padding:0px">问题</a>：“看到有人写了WHERE&#13;\n 1=1这样的<a target="_blank" href="http://www.haogongju.net/tag/SQL" title="SQL" style="text-decoration:initial; color:rgb(51,51,51); margin:0px; padding:0px">SQL</a>，到底是什么意思？”。其实使用这种用法的<a target="_blank" href="http://www.haogongju.net/tag/%e5%bc%80%e5%8f%91" title="开发" style="text-decoration:initial; color:rgb(51,51,51); margin:0px; padding:0px">开发</a>人员一般都是在使用动态组装的SQL。让<a target="_blank" href="http://www.haogongju.net/tag/%e6%88%91%e4%bb%ac" title="我们" style="text-decoration:initial; color:rgb(51,51,51); margin:0px; padding:0px">我们</a>想像如下的场景：<a target="_blank" href="http://www.haogongju.net/tag/%e7%94%a8%e6%88%b7" title="用户" style="text-decoration:initial; color:rgb(51,51,51); margin:0px; padding:0px">用户</a>要求<a target="_blank" href="http://www.haogongju.net/tag/%e6%8f%90%e4%be%9b" title="提供" style="text-decoration:initial; color:rgb(51,51,51); margin:0px; padding:0px">提供</a>一个灵活的查询<a target="_blank" href="http://www.haogongju.net/tag/%e7%95%8c%e9%9d%a2" title="界面" style="text-decoration:initial; color:rgb(51,51,51); margin:0px; padding:0px">界面</a>来根据各种复杂的条件来查询员工信息，界面如下图：</span></p>&#13;\n<p style="margin-top:8px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); line-height:26px; word-break:break-all">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><img src="http://pic002.cnblogs.com/images/2011/235126/2011052415451345.png" alt="" style="border:none; max-width:600px; max-height:100%; height:auto; margin:0px auto; padding:0px" /></span></p>&#13;\n<p style="margin-top:8px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); line-height:26px; word-break:break-all">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px">界面中列出了四个查询条件，包括按工号查询、按姓名查询、按年龄查询以及按工资查询，每个查询条件前都有一个复选框，如果复选框被选中，则表示将其做为一个<a target="_blank" href="http://www.haogongju.net/tag/%e8%bf%87%e6%bb%a4" title="过滤" style="text-decoration:initial; color:rgb(51,51,51); margin:0px; padding:0px">过滤</a>条件。比如上图就表示“检索工号介于DEV001和DEV008之间、姓名中含有J并且工资介于3000元到6000元的员工信息”。如果不选中姓名前的复选框，比如下图表示“检索工号介于DEV001和DEV008之间并且工资介于3000元到6000元的员工信息”：</span></p>&#13;\n<p style="margin-top:8px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); line-height:26px; word-break:break-all">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"> <img src="http://pic002.cnblogs.com/images/2011/235126/2011052415461268.png" alt="" style="border:none; max-width:600px; max-height:100%; height:auto; margin:0px auto; padding:0px" /></span></p>&#13;\n<p style="margin-top:8px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); line-height:26px; word-break:break-all">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px">如果将所有的复选框都不选中，则表示表示“检索所有员工信息”，比如下图：</span></p>&#13;\n<p style="margin-top:8px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); line-height:26px; word-break:break-all">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><img src="http://pic002.cnblogs.com/images/2011/235126/2011052415465475.png" alt="" style="border:none; max-width:600px; max-height:100%; height:auto; margin:0px auto; padding:0px" /></span></p>&#13;\n<p style="margin-top:8px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); line-height:26px; word-break:break-all">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px">这里的<a target="_blank" href="http://www.haogongju.net/tag/%e6%95%b0%e6%8d%ae" title="数据" style="text-decoration:initial; color:rgb(51,51,51); margin:0px; padding:0px">数据</a>检索与前面的数据检索都不一样，因为前边例子中的数据检索的过滤条件都是确定的，而这里的过滤条件则随着用户设置的不同而有变化，这时就要根据用户的设置来动态组装SQL了。当不选中年龄前的复选框的时候要使用下面的SQL语句：</span></p>&#13;\n<div class="haogongju_code" style="color:rgb(51,51,51); line-height:26px; margin:0px; padding:5px; border:1px solid rgb(204,204,204); word-break:break-all; overflow:auto">&#13;\n<pre style="white-space:pre-line; word-wrap:break-word; color:black; margin-top:0px; margin-bottom:0px; padding:0px; background-color:rgb(255,255,255)"><div style="color:rgb(51,51,51); margin:0px; padding:0px"><span style="font-family:Microsoft YaHei; font-size:18px"><span style="color:rgb(0,0,255); margin:0px; padding:0px">SELECT</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> </span><span style="color:rgb(128,128,128); margin:0px; padding:0px">*</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> </span><span style="color:rgb(0,0,255); margin:0px; padding:0px">FROM</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> T_Employee <br style="color:rgb(51,51,51); margin:0px; padding:0px" /></span><span style="color:rgb(0,0,255); margin:0px; padding:0px">WHERE</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> FNumber </span><span style="color:rgb(128,128,128); margin:0px; padding:0px">BETWEEN</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> </span><span style="color:rgb(255,0,0); margin:0px; padding:0px">'</span><span style="color:rgb(255,0,0); margin:0px; padding:0px">DEV001</span><span style="color:rgb(255,0,0); margin:0px; padding:0px">'</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> </span><span style="color:rgb(128,128,128); margin:0px; padding:0px">AND</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> </span><span style="color:rgb(255,0,0); margin:0px; padding:0px">'</span><span style="color:rgb(255,0,0); margin:0px; padding:0px">DEV008</span><span style="color:rgb(255,0,0); margin:0px; padding:0px">'</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> <br style="color:rgb(51,51,51); margin:0px; padding:0px" /></span><span style="color:rgb(128,128,128); margin:0px; padding:0px">AND</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> FName </span><span style="color:rgb(128,128,128); margin:0px; padding:0px">LIKE</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> </span><span style="color:rgb(255,0,0); margin:0px; padding:0px">'</span><span style="color:rgb(255,0,0); margin:0px; padding:0px">%J%</span><span style="color:rgb(255,0,0); margin:0px; padding:0px">'</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> <br style="color:rgb(51,51,51); margin:0px; padding:0px" /></span><span style="color:rgb(128,128,128); margin:0px; padding:0px">AND</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> FSalary </span><span style="color:rgb(128,128,128); margin:0px; padding:0px">BETWEEN</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> </span><strong>3000</strong><span style="color:rgb(0,0,0); margin:0px; padding:0px"> </span><span style="color:rgb(128,128,128); margin:0px; padding:0px">AND</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> </span><strong>6000</strong><span style="color:rgb(0,0,0); margin:0px; padding:0px"></span></span></div></pre>&#13;\n</div>&#13;\n<p style="margin-top:8px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); line-height:26px; word-break:break-all">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px">而如果不选中姓名和年龄前的复选框的时候就要使用下面的SQL语句：</span></p>&#13;\n<div class="haogongju_code" style="color:rgb(51,51,51); line-height:26px; margin:0px; padding:5px; border:1px solid rgb(204,204,204); word-break:break-all; overflow:auto">&#13;\n<pre style="white-space:pre-line; word-wrap:break-word; color:black; margin-top:0px; margin-bottom:0px; padding:0px; background-color:rgb(255,255,255)"><div style="color:rgb(51,51,51); margin:0px; padding:0px"><span style="font-family:Microsoft YaHei; font-size:18px"><span style="color:rgb(0,0,255); margin:0px; padding:0px">SELECT</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> </span><span style="color:rgb(128,128,128); margin:0px; padding:0px">*</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> </span><span style="color:rgb(0,0,255); margin:0px; padding:0px">FROM</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> T_Employee <br style="color:rgb(51,51,51); margin:0px; padding:0px" /></span><span style="color:rgb(0,0,255); margin:0px; padding:0px">WHERE</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> FNumber </span><span style="color:rgb(128,128,128); margin:0px; padding:0px">BETWEEN</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> </span><span style="color:rgb(255,0,0); margin:0px; padding:0px">'</span><span style="color:rgb(255,0,0); margin:0px; padding:0px">DEV001</span><span style="color:rgb(255,0,0); margin:0px; padding:0px">'</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> </span><span style="color:rgb(128,128,128); margin:0px; padding:0px">AND</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> </span><span style="color:rgb(255,0,0); margin:0px; padding:0px">'</span><span style="color:rgb(255,0,0); margin:0px; padding:0px">DEV008</span><span style="color:rgb(255,0,0); margin:0px; padding:0px">'</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> <br style="color:rgb(51,51,51); margin:0px; padding:0px" /></span><span style="color:rgb(128,128,128); margin:0px; padding:0px">AND</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> FSalary </span><span style="color:rgb(128,128,128); margin:0px; padding:0px">BETWEEN</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> </span><strong>3000</strong><span style="color:rgb(0,0,0); margin:0px; padding:0px"> </span><span style="color:rgb(128,128,128); margin:0px; padding:0px">AND</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> </span><strong>6000</strong><span style="color:rgb(0,0,0); margin:0px; padding:0px"></span></span></div></pre>&#13;\n</div>&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="color:rgb(51,51,51); line-height:26px">而如果将所有的复选框都不选中的时候就要使用下面的SQL语句： </span><span style="color:rgb(51,51,51); line-height:26px"></span><span style="color:rgb(85,85,85)"></span></span>&#13;\n<div class="haogongju_code" style="color:rgb(51,51,51); line-height:26px; margin:0px; padding:5px; border:1px solid rgb(204,204,204); word-break:break-all; overflow:auto">&#13;\n<pre style="white-space:pre-line; word-wrap:break-word; color:black; margin-top:0px; margin-bottom:0px; padding:0px; background-color:rgb(255,255,255)"><div style="color:rgb(51,51,51); margin:0px; padding:0px"><span style="font-family:Microsoft YaHei; font-size:18px"><span style="color:rgb(0,0,255); margin:0px; padding:0px">SELECT</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> </span><span style="color:rgb(128,128,128); margin:0px; padding:0px">*</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> </span><span style="color:rgb(0,0,255); margin:0px; padding:0px">FROM</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> T_Employee</span></span></div></pre>&#13;\n</div>&#13;\n<p style="margin-top:8px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); line-height:26px; word-break:break-all">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px">要实现这种动态的SQL语句拼装，我们<a target="_blank" href="http://www.haogongju.net/tag/%e5%8f%af%e4%bb%a5" title="可以" style="text-decoration:initial; color:rgb(51,51,51); margin:0px; padding:0px">可以</a>在宿主语言中<a target="_blank" href="http://www.haogongju.net/tag/%e5%bb%ba%e7%ab%8b" title="建立" style="text-decoration:initial; color:rgb(51,51,51); margin:0px; padding:0px">建立</a>一个字符串，然后逐个判断各个复选框是否选中来向这个字符串中添加SQL语句片段。这里有一个问题就是当有复选框被选中的时候SQL语句是含有WHERE子句的，&#13;\n 而当所有的复选框都没有被选中的时候就没有WHERE子句了，因此在添加每一个过滤条件判断的时候都要判断是否已经存在WHERE语句了，如果没有WHERE语句则添加WHERE语句。 在判断每一个复选框的时候都要去判断， 这使得用起来非常麻烦，“聪明的<a target="_blank" href="http://www.haogongju.net/tag/%e7%a8%8b%e5%ba%8f%e5%91%98" title="程序员" style="text-decoration:initial; color:rgb(51,51,51); margin:0px; padding:0px">程序员</a>是会偷懒的程序员”，因此开发人员想到了一个捷径：为SQL语句指定一个永远为真的条件语句（比如“1=1”），这样就<a target="_blank" href="http://www.haogongju.net/tag/%e4%b8%8d%e7%94%a8" title="不用" style="text-decoration:initial; color:rgb(51,51,51); margin:0px; padding:0px">不用</a>考虑WHERE语句是否存在的问题了。伪代码如下：</span></p>&#13;\n<div class="haogongju_code" style="color:rgb(51,51,51); line-height:26px; margin:0px; padding:5px; border:1px solid rgb(204,204,204); word-break:break-all; overflow:auto">&#13;\n<pre style="white-space:pre-line; word-wrap:break-word; color:black; margin-top:0px; margin-bottom:0px; padding:0px; background-color:rgb(255,255,255)"><div style="color:rgb(51,51,51); margin:0px; padding:0px"><span style="font-family:Microsoft YaHei; font-size:18px"><span style="color:rgb(0,0,0); margin:0px; padding:0px">String sql </span><span style="color:rgb(0,0,0); margin:0px; padding:0px">=</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> </span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(128,0,0); margin:0px; padding:0px"> SELECT csdn-100.html csdn-101.html csdn-102.html csdn-103.html csdn-104.html csdn-105.html csdn-106.html csdn-107.html csdn-108.html csdn-109.html csdn-10.html csdn-110.html csdn-111.html csdn-112.html csdn-113.html csdn-114.html csdn-115.html csdn-116.html csdn-117.html csdn-118.html csdn-119.html csdn-11.html csdn-120.html csdn-121.html csdn-122.html csdn-123.html csdn-124.html csdn-125.html csdn-126.html csdn-127.html csdn-128.html csdn-129.html csdn-12.html csdn-130.html csdn-131.html csdn-132.html csdn-133.html csdn-134.html csdn-135.html csdn-136.html csdn-137.html csdn-138.html csdn-139.html csdn-13.html csdn-140.html csdn-141.html csdn-142.html csdn-143.html csdn-144.html csdn-145.html csdn-146.html csdn-147.html csdn-148.html csdn-149.html csdn-14.html csdn-150.html csdn-151.html csdn-152.html csdn-153.html csdn-154.html csdn-155.html csdn-156.html csdn-157.html csdn-158.html csdn-159.html csdn-15.html csdn-160.html csdn-161.html csdn-162.html csdn-163.html csdn-164.html csdn-165.html csdn-166.html csdn-167.html csdn-168.html csdn-169.html csdn-16.html csdn-170.html csdn-171.html csdn-172.html csdn-173.html csdn-174.html csdn-175.html csdn-176.html csdn-177.html csdn-178.html csdn-179.html csdn-17.html csdn-180.html csdn-181.html csdn-182.html csdn-183.html csdn-184.html csdn-185.html csdn-186.html csdn-187.html csdn-188.html csdn-189.html csdn-18.html csdn-190.html csdn-191.html csdn-192.html csdn-193.html csdn-194.html csdn-195.html csdn-196.html csdn-197.html csdn-198.html csdn-199.html csdn-19.html csdn-1.html csdn-200.html csdn-201.html csdn-202.html csdn-203.html csdn-204.html csdn-205.html csdn-206.html csdn-207.html csdn-208.html csdn-209.html csdn-20.html csdn-210.html csdn-211.html csdn-212.html csdn-213.html csdn-214.html csdn-215.html csdn-216.html csdn-217.html csdn-218.html csdn-219.html csdn-21.html csdn-220.html csdn-221.html csdn-222.html csdn-223.html csdn-224.html csdn-225.html csdn-226.html csdn-227.html csdn-228.html csdn-229.html csdn-22.html csdn-230.html csdn-231.html csdn-232.html csdn-233.html csdn-234.html csdn-235.html csdn-236.html csdn-237.html csdn-238.html csdn-239.html csdn-23.html csdn-240.html csdn-241.html csdn-242.html csdn-243.html csdn-244.html csdn-245.html csdn-246.html csdn-247.html csdn-248.html csdn-249.html csdn-24.html csdn-250.html csdn-251.html csdn-252.html csdn-253.html csdn-254.html csdn-255.html csdn-256.html csdn-257.html csdn-258.html csdn-259.html csdn-25.html csdn-260.html csdn-261.html csdn-262.html csdn-263.html csdn-264.html csdn-265.html csdn-266.html csdn-267.html csdn-268.html csdn-269.html csdn-26.html csdn-270.html csdn-271.html csdn-272.html csdn-273.html csdn-274.html csdn-275.html csdn-276.html csdn-277.html csdn-278.html csdn-279.html csdn-27.html csdn-280.html csdn-281.html csdn-282.html csdn-283.html csdn-284.html csdn-285.html csdn-286.html csdn-287.html csdn-288.html csdn-289.html csdn-28.html csdn-290.html csdn-291.html csdn-292.html csdn-293.html csdn-294.html csdn-295.html csdn-296.html csdn-297.html csdn-298.html csdn-299.html csdn-29.html csdn-2.html csdn-300.html csdn-301.html csdn-302.html csdn-303.html csdn-304.html csdn-305.html csdn-306.html csdn-307.html csdn-30.html csdn-31.html csdn-32.html csdn-33.html csdn-34.html csdn-35.html csdn-36.html csdn-37.html csdn-38.html csdn-39.html csdn-3.html csdn-40.html csdn-41.html csdn-42.html csdn-43.html csdn-44.html csdn-45.html csdn-46.html csdn-47.html csdn-48.html csdn-49.html csdn-4.html csdn-50.html csdn-51.html csdn-52.html csdn-53.html csdn-54.html csdn-55.html csdn-56.html csdn-57.html csdn-58.html csdn-59.html csdn-5.html csdn-60.html csdn-61.html csdn-62.html csdn-63.html csdn-64.html csdn-65.html csdn-66.html csdn-67.html csdn-68.html csdn-69.html csdn-6.html csdn-70.html csdn-71.html csdn-72.html csdn-73.html csdn-74.html csdn-75.html csdn-76.html csdn-77.html csdn-78.html csdn-79.html csdn-7.html csdn-80.html csdn-81.html csdn-82.html csdn-83.html csdn-84.html csdn-85.html csdn-86.html csdn-87.html csdn-88.html csdn-89.html csdn-8.html csdn-90.html csdn-91.html csdn-92.html csdn-93.html csdn-94.html csdn-95.html csdn-96.html csdn-97.html csdn-98.html csdn-99.html csdn-9.html mysql.sh FROM T_Employee WHERE 1=1</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">; <br style="color:rgb(51,51,51); margin:0px; padding:0px" /></span><span style="color:rgb(0,0,255); margin:0px; padding:0px">if</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">(工号复选框选中) <br style="color:rgb(51,51,51); margin:0px; padding:0px" />{ <br style="color:rgb(51,51,51); margin:0px; padding:0px" />sql.appendLine(</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">AND FNumber BETWEEN '</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">+</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">工号文本框1内容</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">+</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">' AND '</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">+</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">工号文本框2内容</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">+</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">'</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">); <br style="color:rgb(51,51,51); margin:0px; padding:0px" />} <br style="color:rgb(51,51,51); margin:0px; padding:0px" /></span><span style="color:rgb(0,0,255); margin:0px; padding:0px">if</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">(姓名复选框选中) <br style="color:rgb(51,51,51); margin:0px; padding:0px" />{ <br style="color:rgb(51,51,51); margin:0px; padding:0px" />sql.appendLine(</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">AND FName LIKE '%</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">+</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">姓名文本框内容</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">+</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">%'</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">); <br style="color:rgb(51,51,51); margin:0px; padding:0px" />} <br style="color:rgb(51,51,51); margin:0px; padding:0px" /></span><span style="color:rgb(0,0,255); margin:0px; padding:0px">if</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">(年龄复选框选中) <br style="color:rgb(51,51,51); margin:0px; padding:0px" />{ <br style="color:rgb(51,51,51); margin:0px; padding:0px" />sql.appendLine(</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">AND FAge BETWEEN </span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">+</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">年龄文本框1内容</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">+</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(128,0,0); margin:0px; padding:0px"> AND </span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">+</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">年龄文本框2内容); <br style="color:rgb(51,51,51); margin:0px; padding:0px" />} <br style="color:rgb(51,51,51); margin:0px; padding:0px" />executeSQL(sql);</span></span></div></pre>&#13;\n</div>&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="color:rgb(51,51,51); line-height:26px">这样如果不选中姓名和年龄前的复选框的时候就会</span><a target="_blank" href="http://www.haogongju.net/tag/%e6%89%a7%e8%a1%8c" title="执行" style="text-decoration:initial; color:rgb(51,51,51); line-height:26px; margin:0px; padding:0px">执行</a><span style="color:rgb(51,51,51); line-height:26px">下面的SQL语句：</span><span style="color:rgb(51,51,51); line-height:26px"></span><span style="color:rgb(85,85,85)"></span></span>&#13;\n<div class="haogongju_code" style="color:rgb(51,51,51); line-height:26px; margin:0px; padding:5px; border:1px solid rgb(204,204,204); word-break:break-all; overflow:auto">&#13;\n<pre style="white-space:pre-line; word-wrap:break-word; color:black; margin-top:0px; margin-bottom:0px; padding:0px; background-color:rgb(255,255,255)"><div style="color:rgb(51,51,51); margin:0px; padding:0px"><span style="font-family:Microsoft YaHei; font-size:18px"><span style="color:rgb(0,0,0); margin:0px; padding:0px">SELECT </span><span style="color:rgb(0,0,0); margin:0px; padding:0px">*</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> FROM T_Employee WHERE </span><span style="color:rgb(128,0,128); margin:0px; padding:0px">1</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">=</span><span style="color:rgb(128,0,128); margin:0px; padding:0px">1</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> <br style="color:rgb(51,51,51); margin:0px; padding:0px" />AND FNumber BETWEEN </span><span style="color:rgb(128,0,0); margin:0px; padding:0px">'</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">DEV001</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">'</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> AND </span><span style="color:rgb(128,0,0); margin:0px; padding:0px">'</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">DEV008</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">'</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> <br style="color:rgb(51,51,51); margin:0px; padding:0px" />AND FSalary BETWEEN </span><span style="color:rgb(128,0,128); margin:0px; padding:0px">3000</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> AND </span><span style="color:rgb(128,0,128); margin:0px; padding:0px">6000</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"></span></span></div></pre>&#13;\n</div>&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="color:rgb(51,51,51); line-height:26px">而如果将所有的复选框都不选中的时候就会执行下面的SQL语句：</span><span style="color:rgb(51,51,51); line-height:26px"></span><span style="color:rgb(85,85,85)"></span></span>&#13;\n<div class="haogongju_code" style="color:rgb(51,51,51); line-height:26px; margin:0px; padding:5px; border:1px solid rgb(204,204,204); word-break:break-all; overflow:auto">&#13;\n<pre style="white-space:pre-line; word-wrap:break-word; color:black; margin-top:0px; margin-bottom:0px; padding:0px; background-color:rgb(255,255,255)"><div style="color:rgb(51,51,51); margin:0px; padding:0px"><span style="font-family:Microsoft YaHei; font-size:18px"><span style="color:rgb(0,0,0); margin:0px; padding:0px">SELECT </span><span style="color:rgb(0,0,0); margin:0px; padding:0px">*</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> FROM T_Employee WHERE </span><span style="color:rgb(128,0,128); margin:0px; padding:0px">1</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">=</span><span style="color:rgb(128,0,128); margin:0px; padding:0px">1</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"></span></span></div></pre>&#13;\n</div>&#13;\n<p style="margin-top:8px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); line-height:26px; word-break:break-all">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px">这看似非常优美的<a target="_blank" href="http://www.haogongju.net/tag/%e8%a7%a3%e5%86%b3" title="解决" style="text-decoration:initial; color:rgb(51,51,51); margin:0px; padding:0px">解决</a>了问题，殊不知这样很可能会造成非常大的性能损失，因为使用添加了“1=1”的过滤条件以后<a target="_blank" href="http://www.haogongju.net/tag/%e6%95%b0%e6%8d%ae%e5%ba%93" title="数据库" style="text-decoration:initial; color:rgb(51,51,51); margin:0px; padding:0px">数据库</a><a target="_blank" href="http://www.haogongju.net/tag/%e7%b3%bb%e7%bb%9f" title="系统" style="text-decoration:initial; color:rgb(51,51,51); margin:0px; padding:0px">系统</a>就无法使用<a target="_blank" href="http://www.haogongju.net/tag/%e7%b4%a2%e5%bc%95" title="索引" style="text-decoration:initial; color:rgb(51,51,51); margin:0px; padding:0px">索引</a>等查询<a target="_blank" href="http://www.haogongju.net/tag/%e4%bc%98%e5%8c%96" title="优化" style="text-decoration:initial; color:rgb(51,51,51); margin:0px; padding:0px">优化</a><a target="_blank" href="http://www.haogongju.net/tag/%e7%ad%96%e7%95%a5" title="策略" style="text-decoration:initial; color:rgb(51,51,51); margin:0px; padding:0px">策略</a>，<a target="_blank" href="http://lib.csdn.net/base/mysql" class="replace_word" title="MySQL知识库" style="text-decoration:none; color:rgb(223,52,52); font-weight:bold">数据库</a>系统将会被迫对每行数据进行<a target="_blank" href="http://www.haogongju.net/tag/%e6%89%ab%e6%8f%8f" title="扫描" style="text-decoration:initial; color:rgb(51,51,51); margin:0px; padding:0px">扫描</a>（也就是全表扫描）以比较此行是否满足过滤条件，当表中数据量比较大的时候查询<a target="_blank" href="http://www.haogongju.net/tag/%e9%80%9f%e5%ba%a6" title="速度" style="text-decoration:initial; color:rgb(51,51,51); margin:0px; padding:0px">速度</a>会非常慢。因此如果数据检索对性能有比较高的要求就不要使用这种“简便”的方式。下面给出一种参考实现，伪代码如下：</span></p>&#13;\n<div class="haogongju_code" style="color:rgb(51,51,51); line-height:26px; margin:0px; padding:5px; border:1px solid rgb(204,204,204); word-break:break-all; overflow:auto">&#13;\n<pre style="white-space:pre-line; word-wrap:break-word; color:black; margin-top:0px; margin-bottom:0px; padding:0px; background-color:rgb(255,255,255)"><div style="color:rgb(51,51,51); margin:0px; padding:0px"><span style="font-family:Microsoft YaHei; font-size:18px"><span style="color:rgb(0,0,255); margin:0px; padding:0px">private</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> </span><span style="color:rgb(0,0,255); margin:0px; padding:0px">void</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> doQuery() <br style="color:rgb(51,51,51); margin:0px; padding:0px" />{ <br style="color:rgb(51,51,51); margin:0px; padding:0px" />Bool hasWhere </span><span style="color:rgb(0,0,0); margin:0px; padding:0px">=</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> </span><span style="color:rgb(0,0,255); margin:0px; padding:0px">false</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">; <br style="color:rgb(51,51,51); margin:0px; padding:0px" />StringBuilder sql </span><span style="color:rgb(0,0,0); margin:0px; padding:0px">=</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> </span><span style="color:rgb(0,0,255); margin:0px; padding:0px">new</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> StringBuilder(</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(128,0,0); margin:0px; padding:0px"> SELECT csdn-100.html csdn-101.html csdn-102.html csdn-103.html csdn-104.html csdn-105.html csdn-106.html csdn-107.html csdn-108.html csdn-109.html csdn-10.html csdn-110.html csdn-111.html csdn-112.html csdn-113.html csdn-114.html csdn-115.html csdn-116.html csdn-117.html csdn-118.html csdn-119.html csdn-11.html csdn-120.html csdn-121.html csdn-122.html csdn-123.html csdn-124.html csdn-125.html csdn-126.html csdn-127.html csdn-128.html csdn-129.html csdn-12.html csdn-130.html csdn-131.html csdn-132.html csdn-133.html csdn-134.html csdn-135.html csdn-136.html csdn-137.html csdn-138.html csdn-139.html csdn-13.html csdn-140.html csdn-141.html csdn-142.html csdn-143.html csdn-144.html csdn-145.html csdn-146.html csdn-147.html csdn-148.html csdn-149.html csdn-14.html csdn-150.html csdn-151.html csdn-152.html csdn-153.html csdn-154.html csdn-155.html csdn-156.html csdn-157.html csdn-158.html csdn-159.html csdn-15.html csdn-160.html csdn-161.html csdn-162.html csdn-163.html csdn-164.html csdn-165.html csdn-166.html csdn-167.html csdn-168.html csdn-169.html csdn-16.html csdn-170.html csdn-171.html csdn-172.html csdn-173.html csdn-174.html csdn-175.html csdn-176.html csdn-177.html csdn-178.html csdn-179.html csdn-17.html csdn-180.html csdn-181.html csdn-182.html csdn-183.html csdn-184.html csdn-185.html csdn-186.html csdn-187.html csdn-188.html csdn-189.html csdn-18.html csdn-190.html csdn-191.html csdn-192.html csdn-193.html csdn-194.html csdn-195.html csdn-196.html csdn-197.html csdn-198.html csdn-199.html csdn-19.html csdn-1.html csdn-200.html csdn-201.html csdn-202.html csdn-203.html csdn-204.html csdn-205.html csdn-206.html csdn-207.html csdn-208.html csdn-209.html csdn-20.html csdn-210.html csdn-211.html csdn-212.html csdn-213.html csdn-214.html csdn-215.html csdn-216.html csdn-217.html csdn-218.html csdn-219.html csdn-21.html csdn-220.html csdn-221.html csdn-222.html csdn-223.html csdn-224.html csdn-225.html csdn-226.html csdn-227.html csdn-228.html csdn-229.html csdn-22.html csdn-230.html csdn-231.html csdn-232.html csdn-233.html csdn-234.html csdn-235.html csdn-236.html csdn-237.html csdn-238.html csdn-239.html csdn-23.html csdn-240.html csdn-241.html csdn-242.html csdn-243.html csdn-244.html csdn-245.html csdn-246.html csdn-247.html csdn-248.html csdn-249.html csdn-24.html csdn-250.html csdn-251.html csdn-252.html csdn-253.html csdn-254.html csdn-255.html csdn-256.html csdn-257.html csdn-258.html csdn-259.html csdn-25.html csdn-260.html csdn-261.html csdn-262.html csdn-263.html csdn-264.html csdn-265.html csdn-266.html csdn-267.html csdn-268.html csdn-269.html csdn-26.html csdn-270.html csdn-271.html csdn-272.html csdn-273.html csdn-274.html csdn-275.html csdn-276.html csdn-277.html csdn-278.html csdn-279.html csdn-27.html csdn-280.html csdn-281.html csdn-282.html csdn-283.html csdn-284.html csdn-285.html csdn-286.html csdn-287.html csdn-288.html csdn-289.html csdn-28.html csdn-290.html csdn-291.html csdn-292.html csdn-293.html csdn-294.html csdn-295.html csdn-296.html csdn-297.html csdn-298.html csdn-299.html csdn-29.html csdn-2.html csdn-300.html csdn-301.html csdn-302.html csdn-303.html csdn-304.html csdn-305.html csdn-306.html csdn-307.html csdn-30.html csdn-31.html csdn-32.html csdn-33.html csdn-34.html csdn-35.html csdn-36.html csdn-37.html csdn-38.html csdn-39.html csdn-3.html csdn-40.html csdn-41.html csdn-42.html csdn-43.html csdn-44.html csdn-45.html csdn-46.html csdn-47.html csdn-48.html csdn-49.html csdn-4.html csdn-50.html csdn-51.html csdn-52.html csdn-53.html csdn-54.html csdn-55.html csdn-56.html csdn-57.html csdn-58.html csdn-59.html csdn-5.html csdn-60.html csdn-61.html csdn-62.html csdn-63.html csdn-64.html csdn-65.html csdn-66.html csdn-67.html csdn-68.html csdn-69.html csdn-6.html csdn-70.html csdn-71.html csdn-72.html csdn-73.html csdn-74.html csdn-75.html csdn-76.html csdn-77.html csdn-78.html csdn-79.html csdn-7.html csdn-80.html csdn-81.html csdn-82.html csdn-83.html csdn-84.html csdn-85.html csdn-86.html csdn-87.html csdn-88.html csdn-89.html csdn-8.html csdn-90.html csdn-91.html csdn-92.html csdn-93.html csdn-94.html csdn-95.html csdn-96.html csdn-97.html csdn-98.html csdn-99.html csdn-9.html mysql.sh FROM T_Employee</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">); <br style="color:rgb(51,51,51); margin:0px; padding:0px" /></span><span style="color:rgb(0,0,255); margin:0px; padding:0px">if</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">(工号复选框选中) <br style="color:rgb(51,51,51); margin:0px; padding:0px" />{ <br style="color:rgb(51,51,51); margin:0px; padding:0px" />hasWhere </span><span style="color:rgb(0,0,0); margin:0px; padding:0px">=</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> appendWhereIfNeed(sql, hasWhere);<br style="color:rgb(51,51,51); margin:0px; padding:0px" />sql.appendLine(</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">FNumber BETWEEN '</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">+</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">工号文本框1内容</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">+</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">' AND '</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">+</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">工号文本框2内容</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">+</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">'</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">); <br style="color:rgb(51,51,51); margin:0px; padding:0px" />} <br style="color:rgb(51,51,51); margin:0px; padding:0px" /></span><span style="color:rgb(0,0,255); margin:0px; padding:0px">if</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">(姓名复选框选中) <br style="color:rgb(51,51,51); margin:0px; padding:0px" />{ <br style="color:rgb(51,51,51); margin:0px; padding:0px" />hasWhere </span><span style="color:rgb(0,0,0); margin:0px; padding:0px">=</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> appendWhereIfNeed(sql, hasWhere); <br style="color:rgb(51,51,51); margin:0px; padding:0px" />sql.appendLine(</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">FName LIKE '%</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">+</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">姓名文本框内容</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">+</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">%'</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">); <br style="color:rgb(51,51,51); margin:0px; padding:0px" />} <br style="color:rgb(51,51,51); margin:0px; padding:0px" /></span><span style="color:rgb(0,0,255); margin:0px; padding:0px">if</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">(年龄复选框选中) <br style="color:rgb(51,51,51); margin:0px; padding:0px" />{ <br style="color:rgb(51,51,51); margin:0px; padding:0px" />hasWhere </span><span style="color:rgb(0,0,0); margin:0px; padding:0px">=</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> appendWhereIfNeed(sql, hasWhere); <br style="color:rgb(51,51,51); margin:0px; padding:0px" />sql.appendLine(</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">FAge BETWEEN </span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">+</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">年龄文本框1内容</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">+</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(128,0,0); margin:0px; padding:0px"> AND </span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">+</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">年龄文本框2内容); <br style="color:rgb(51,51,51); margin:0px; padding:0px" />} <br style="color:rgb(51,51,51); margin:0px; padding:0px" />executeSQL(sql); <br style="color:rgb(51,51,51); margin:0px; padding:0px" />} <br style="color:rgb(51,51,51); margin:0px; padding:0px" /></span><span style="color:rgb(0,0,255); margin:0px; padding:0px">private</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> Bool appendWhereIfNeed(StringBuilder sql,Bool hasWhere) <br style="color:rgb(51,51,51); margin:0px; padding:0px" />{ <br style="color:rgb(51,51,51); margin:0px; padding:0px" /></span><span style="color:rgb(0,0,255); margin:0px; padding:0px">if</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">(hasWhere</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">==</span><span style="color:rgb(0,0,255); margin:0px; padding:0px">false</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">) <br style="color:rgb(51,51,51); margin:0px; padding:0px" />{ <br style="color:rgb(51,51,51); margin:0px; padding:0px" />sql. appendLine(</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">WHERE</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">); <br style="color:rgb(51,51,51); margin:0px; padding:0px" />} <br style="color:rgb(51,51,51); margin:0px; padding:0px" /></span><span style="color:rgb(0,0,255); margin:0px; padding:0px">else</span><span style="color:rgb(0,0,0); margin:0px; padding:0px"> <br style="color:rgb(51,51,51); margin:0px; padding:0px" />{ <br style="color:rgb(51,51,51); margin:0px; padding:0px" />sql. appendLine(</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">AND</span><span style="color:rgb(128,0,0); margin:0px; padding:0px">"</span><span style="color:rgb(0,0,0); margin:0px; padding:0px">); <br style="color:rgb(51,51,51); margin:0px; padding:0px" />} <br style="color:rgb(51,51,51); margin:0px; padding:0px" />}</span></span></div></pre>&#13;\n</div>&#13;\n<p style="margin-top:8px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); line-height:26px; word-break:break-all">&#13;\n<span style="color:rgb(136,136,136); margin:0px; padding:0px"><span style="font-family:Microsoft YaHei; font-size:18px">以上<a target="_blank" href="http://www.haogongju.net/tag/%e5%86%85%e5%ae%b9" title="内容" style="text-decoration:initial; color:rgb(51,51,51); margin:0px; padding:0px">内容</a>由博主摘自《程序员的SQL金典》。</span></span></p>&#13;\n<p style="margin-top:8px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); line-height:26px; word-break:break-all">&#13;\n<span style="color:rgb(136,136,136); margin:0px; padding:0px"><span style="font-family:Microsoft YaHei; font-size:18px"><br />&#13;\n</span></span></p>&#13;\n<p style="margin-top:8px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); line-height:26px; word-break:break-all">&#13;\n<span style="color:rgb(136,136,136); margin:0px; padding:0px"><span style="font-family:Microsoft YaHei; font-size:18px">模糊查询时：</span></span></p>&#13;\n<p style="margin-top:8px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); line-height:26px; word-break:break-all">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="color:rgb(136,136,136); margin:0px; padding:0px"></span></span></p>&#13;\n<div class="dp-highlighter bg_java" style="background-color:rgb(231,229,220); width:938.516px; overflow:hidden; padding-top:1px; position:relative; border-color:rgb(204,204,204); color:rgb(85,85,85); margin:18px 0px!important">&#13;\n<div class="bar" style="padding-left:45px">&#13;\n<div class="tools" style="padding:3px 8px 10px 10px; line-height:normal; color:silver; background-color:rgb(248,248,248); border-left:3px solid rgb(108,226,108)">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><strong>[java]</strong> <a target="_blank" href="http://blog.csdn.net/sjf0115/article/details/8720520" class="ViewSource" title="view plain" style="text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; color:rgb(12,137,207); display:inline-block; width:16px; height:16px; text-indent:-2000px">view&#13;\n plain</a><span> <a target="_blank" href="http://blog.csdn.net/sjf0115/article/details/8720520" class="CopyToClipboard" title="copy" style="text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; color:rgb(12,137,207); display:inline-block; width:16px; height:16px; text-indent:-2000px">copy</a></span></span>&#13;\n<div style="position:absolute; left:475px; top:3957px; width:18px; height:18px; z-index:99">&#13;\n</div>&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span></span></span></div>&#13;\n</div>&#13;\n<ol start="1" class="dp-j" style="padding:0px; border:none; list-style-position:initial; background-color:rgb(255,255,255); color:rgb(92,92,92); margin:0px 0px 1px 45px!important">&#13;\n<li class="alt" style="border-top:none; border-right:none; border-bottom:none; border-left:3px solid rgb(108,226,108); list-style-type:decimal-leading-zero; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important; list-style-position:outside!important">&#13;\n<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span style="font-family:Microsoft YaHei; font-size:18px"><span style="margin:0px; padding:0px; border:none; background-color:inherit">String name = request.getParameter(</span><span class="string" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit">"name"</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">);  </span><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//姓名</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">  </span></span></span></li><li style="border-top:none; border-right:none; border-bottom:none; border-left:3px solid rgb(108,226,108); list-style-type:decimal-leading-zero; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important; list-style-position:outside!important">&#13;\n<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span style="font-family:Microsoft YaHei; font-size:18px">String rank= request.getParameter(<span class="string" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit">"age"</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">);  </span><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//年龄</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">  </span></span></span></li><li class="alt" style="border-top:none; border-right:none; border-bottom:none; border-left:3px solid rgb(108,226,108); list-style-type:decimal-leading-zero; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important; list-style-position:outside!important">&#13;\n<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span style="font-family:Microsoft YaHei; font-size:18px">String address= request.getParameter(<span class="string" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit">"address"</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">);  </span><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//地址</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">  </span></span></span></li><li style="border-top:none; border-right:none; border-bottom:none; border-left:3px solid rgb(108,226,108); list-style-type:decimal-leading-zero; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important; list-style-position:outside!important">&#13;\n<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span style="font-family:Microsoft YaHei; font-size:18px">String sql = <span class="string" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit">"select * from  student where 1=1 "</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">;  </span></span></span></li><li class="alt" style="border-top:none; border-right:none; border-bottom:none; border-left:3px solid rgb(108,226,108); list-style-type:decimal-leading-zero; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important; list-style-position:outside!important">&#13;\n<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span style="font-family:Microsoft YaHei; font-size:18px"><span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">if</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">(name!=</span><span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">null</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> &amp;&amp; !name.equals(</span><span class="string" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit">""</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">)){  </span></span></span></li><li style="border-top:none; border-right:none; border-bottom:none; border-left:3px solid rgb(108,226,108); list-style-type:decimal-leading-zero; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important; list-style-position:outside!important">&#13;\n<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span style="font-family:Microsoft YaHei; font-size:18px">    sql += <span class="string" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit">"t.name like '%"</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">+name+</span><span class="string" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit">"%'"</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">;  </span></span></span></li><li class="alt" style="border-top:none; border-right:none; border-bottom:none; border-left:3px solid rgb(108,226,108); list-style-type:decimal-leading-zero; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important; list-style-position:outside!important">&#13;\n<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span style="font-family:Microsoft YaHei; font-size:18px">}  </span></span></li><li style="border-top:none; border-right:none; border-bottom:none; border-left:3px solid rgb(108,226,108); list-style-type:decimal-leading-zero; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important; list-style-position:outside!important">&#13;\n<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span style="font-family:Microsoft YaHei; font-size:18px"><span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">if</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">(rank!=</span><span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">null</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> &amp;&amp; !rank.equals(</span><span class="string" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit">""</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">)){  </span></span></span></li><li class="alt" style="border-top:none; border-right:none; border-bottom:none; border-left:3px solid rgb(108,226,108); list-style-type:decimal-leading-zero; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important; list-style-position:outside!important">&#13;\n<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span style="font-family:Microsoft YaHei; font-size:18px">    sql += <span class="string" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit">"t.age like '%"</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">+age+</span><span class="string" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit">"%'"</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">;  </span></span></span></li><li style="border-top:none; border-right:none; border-bottom:none; border-left:3px solid rgb(108,226,108); list-style-type:decimal-leading-zero; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important; list-style-position:outside!important">&#13;\n<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span style="font-family:Microsoft YaHei; font-size:18px">}  </span></span></li><li class="alt" style="border-top:none; border-right:none; border-bottom:none; border-left:3px solid rgb(108,226,108); list-style-type:decimal-leading-zero; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important; list-style-position:outside!important">&#13;\n<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span style="font-family:Microsoft YaHei; font-size:18px"><span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">if</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">(address!=</span><span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">null</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> &amp;&amp; !address.equals(</span><span class="string" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit">""</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">)){  </span></span></span></li><li style="border-top:none; border-right:none; border-bottom:none; border-left:3px solid rgb(108,226,108); list-style-type:decimal-leading-zero; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important; list-style-position:outside!important">&#13;\n<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span style="font-family:Microsoft YaHei; font-size:18px">    sql += <span class="string" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit">"t.address like '%"</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">+address+</span><span class="string" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit">"%'"</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">;  </span></span></span></li><li class="alt" style="border-top:none; border-right:none; border-bottom:none; border-left:3px solid rgb(108,226,108); list-style-type:decimal-leading-zero; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important; list-style-position:outside!important">&#13;\n<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span style="font-family:Microsoft YaHei; font-size:18px">}  </span></span></li><li></li></ol>&#13;\n</div>&#13;\n &#13;\n
