\n\n<h1 style="text-align:center">MySQL<span style="font-family:宋体">中怎么对</span><span style="font-family:Times New Roman">varchar</span><span style="font-family:宋体">类型排序问题</span></h1>&#13;\n<p><span style="color:rgb(0,0,255)">a</span><span style="color:rgb(0,0,255)">sc</span><span style="color:rgb(0,0,255)"> </span><span style="color:rgb(0,0,255)">升级</span></p>&#13;\n<p><span style="color:rgb(0,0,255)">desc<span style="font-family:宋体">降序</span></span></p>&#13;\n<p>在<span style="font-family:Times New Roman">mysql</span><span style="font-family:宋体">默认</span><span style="font-family:Times New Roman">order by </span><span style="font-family:宋体">只对数字与日期类型可以排序，但对于</span><span style="font-family:Times New Roman">varchar</span><span style="font-family:宋体">字符型类型排序好像没有用了，下面我来给各位同学介绍</span><span style="font-family:Times New Roman">varchar</span><span style="font-family:宋体">类型排序问题如何解决。</span></p>&#13;\n<p>今天在对国家电话号码表进行排序的时候发现了一个有趣的问题，我想让<span style="font-family:Times New Roman">isdcode</span><span style="font-family:宋体">字段按照由小到大的顺序排序，于是乎我是这样写的</span></p>&#13;\n<p><span style="color:rgb(0,0,255)">SELECT * FROM gb_country_isdcode ORDER BY isdcode asc</span></p>&#13;\n<p>结果如下，发现竟然不是我想要的结果，<span style="font-family:Times New Roman">asc</span><span style="font-family:宋体">排序是对的呀，于是乎我找呀找，找呀找，终于找到原因了；</span></p>&#13;\n<p>isdcode<span style="font-family:宋体">是</span><span style="font-family:Times New Roman">varcher</span><span style="font-family:宋体">类型的，如果排序的直接用</span><span style="font-family:Times New Roman">asc</span><span style="font-family:宋体">显然是不行的，必须将他转换成</span><span style="font-family:Times New Roman">int</span><span style="font-family:宋体">类型然后就可以正常排序了，只要</span><span style="font-family:Times New Roman">isdcode + 0</span><span style="font-family:宋体">就可以了</span></p>&#13;\n<p>于是乎这样写</p>&#13;\n<p><span style="color:rgb(0,0,255)">SELECT * FROM gb_country_isdcode ORDER BY (isdcode+0) asc</span></p>&#13;\n<p>好像是想要的那种数据比较大小的了呀。。可是为什么<span style="font-family:Times New Roman">+0</span><span style="font-family:宋体">就好了呢？原来，</span><span style="font-family:Times New Roman">+0</span><span style="font-family:宋体">后就转换</span><span style="font-family:Times New Roman">INT</span><span style="font-family:宋体">类型排序了。这样就可以按照大小排序了。</span></p>&#13;\n<p>如果不是电话而是汉字怎么办，汉字排序我们只要进行简单转换即可排序了。</p>&#13;\n<p>在<span style="font-family:Times New Roman">mysql</span><span style="font-family:宋体">中使用</span><span style="font-family:Times New Roman">order by</span><span style="font-family:宋体">对存储了中文信息的字段，默认出来的结果并不是按汉字拼音的顺序来排序，要想按汉字的拼音来排序，需要把数据库的字符集设置为</span><span style="font-family:Times New Roman">UTF8</span><span style="font-family:宋体">，然后在</span><span style="font-family:Times New Roman">order by </span><span style="font-family:宋体">时候强制把该字段信息转换成</span><span style="font-family:Times New Roman">GBK</span><span style="font-family:宋体">，这样出来的结果就是按拼音顺序排序的。例如：</span></p>&#13;\n<p><span style="color:rgb(0,0,255)">SELECT * FROM table_name ORDER BY CONVERT(column_name USING gbk);</span></p>&#13;\n<p>在<span style="font-family:Times New Roman">mysql</span><span style="font-family:宋体">中试了一下，结果很令人满意。</span></p>&#13;\n<p>结论是：查询的时候，通过<span style="font-family:Times New Roman">convert</span><span style="font-family:宋体">函数，把查询出来的数据使用的字符集</span><span style="font-family:Times New Roman">gb2312</span><span style="font-family:宋体">编码就可以了，然后使用</span><span style="font-family:Times New Roman">convert</span><span style="font-family:宋体">之后的中文排序。但是如果真的去把表中字段的字符集改成</span><span style="font-family:Times New Roman">gb2312</span><span style="font-family:宋体">，又会涉及到很多编码的问题，页面传值啊，从数据库中存取啊，很麻烦。只要在查询的时候，指定一下字符集，并不是真的把物理字段改成</span><span style="font-family:Times New Roman">gb2312</span><span style="font-family:宋体">，很简单。</span></p>&#13;\n &#13;\n
