\n\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px; color:#df402a; font-weight:bold">list数据结构</span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">在redis中，list数据结构是按照插入顺序的字符串链表，和数据结构中的普通链表一样，我们可以在其头部（left）和尾部（right）添加新的元素。在插入时，如果该键并不存在，redis将为该键创建一个新的链表。与此相反，如果链表中所有的元素均被移除，那么该键也将会被从数据库删除，list中可以包含最大元素数是4294967295.</span></span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">从元素插入和删除的效率来看，如果我们是在链表的两头插入或删除元素时，这将会是非常高效的操作，即使链表中已经存储了百万条记录，该操作也可以在常量时间内完成，然而需要说明的是，如果元素插入或删除操作是作用于链表中间，那将会是非常低效的。</span></span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">1、ArrayList使用数组方式存储数据，所以根据索引查询数据速度快，而新增或者删除元素时需要涉及到位移操作，所以比较慢。</span></span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">2、LinkedList使用双向链表方式存储数据，每个元素都记录前后元素的指针，所以插入、删除数据时只是更改前后元素的指针指向即可。速度非常快，然后通过下标查询元素需要从头开始索引，所以比较慢。</span></span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">3、双向链表增加数据<br />&#13;\n<img src="http://img.blog.csdn.net/20170529210207044?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZXJsaWFuMTk5Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</span></span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">4、双向链表删除数据</span></span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><img src="http://img.blog.csdn.net/20170529210210715?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZXJsaWFuMTk5Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</span></div>&#13;\n<div id="25plzv1495952333451" style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px; color:#df402a; font-weight:bold">常用命令</span></div>&#13;\n<div id="20ikmp1495939093552" style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px; color:#df402a; font-weight:bold">两端添加</span></div>&#13;\n<div id="15qtmp1495939140194" style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px; color:#df402a; font-weight:bold">lpush key values[value1 value2 ...]</span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">在指定的key所关联的list的头部插入所有的values，如果该key不存在，该命令在插入的之前创建一个与该key关联的空链表，之后再向该链表的头部插入数据，插入成功，返回元素的个数。</span></span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><img src="http://img.blog.csdn.net/20170529215756600?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZXJsaWFuMTk5Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</span></div>&#13;\n<div id="99dxih1495952343728" style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px; color:#df402a; font-weight:bold">rpush key values[value1 value2 ...]</span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">在该list的尾部添加元素</span></span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><img src="http://img.blog.csdn.net/20170529215836694?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZXJsaWFuMTk5Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</span></div>&#13;\n<div id="82eezd1495952350559" style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px; color:#df402a; font-weight:bold">查看链表</span></div>&#13;\n<div id="65nhxr1495939407533" style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px; color:#df402a; font-weight:bold">lrange key start end</span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">获取<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">list</span></span>中从start到end的元素的值，start、end从0开始计数，也可以是负数，若为-1则表示<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">list</span></span>尾部的元素，-2则表示倒数第二个，以此类推...<br />&#13;\n<img src="http://img.blog.csdn.net/20170529215840289?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZXJsaWFuMTk5Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</span></span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">另一个</span></span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><img src="http://img.blog.csdn.net/20170529215845601?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZXJsaWFuMTk5Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</span></div>&#13;\n<div id="32zafe1495939609621" style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px; color:#df402a; font-weight:bold">两端弹出</span></div>&#13;\n<div id="88ckyv1495939546329" style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px; color:#df402a; font-weight:bold">lpop key</span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">返回并弹出指定的key关联的<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">list</span></span>中的第一个元素，即头元素，如果该key不存在，返回null，若key存在，则返回<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">list</span></span>的头部元素。</span></span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><img src="http://img.blog.csdn.net/20170529220013493?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZXJsaWFuMTk5Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</span></div>&#13;\n<div id="6glqx1495952393619" style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px; color:#df402a; font-weight:bold">rpop key</span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">从尾部弹出元素</span></span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><img src="http://img.blog.csdn.net/20170529220032103?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZXJsaWFuMTk5Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</span></div>&#13;\n<div id="72lprr1495939725003" style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px; color:#df402a; font-weight:bold">获取列表中元素的个数</span></div>&#13;\n<div id="0wocp1495939744269" style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px; color:#df402a; font-weight:bold">llen key</span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">返回指定的key关联的<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">list</span></span>中的元素的个数</span></span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><img src="http://img.blog.csdn.net/20170529220042353?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZXJsaWFuMTk5Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</span></div>&#13;\n<div id="40annc1495939925860" style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px; color:#df402a; font-weight:bold">lpushx key value</span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">仅当参数中指定的key存在时，向关联的list的头部插入value，如果不存在，将不进行插入。</span></span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><img src="http://img.blog.csdn.net/20170529220617060?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZXJsaWFuMTk5Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</span></div>&#13;\n<div id="72lqam1495952418977" style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px; color:#df402a; font-weight:bold">rpushx key value</span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">在该list的尾部添加元素</span></span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><img src="http://img.blog.csdn.net/20170529220653378?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZXJsaWFuMTk5Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</span></div>&#13;\n<div id="87krsf1495940860629" style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px; color:#df402a; font-weight:bold">lrem key count value</span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">删除count个值为value的元素，如果count大于0，从头向尾比那里并删除count个值为value的元素，如果count小于0，则从尾部遍历并删除，如果count等于0，则删除<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">list</span></span>中所有等于value的元素、</span></span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><img src="http://img.blog.csdn.net/20170529220716216?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZXJsaWFuMTk5Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</span></div>&#13;\n<div id="12syjs1495941801627" style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px; color:#df402a; font-weight:bold">lset key index value</span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">设置<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">list</span></span>中的index的下标的元素值，0代表<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">list</span></span>的头元素，-1代表<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">list</span></span>的尾元素，操作列表的下标不存在抛出异常。</span></span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><img src="http://img.blog.csdn.net/20170529220728513?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZXJsaWFuMTk5Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</span></div>&#13;\n<div id="51ciax1495942106185" style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px; color:#df402a; font-weight:bold">linsert key before|after pivot value</span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">在pivot元素前或者后插入value这个元素</span></span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">在第一个3之前插入4<br />&#13;\n<img src="http://img.blog.csdn.net/20170529220744342?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZXJsaWFuMTk5Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</span></span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">在第一个3之后插入5</span></span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><img src="http://img.blog.csdn.net/20170529220759286?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZXJsaWFuMTk5Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</span></div>&#13;\n<div id="17bxbz1495942374511" style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px; color:#df402a; font-weight:bold">rpoplpush resource destination</span><span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px; font-weight:bold"></span></span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">将<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">list</span></span>中的尾部元素弹出并添加到头部，这是一个循环操作</span></span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">将mylist右端弹出，压入到mylist1左端<br />&#13;\n<img src="http://img.blog.csdn.net/20170529220814427?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZXJsaWFuMTk5Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</span></span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">将mylist右端弹出，压入到mylist左端</span></span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><img src="http://img.blog.csdn.net/20170529220824889?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZXJsaWFuMTk5Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</span></div>&#13;\n<div id="50qcbx1495942918011" style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px; color:#df402a; font-weight:bold">使用场景</span></div>&#13;\n<div id="43hrvf1495943432687" style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px; color:#df402a; font-weight:bold">rpoplpush的使用场景</span></div>&#13;\n<div style="white-space:pre-wrap; text-align:left; line-height:1.75; font-size:14px">&#13;\n<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">redis<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">的list</span></span>经常会被用于消息队列的服务，以完成多程序之间的消息转换，假设一个应用程序正在执行lpush操作向列表中添加新的元素，我们通常将这样的程序称之为生产者（Producer），而另一个应用程序正在执行rpop操作从<span style="font-family:Microsoft YaHei; font-size:18px"><span style="font-size:16px">list</span></span>中取出元素，我们称这样的程序为消费者（Consumer）。如果此时，消费者程序取出消息元素后立即奔溃，由于该消息已经被取出且没有被正常处理，那么我们就可以认为该消息已经丢失，由此可能导致业务数据丢失，或业务状态的不一致等现象的发生。直到消费者程序完成正常的处理逻辑后再将该消息从备份队列中删除。同时我们还可以提供一个守护进程，当发现备份列表中的消息过期时，可以重新将其再放回到主消息队列中，以便其它的消费者程序继续处理。<br />&#13;\n<img src="http://img.blog.csdn.net/20170529220833764?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZXJsaWFuMTk5Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n<br />&#13;\n<br />&#13;\n<br />&#13;\n</span></span></div>&#13;\n &#13;\n
