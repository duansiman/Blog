\n\n<pre><a target="_blank" href="http://blog.csdn.net/l1028386804/article/details/46591673">转载请注明出处:http://blog.csdn.net/l1028386804/article/details/46591673</a>&#13;\n</pre>&#13;\n<p>索引是在存储引擎中实现的，因此每种存储引擎的索引都不一定完全相同，并且每种存储引擎也不一定支持所有索引类型。</p>&#13;\n<p>根据存储引擎定义每个表的最大索引数和最大索引长度。所有存储引擎支持每个表至少16个索引，总索引长度至少为256字节。</p>&#13;\n<p>大多数存储引擎有更高的限制。MYSQL中索引的存储类型有两种：BTREE和HASH，具体和表的存储引擎相关；</p>&#13;\n<p>MYISAM和InnoDB存储引擎只支持BTREE索引；MEMORY和HEAP存储引擎可以支持HASH和BTREE索引</p>&#13;\n<p>索引的优点：</p>&#13;\n<p>1、通过创建唯一索引，保证数据库表每行数据的唯一性</p>&#13;\n<p>2、大大加快数据查询速度</p>&#13;\n<p>3、在使用分组和排序进行数据查询时，可以显著减少查询中分组和排序的时间</p>&#13;\n<p>索引的缺点：</p>&#13;\n<p>1、维护索引需要耗费数据库资源</p>&#13;\n<p>2、索引需要占用磁盘空间，索引文件可能比数据文件更快达到最大文件尺寸</p>&#13;\n<p>3、当对表的数据进行增删改的时候，因为要维护索引，速度会受到影响</p>&#13;\n<p>索引的分类</p>&#13;\n<p><span style="color:#ff9900"><strong>1、普通索引和唯一索引</strong></span></p>&#13;\n<p>主键索引是一种特殊的唯一索引，不允许有空值</p>&#13;\n<p><span style="color:#ff9900"><strong>2、单列索引和复合索引</strong></span></p>&#13;\n<p>单列索引只包含单个列</p>&#13;\n<p>复合索引指多个字段上创建的索引，只有在查询条件中使用了创建索引时的第一个字段，索引才会被使用。使用复合索引时遵循最左前缀集合</p>&#13;\n<p><span style="color:#ff9900"><strong>3、全文索引</strong></span></p>&#13;\n<p>全文索引类型为FULLTEXT，在定义索引的列上支持值的全文查找，允许在这些索引列中插入重复值和空值。全文索引可以在</p>&#13;\n<p>CHAR、VARCHAR、TEXT类型列上创建。MYSQL只有MYISAM存储引擎支持全文索引</p>&#13;\n<p><span style="color:#ff9900"><strong>4、空间索引</strong></span></p>&#13;\n<p>空间索引是对空间数据类型的字段建立的索引，MYSQL中的空间数据类型有4种，</p>&#13;\n<p>分别是GEOMETRY、POINT、LINESTRING、POLYGON。</p>&#13;\n<p>MYSQL使用SPATIAL关键字进行扩展，使得能够用于创建正规索引类型的语法创建空间索引。创建空间索引的列，必须</p>&#13;\n<p>将其声明为NOT NULL，空间索引只能在存储引擎为MYISAM的表中创建</p>&#13;\n<p>以上的索引在<span style="color:#ff0000"><strong>SQLSERVER</strong></span>里都支持</p>&#13;\n<p></p>&#13;\n<pre name="code" class="sql">CREATE TABLE table_name[col_name data type]\n[unique|fulltext|spatial][index|key][index_name](col_name[length])[asc|desc]</pre>&#13;\n<p></p>&#13;\n<p>unique|fulltext|spatial为可选参数，分别表示唯一索引、全文索引和空间索引；</p>&#13;\n<p>index和key为同义词，两者作用相同，用来指定创建索引</p>&#13;\n<p>col_name为需要创建索引的字段列，该列必须从数据表中该定义的多个列中选择；</p>&#13;\n<p>index_name指定索引的名称，为可选参数，如果不指定，MYSQL默认col_name为索引值；</p>&#13;\n<p>length为可选参数，表示索引的长度，只有字符串类型的字段才能指定索引长度；</p>&#13;\n<p></p>&#13;\n<p>asc或desc指定升序或降序的索引值存储</p>&#13;\n<hr />&#13;\n<p><span style="color:#ff9900"><strong>普通索引</strong></span></p>&#13;\n<pre name="code" class="sql">CREATE TABLE book (\n bookid INT NOT NULL,\n bookname VARCHAR (255) NOT NULL,\n AUTHORS VARCHAR (255) NOT NULL,\n info VARCHAR (255) NULL,\n COMMENT VARCHAR (255) NULL,\n year_publication YEAR NOT NULL,\n INDEX (year_publication)\n) ;</pre>使用SHOW CREATE TABLE查看表结构&#13;\n<p></p>&#13;\n<pre name="code" class="sql">CREATE TABLE `book` (\n `bookid` INT(11) NOT NULL,\n `bookname` VARCHAR(255) NOT NULL,\n `authors` VARCHAR(255) NOT NULL,\n `info` VARCHAR(255) DEFAULT NULL,\n `comment` VARCHAR(255) DEFAULT NULL,\n `year_publication` YEAR(4) NOT NULL,\n KEY `year_publication` (`year_publication`)\n) ENGINE=MYISAM DEFAULT CHARSET=latin1</pre>可以发现，book表的year_publication字段成功建立了索引其索引名字为year_publication&#13;\n<p></p>&#13;\n<p>我们向表插入一条数据，然后使用EXPLAIN语句查看索引是否有在使用</p>&#13;\n<p></p>&#13;\n<pre name="code" class="sql">NSERT INTO BOOK VALUES(12,'NIHAO','NIHAO','文学','henhao',1990)\nEXPLAIN SELECT csdn-100.html csdn-101.html csdn-102.html csdn-103.html csdn-104.html csdn-105.html csdn-106.html csdn-107.html csdn-108.html csdn-109.html csdn-10.html csdn-110.html csdn-111.html csdn-112.html csdn-113.html csdn-114.html csdn-115.html csdn-116.html csdn-117.html csdn-118.html csdn-119.html csdn-11.html csdn-120.html csdn-121.html csdn-122.html csdn-123.html csdn-124.html csdn-125.html csdn-126.html csdn-127.html csdn-128.html csdn-129.html csdn-12.html csdn-130.html csdn-131.html csdn-132.html csdn-133.html csdn-134.html csdn-135.html csdn-136.html csdn-137.html csdn-138.html csdn-139.html csdn-13.html csdn-140.html csdn-141.html csdn-142.html csdn-143.html csdn-144.html csdn-145.html csdn-146.html csdn-147.html csdn-148.html csdn-149.html csdn-14.html csdn-150.html csdn-151.html csdn-152.html csdn-153.html csdn-154.html csdn-155.html csdn-156.html csdn-157.html csdn-158.html csdn-159.html csdn-15.html csdn-160.html csdn-161.html csdn-162.html csdn-163.html csdn-164.html csdn-165.html csdn-166.html csdn-167.html csdn-168.html csdn-169.html csdn-16.html csdn-170.html csdn-171.html csdn-172.html csdn-173.html csdn-174.html csdn-175.html csdn-176.html csdn-177.html csdn-178.html csdn-179.html csdn-17.html csdn-180.html csdn-181.html csdn-182.html csdn-183.html csdn-184.html csdn-185.html csdn-186.html csdn-187.html csdn-188.html csdn-189.html csdn-18.html csdn-190.html csdn-191.html csdn-192.html csdn-193.html csdn-194.html csdn-195.html csdn-196.html csdn-197.html csdn-198.html csdn-199.html csdn-19.html csdn-1.html csdn-200.html csdn-201.html csdn-202.html csdn-203.html csdn-204.html csdn-205.html csdn-206.html csdn-207.html csdn-208.html csdn-209.html csdn-20.html csdn-210.html csdn-211.html csdn-212.html csdn-213.html csdn-214.html csdn-215.html csdn-216.html csdn-217.html csdn-218.html csdn-219.html csdn-21.html csdn-220.html csdn-221.html csdn-222.html csdn-223.html csdn-224.html csdn-225.html csdn-226.html csdn-227.html csdn-228.html csdn-229.html csdn-22.html csdn-230.html csdn-231.html csdn-232.html csdn-233.html csdn-234.html csdn-235.html csdn-236.html csdn-237.html csdn-238.html csdn-239.html csdn-23.html csdn-240.html csdn-241.html csdn-242.html csdn-243.html csdn-244.html csdn-245.html csdn-246.html csdn-247.html csdn-248.html csdn-249.html csdn-24.html csdn-250.html csdn-251.html csdn-252.html csdn-253.html csdn-254.html csdn-255.html csdn-256.html csdn-257.html csdn-258.html csdn-259.html csdn-25.html csdn-260.html csdn-261.html csdn-262.html csdn-263.html csdn-264.html csdn-265.html csdn-266.html csdn-267.html csdn-268.html csdn-269.html csdn-26.html csdn-270.html csdn-271.html csdn-272.html csdn-273.html csdn-274.html csdn-275.html csdn-276.html csdn-277.html csdn-278.html csdn-279.html csdn-27.html csdn-280.html csdn-281.html csdn-282.html csdn-283.html csdn-284.html csdn-285.html csdn-286.html csdn-287.html csdn-288.html csdn-289.html csdn-28.html csdn-290.html csdn-291.html csdn-292.html csdn-293.html csdn-294.html csdn-295.html csdn-296.html csdn-297.html csdn-298.html csdn-299.html csdn-29.html csdn-2.html csdn-300.html csdn-301.html csdn-302.html csdn-303.html csdn-304.html csdn-305.html csdn-306.html csdn-307.html csdn-308.html csdn-309.html csdn-30.html csdn-310.html csdn-311.html csdn-312.html csdn-313.html csdn-314.html csdn-315.html csdn-316.html csdn-317.html csdn-318.html csdn-319.html csdn-31.html csdn-320.html csdn-321.html csdn-322.html csdn-323.html csdn-324.html csdn-325.html csdn-326.html csdn-327.html csdn-328.html csdn-329.html csdn-32.html csdn-330.html csdn-331.html csdn-332.html csdn-333.html csdn-334.html csdn-335.html csdn-336.html csdn-337.html csdn-338.html csdn-339.html csdn-33.html csdn-340.html csdn-341.html csdn-342.html csdn-343.html csdn-344.html csdn-345.html csdn-346.html csdn-347.html csdn-348.html csdn-349.html csdn-34.html csdn-350.html csdn-351.html csdn-35.html csdn-36.html csdn-37.html csdn-38.html csdn-39.html csdn-3.html csdn-40.html csdn-41.html csdn-42.html csdn-43.html csdn-44.html csdn-45.html csdn-46.html csdn-47.html csdn-48.html csdn-49.html csdn-4.html csdn-50.html csdn-51.html csdn-52.html csdn-53.html csdn-54.html csdn-55.html csdn-56.html csdn-57.html csdn-58.html csdn-59.html csdn-5.html csdn-60.html csdn-61.html csdn-62.html csdn-63.html csdn-64.html csdn-65.html csdn-66.html csdn-67.html csdn-68.html csdn-69.html csdn-6.html csdn-70.html csdn-71.html csdn-72.html csdn-73.html csdn-74.html csdn-75.html csdn-76.html csdn-77.html csdn-78.html csdn-79.html csdn-7.html csdn-80.html csdn-81.html csdn-82.html csdn-83.html csdn-84.html csdn-85.html csdn-86.html csdn-87.html csdn-88.html csdn-89.html csdn-8.html csdn-90.html csdn-91.html csdn-92.html csdn-93.html csdn-94.html csdn-95.html csdn-96.html csdn-97.html csdn-98.html csdn-99.html csdn-9.html mysql.sh FROM book WHERE year_publication=1990 </pre>因为语句比较简单，系统判断有可能会用到索引或者全文扫描<br />&#13;\n<img src="http://img.blog.csdn.net/20150622100909772?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvbDEwMjgzODY4MDQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" />&#13;\n<p></p>&#13;\n<p></p>&#13;\n<p>EXPLAIN语句输出结果的各个行的解释如下：</p>&#13;\n<p><strong>select_type：</strong> 表示查询中每个select子句的类型（简单 OR复杂）</p>&#13;\n<p><strong>type：</strong>表示MySQL在表中找到所需行的方式，又称“访问类型”，常见类型如下：（从上至下，效果依次变好）</p>&#13;\n<p><strong>possible_keys</strong> ：指出MySQL能使用哪个索引在表中找到行，查询涉及到的字段上若存在索引，则该索引将被列出，但不一定被查询使用</p>&#13;\n<p><strong>key：</strong> 显示MySQL在查询中实际使用的索引，若没有使用索引，显示为NULL</p>&#13;\n<p><strong>key_len</strong> ：表示索引中使用的字节数，可通过该列计算查询中使用的索引的长度</p>&#13;\n<p><strong>ref</strong> ：表示上述表的连接匹配条件，即哪些列或常量被用于查找索引列上的值</p>&#13;\n<p><strong>rows</strong> ：表示MySQL根据表统计信息及索引选用情况，估算的找到所需的记录所需要读取的行数</p>&#13;\n<p><strong>Extra</strong> ：包含不适合在其他列中显示但十分重要的额外信息 如using where，using index</p>&#13;\n<hr />&#13;\n<p><span style="color:#ff9900"><strong>唯一索引</strong></span></p>&#13;\n<p>唯一索引列的值必须唯一，但允许有空值。如果是复合索引则列值的组合必须唯一</p>&#13;\n<p>建表</p>&#13;\n<pre name="code" class="sql">CREATE TABLE t1\n(\n id INT NOT NULL,\n NAME CHAR(30) NOT NULL,\n UNIQUE INDEX UniqIdx(id)\n）</pre>SHOW CREATE TABLE t1 查看表结构<br />&#13;\n<pre name="code" class="sql">SHOW CREATE TABLE t1 </pre><pre name="code" class="sql"> CREATE TABLE `t1` ( \n `id` int(11) NOT NULL, \n `name` char(30) NOT NULL, \n UNIQUE KEY `UniqIdx` (`id`) \n ) ENGINE=MyISAM DEFAULT CHARSET=utf8 </pre>可以看到id字段上已经成功建立了一个名为UniqIdx的唯一索引&#13;\n<p>创建复合索引</p>&#13;\n<p></p>&#13;\n<pre name="code" class="sql">CREATE TABLE t3 (\n id INT NOT NULL,\n NAME CHAR(30) NOT NULL,\n age INT NOT NULL,\n info VARCHAR (255),\n INDEX MultiIdx (id, NAME, age (100))\n)</pre><pre name="code" class="sql">SHOW CREATE TABLE t3\n\nCREATE TABLE `t3` ( \n `id` int(11) NOT NULL, \n `NAME` char(30) NOT NULL, \n `age` int(11) NOT NULL, \n `info` varchar(255) DEFAULT NULL, \n KEY `MultiIdx` (`id`,`NAME`,`age`) \n ) ENGINE=MyISAM DEFAULT CHARSET=utf8 </pre>由结果可以看到id,name,age字段上已经成功建立了一个名为MultiIdx的复合索引<br />&#13;\n我们向表插入两条数据<br />&#13;\n<pre name="code" class="sql">INSERT INTO t3(id ,NAME,age,info) VALUES(1,'小明',12,'nihao'),(2,'小芳',16,'nihao')</pre>使用EXPLAIN语句查看索引使用情况&#13;\n<p></p>&#13;\n<p></p>&#13;\n<pre name="code" class="sql">EXPLAIN SELECT csdn-100.html csdn-101.html csdn-102.html csdn-103.html csdn-104.html csdn-105.html csdn-106.html csdn-107.html csdn-108.html csdn-109.html csdn-10.html csdn-110.html csdn-111.html csdn-112.html csdn-113.html csdn-114.html csdn-115.html csdn-116.html csdn-117.html csdn-118.html csdn-119.html csdn-11.html csdn-120.html csdn-121.html csdn-122.html csdn-123.html csdn-124.html csdn-125.html csdn-126.html csdn-127.html csdn-128.html csdn-129.html csdn-12.html csdn-130.html csdn-131.html csdn-132.html csdn-133.html csdn-134.html csdn-135.html csdn-136.html csdn-137.html csdn-138.html csdn-139.html csdn-13.html csdn-140.html csdn-141.html csdn-142.html csdn-143.html csdn-144.html csdn-145.html csdn-146.html csdn-147.html csdn-148.html csdn-149.html csdn-14.html csdn-150.html csdn-151.html csdn-152.html csdn-153.html csdn-154.html csdn-155.html csdn-156.html csdn-157.html csdn-158.html csdn-159.html csdn-15.html csdn-160.html csdn-161.html csdn-162.html csdn-163.html csdn-164.html csdn-165.html csdn-166.html csdn-167.html csdn-168.html csdn-169.html csdn-16.html csdn-170.html csdn-171.html csdn-172.html csdn-173.html csdn-174.html csdn-175.html csdn-176.html csdn-177.html csdn-178.html csdn-179.html csdn-17.html csdn-180.html csdn-181.html csdn-182.html csdn-183.html csdn-184.html csdn-185.html csdn-186.html csdn-187.html csdn-188.html csdn-189.html csdn-18.html csdn-190.html csdn-191.html csdn-192.html csdn-193.html csdn-194.html csdn-195.html csdn-196.html csdn-197.html csdn-198.html csdn-199.html csdn-19.html csdn-1.html csdn-200.html csdn-201.html csdn-202.html csdn-203.html csdn-204.html csdn-205.html csdn-206.html csdn-207.html csdn-208.html csdn-209.html csdn-20.html csdn-210.html csdn-211.html csdn-212.html csdn-213.html csdn-214.html csdn-215.html csdn-216.html csdn-217.html csdn-218.html csdn-219.html csdn-21.html csdn-220.html csdn-221.html csdn-222.html csdn-223.html csdn-224.html csdn-225.html csdn-226.html csdn-227.html csdn-228.html csdn-229.html csdn-22.html csdn-230.html csdn-231.html csdn-232.html csdn-233.html csdn-234.html csdn-235.html csdn-236.html csdn-237.html csdn-238.html csdn-239.html csdn-23.html csdn-240.html csdn-241.html csdn-242.html csdn-243.html csdn-244.html csdn-245.html csdn-246.html csdn-247.html csdn-248.html csdn-249.html csdn-24.html csdn-250.html csdn-251.html csdn-252.html csdn-253.html csdn-254.html csdn-255.html csdn-256.html csdn-257.html csdn-258.html csdn-259.html csdn-25.html csdn-260.html csdn-261.html csdn-262.html csdn-263.html csdn-264.html csdn-265.html csdn-266.html csdn-267.html csdn-268.html csdn-269.html csdn-26.html csdn-270.html csdn-271.html csdn-272.html csdn-273.html csdn-274.html csdn-275.html csdn-276.html csdn-277.html csdn-278.html csdn-279.html csdn-27.html csdn-280.html csdn-281.html csdn-282.html csdn-283.html csdn-284.html csdn-285.html csdn-286.html csdn-287.html csdn-288.html csdn-289.html csdn-28.html csdn-290.html csdn-291.html csdn-292.html csdn-293.html csdn-294.html csdn-295.html csdn-296.html csdn-297.html csdn-298.html csdn-299.html csdn-29.html csdn-2.html csdn-300.html csdn-301.html csdn-302.html csdn-303.html csdn-304.html csdn-305.html csdn-306.html csdn-307.html csdn-308.html csdn-309.html csdn-30.html csdn-310.html csdn-311.html csdn-312.html csdn-313.html csdn-314.html csdn-315.html csdn-316.html csdn-317.html csdn-318.html csdn-319.html csdn-31.html csdn-320.html csdn-321.html csdn-322.html csdn-323.html csdn-324.html csdn-325.html csdn-326.html csdn-327.html csdn-328.html csdn-329.html csdn-32.html csdn-330.html csdn-331.html csdn-332.html csdn-333.html csdn-334.html csdn-335.html csdn-336.html csdn-337.html csdn-338.html csdn-339.html csdn-33.html csdn-340.html csdn-341.html csdn-342.html csdn-343.html csdn-344.html csdn-345.html csdn-346.html csdn-347.html csdn-348.html csdn-349.html csdn-34.html csdn-350.html csdn-351.html csdn-35.html csdn-36.html csdn-37.html csdn-38.html csdn-39.html csdn-3.html csdn-40.html csdn-41.html csdn-42.html csdn-43.html csdn-44.html csdn-45.html csdn-46.html csdn-47.html csdn-48.html csdn-49.html csdn-4.html csdn-50.html csdn-51.html csdn-52.html csdn-53.html csdn-54.html csdn-55.html csdn-56.html csdn-57.html csdn-58.html csdn-59.html csdn-5.html csdn-60.html csdn-61.html csdn-62.html csdn-63.html csdn-64.html csdn-65.html csdn-66.html csdn-67.html csdn-68.html csdn-69.html csdn-6.html csdn-70.html csdn-71.html csdn-72.html csdn-73.html csdn-74.html csdn-75.html csdn-76.html csdn-77.html csdn-78.html csdn-79.html csdn-7.html csdn-80.html csdn-81.html csdn-82.html csdn-83.html csdn-84.html csdn-85.html csdn-86.html csdn-87.html csdn-88.html csdn-89.html csdn-8.html csdn-90.html csdn-91.html csdn-92.html csdn-93.html csdn-94.html csdn-95.html csdn-96.html csdn-97.html csdn-98.html csdn-99.html csdn-9.html mysql.sh FROM t3 WHERE id=1 AND NAME='小芳'</pre>可以看到  <strong>possible_keys</strong>和 <strong>key</strong> 为MultiIdx证明使用了复合索引&#13;\n<p></p>&#13;\n<p></p>&#13;\n<pre name="code" class="sql"> id select_type table type possible_keys key key_len ref rows Extra \n------ ----------- ------ ------ ------------- -------- ------- ----------- ------ -----------\n 1 SIMPLE t3 ref MultiIdx MultiIdx 94 const,const 1 Using where</pre>如果我们只指定name而不指定id<br />&#13;\n<pre name="code" class="sql">EXPLAIN SELECT csdn-100.html csdn-101.html csdn-102.html csdn-103.html csdn-104.html csdn-105.html csdn-106.html csdn-107.html csdn-108.html csdn-109.html csdn-10.html csdn-110.html csdn-111.html csdn-112.html csdn-113.html csdn-114.html csdn-115.html csdn-116.html csdn-117.html csdn-118.html csdn-119.html csdn-11.html csdn-120.html csdn-121.html csdn-122.html csdn-123.html csdn-124.html csdn-125.html csdn-126.html csdn-127.html csdn-128.html csdn-129.html csdn-12.html csdn-130.html csdn-131.html csdn-132.html csdn-133.html csdn-134.html csdn-135.html csdn-136.html csdn-137.html csdn-138.html csdn-139.html csdn-13.html csdn-140.html csdn-141.html csdn-142.html csdn-143.html csdn-144.html csdn-145.html csdn-146.html csdn-147.html csdn-148.html csdn-149.html csdn-14.html csdn-150.html csdn-151.html csdn-152.html csdn-153.html csdn-154.html csdn-155.html csdn-156.html csdn-157.html csdn-158.html csdn-159.html csdn-15.html csdn-160.html csdn-161.html csdn-162.html csdn-163.html csdn-164.html csdn-165.html csdn-166.html csdn-167.html csdn-168.html csdn-169.html csdn-16.html csdn-170.html csdn-171.html csdn-172.html csdn-173.html csdn-174.html csdn-175.html csdn-176.html csdn-177.html csdn-178.html csdn-179.html csdn-17.html csdn-180.html csdn-181.html csdn-182.html csdn-183.html csdn-184.html csdn-185.html csdn-186.html csdn-187.html csdn-188.html csdn-189.html csdn-18.html csdn-190.html csdn-191.html csdn-192.html csdn-193.html csdn-194.html csdn-195.html csdn-196.html csdn-197.html csdn-198.html csdn-199.html csdn-19.html csdn-1.html csdn-200.html csdn-201.html csdn-202.html csdn-203.html csdn-204.html csdn-205.html csdn-206.html csdn-207.html csdn-208.html csdn-209.html csdn-20.html csdn-210.html csdn-211.html csdn-212.html csdn-213.html csdn-214.html csdn-215.html csdn-216.html csdn-217.html csdn-218.html csdn-219.html csdn-21.html csdn-220.html csdn-221.html csdn-222.html csdn-223.html csdn-224.html csdn-225.html csdn-226.html csdn-227.html csdn-228.html csdn-229.html csdn-22.html csdn-230.html csdn-231.html csdn-232.html csdn-233.html csdn-234.html csdn-235.html csdn-236.html csdn-237.html csdn-238.html csdn-239.html csdn-23.html csdn-240.html csdn-241.html csdn-242.html csdn-243.html csdn-244.html csdn-245.html csdn-246.html csdn-247.html csdn-248.html csdn-249.html csdn-24.html csdn-250.html csdn-251.html csdn-252.html csdn-253.html csdn-254.html csdn-255.html csdn-256.html csdn-257.html csdn-258.html csdn-259.html csdn-25.html csdn-260.html csdn-261.html csdn-262.html csdn-263.html csdn-264.html csdn-265.html csdn-266.html csdn-267.html csdn-268.html csdn-269.html csdn-26.html csdn-270.html csdn-271.html csdn-272.html csdn-273.html csdn-274.html csdn-275.html csdn-276.html csdn-277.html csdn-278.html csdn-279.html csdn-27.html csdn-280.html csdn-281.html csdn-282.html csdn-283.html csdn-284.html csdn-285.html csdn-286.html csdn-287.html csdn-288.html csdn-289.html csdn-28.html csdn-290.html csdn-291.html csdn-292.html csdn-293.html csdn-294.html csdn-295.html csdn-296.html csdn-297.html csdn-298.html csdn-299.html csdn-29.html csdn-2.html csdn-300.html csdn-301.html csdn-302.html csdn-303.html csdn-304.html csdn-305.html csdn-306.html csdn-307.html csdn-308.html csdn-309.html csdn-30.html csdn-310.html csdn-311.html csdn-312.html csdn-313.html csdn-314.html csdn-315.html csdn-316.html csdn-317.html csdn-318.html csdn-319.html csdn-31.html csdn-320.html csdn-321.html csdn-322.html csdn-323.html csdn-324.html csdn-325.html csdn-326.html csdn-327.html csdn-328.html csdn-329.html csdn-32.html csdn-330.html csdn-331.html csdn-332.html csdn-333.html csdn-334.html csdn-335.html csdn-336.html csdn-337.html csdn-338.html csdn-339.html csdn-33.html csdn-340.html csdn-341.html csdn-342.html csdn-343.html csdn-344.html csdn-345.html csdn-346.html csdn-347.html csdn-348.html csdn-349.html csdn-34.html csdn-350.html csdn-351.html csdn-35.html csdn-36.html csdn-37.html csdn-38.html csdn-39.html csdn-3.html csdn-40.html csdn-41.html csdn-42.html csdn-43.html csdn-44.html csdn-45.html csdn-46.html csdn-47.html csdn-48.html csdn-49.html csdn-4.html csdn-50.html csdn-51.html csdn-52.html csdn-53.html csdn-54.html csdn-55.html csdn-56.html csdn-57.html csdn-58.html csdn-59.html csdn-5.html csdn-60.html csdn-61.html csdn-62.html csdn-63.html csdn-64.html csdn-65.html csdn-66.html csdn-67.html csdn-68.html csdn-69.html csdn-6.html csdn-70.html csdn-71.html csdn-72.html csdn-73.html csdn-74.html csdn-75.html csdn-76.html csdn-77.html csdn-78.html csdn-79.html csdn-7.html csdn-80.html csdn-81.html csdn-82.html csdn-83.html csdn-84.html csdn-85.html csdn-86.html csdn-87.html csdn-88.html csdn-89.html csdn-8.html csdn-90.html csdn-91.html csdn-92.html csdn-93.html csdn-94.html csdn-95.html csdn-96.html csdn-97.html csdn-98.html csdn-99.html csdn-9.html mysql.sh FROM t3 WHERE NAME='小芳'\n\n id select_type table type possible_keys key key_len ref rows Extra \n------ ----------- ------ ------ ------------- ------ ------- ------ ------ -----------\n 1 SIMPLE t3 ALL (NULL) (NULL) (NULL) (NULL) 2 Using where\n\n</pre>&#13;\n<p>结果跟SQLSERVER一样，也是不走索引， <strong>possible_keys</strong>和<strong>key</strong>都为NULL</p>&#13;\n<hr />&#13;\n<p><span style="color:#ff9900"><strong>全文索引</strong></span></p>&#13;\n<p>FULLTEXT索引可以用于全文搜索。只有MYISAM存储引擎支持FULLTEXT索引，并且只支持CHAR、VARCHAR和TEXT类型</p>&#13;\n<p>全文索引不支持过滤索引。</p>&#13;\n<pre name="code" class="sql">CREATE TABLE t4 (\n id INT NOT NULL,\n NAME CHAR(30) NOT NULL,\n age INT NOT NULL,\n info VARCHAR (255),\n FULLTEXT INDEX FulltxtIdx (info)\n) ENGINE = MYISAM </pre>&#13;\n<p>由于MYSQL5.6默认存储引擎为InnoDB，这里创建表的时候要修改表的存储引擎为MYISAM，不然创建索引会出错</p>&#13;\n<p></p>&#13;\n<pre name="code" class="sql">SHOW CREATE TABLE t4 </pre><pre name="code" class="sql">Table Create Table \n------ ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\nt4 CREATE TABLE `t4` ( \n `id` int(11) NOT NULL, \n `name` char(30) NOT NULL, \n `age` int(11) NOT NULL, \n `info` varchar(255) DEFAULT NULL, \n FULLTEXT KEY `FulltxtIdx` (`info`) \n ) ENGINE=MyISAM DEFAULT CHARSET=utf8 </pre>&#13;\n<p></p>&#13;\n<p>由结果可以看到，info字段上已经成功建立名为FulltxtIdx的FULLTEXT索引。</p>&#13;\n<p>全文索引非常适合大型数据集合 <br />&#13;\n</p>&#13;\n<hr />&#13;\n<p><span style="color:#ff9900"><strong>空间索引</strong></span></p>&#13;\n<p>空间索引必须在 MYISAM类型的表中创建，而且空间类型的字段必须为<strong>非空</strong></p>&#13;\n<p>建表t5</p>&#13;\n<pre name="code" class="sql">CREATE TABLE t5\n(g GEOMETRY NOT NULL ,SPATIAL INDEX spatIdx(g))ENGINE=MYISAM</pre><pre name="code" class="sql">SHOW CREATE TABLE t5\n\nTABLE CREATE TABLE \n------ ---------------------------------------------------------------------------------------------------------------\nt5 CREATE TABLE `t5` ( \n `g` GEOMETRY NOT NULL, \n SPATIAL KEY `spatIdx` (`g`) \n ) ENGINE=MYISAM DEFAULT CHARSET=utf8 </pre>&#13;\n<p>可以看到，t5表的g字段上创建了名称为spatIdx的空间索引。注意创建时指定空间类型字段值的非空约束</p>&#13;\n<p>并且表的存储引擎为MYISAM</p>&#13;\n<hr />&#13;\n<p><span style="color:#ff9900"><strong>已经存在的表上创建索引</strong></span></p>&#13;\n<p>在已经存在的表中创建索引，可以使用ALTER TABLE或者CREATE INDEX语句</p>&#13;\n<p>1、使用ALTER TABLE语句创建索引，语法如下</p>&#13;\n<p>ALTER TABLE table_name ADD [UNIQUE|FULLTEXT|SPATIAL][INDEX|KEY]</p>&#13;\n<p>[index_name](col_name[length],...)[ASC|DESC]<br />&#13;\n</p>&#13;\n<p>与创建表时创建索引的语法不同，在这里使用了ALTER TABLE和ADD关键字，ADD表示向表中添加索引</p>&#13;\n<p>在t1表中的name字段上建立NameIdx普通索引</p>&#13;\n<pre name="code" class="sql">ALTER TABLE t1 ADD INDEX NameIdx(NAME)</pre>添加索引之后，使用SHOW INDEX语句查看指定表中创建的索引<br />&#13;\n<pre name="code" class="sql">SHOW INDEX FROM t1\n\nTABLE Non_unique Key_name Seq_in_index Column_name COLLATION Cardinality Sub_part Packed NULL Index_type COMMENT Index_comment\n------ ---------- -------- ------------ ----------- --------- ----------- -------- ------ ------ ---------- ------- -------------\nt1 0 UniqIdx 1 id A 0 (NULL) (NULL) BTREE \nt1 1 NameIdx 1 NAME A (NULL) (NULL) (NULL) BTREE </pre>&#13;\n<p>各个参数的含义</p>&#13;\n<p>1、TABLE：要创建索引的表</p>&#13;\n<p>2、Non_unique：索引非唯一，1代表是非唯一索引，0代表唯一索引</p>&#13;\n<p>3、Key_name：索引的名称</p>&#13;\n<p>4、Seq_in_index：该字段在索引中的位置，单列索引该值为1，复合索引为每个字段在索引定义中的顺序</p>&#13;\n<p>5、Column_name：定义索引的列字段</p>&#13;\n<p>6、Sub_part：索引的长度</p>&#13;\n<p>7、NULL：该字段是否能为空值</p>&#13;\n<p>8、Index_type：索引类型</p>&#13;\n可以看到，t1表已经存在了一个唯一索引<br />&#13;\n在t3表的age和info字段上创建复合索引<pre name="code" class="sql">ALTER TABLE t3 ADD INDEX t3AgeAndInfo(age,info)</pre>使用SHOW INDEX查看表中的索引&#13;\n<p></p>&#13;\n<pre name="code" class="sql">SHOW INDEX FROM t3</pre><pre name="code" class="sql">Table Non_unique Key_name Seq_in_index Column_name Collation Cardinality Sub_part Packed Null Index_type Comment Index_comment\n------ ---------- ------------ ------------ ----------- --------- ----------- -------- ------ ------ ---------- ------- -------------\nt3 1 MultiIdx 1 id A (NULL) (NULL) (NULL) BTREE \nt3 1 MultiIdx 2 NAME A (NULL) (NULL) (NULL) BTREE \nt3 1 MultiIdx 3 age A (NULL) (NULL) (NULL) BTREE \nt3 1 t3AgeAndInfo 1 age A (NULL) (NULL) (NULL) BTREE \nt3 1 t3AgeAndInfo 2 info A (NULL) (NULL) (NULL) YES BTREE </pre>可以看到表中的字段的顺序，第一个位置是age，第二个位置是info，info字段是可空字段&#13;\n<p></p>&#13;\n<p><img src="http://img.blog.csdn.net/20150622101802345?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvbDEwMjgzODY4MDQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n<br />&#13;\n<img src="http://img.blog.csdn.net/20150622101823344?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvbDEwMjgzODY4MDQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /></p>&#13;\n<p>创建表t6，在t6表上创建全文索引</p>&#13;\n<p></p>&#13;\n<pre name="code" class="sql">CREATE TABLE t6\n(\n id INT NOT NULL,\n info CHAR(255)\n)ENGINE= MYISAM;</pre>&#13;\n<p></p>&#13;\n<p>注意修改ENGINE参数为MYISAM，MYSQL默认引擎InnoDB不支持全文索引</p>&#13;\n<p>使用ALTER TABLE语句在info字段上创建全文索引</p>&#13;\n<pre name="code" class="sql">ALTER TABLE t6 ADD FULLTEXT INDEX infoFTIdx(info)</pre>使用SHOW INDEX查看索引情况&#13;\n<p></p>&#13;\n<pre name="code" class="sql">SHOW INDEX FROM t6</pre><pre name="code" class="sql">Table Non_unique Key_name Seq_in_index Column_name Collation Cardinality Sub_part Packed Null Index_type Comment Index_comment\n------ ---------- --------- ------------ ----------- --------- ----------- -------- ------ ------ ---------- ------- -------------\nt6 1 infoFTIdx 1 info (NULL) (NULL) (NULL) (NULL) YES FULLTEXT </pre>创建表t7，并在空间数据类型字段g上创建名称为spatIdx的空间索引&#13;\n<p></p>&#13;\n<p></p>&#13;\n<pre name="code" class="sql">CREATE TABLE t7(g GEOMETRY NOT NULL)ENGINE=MYISAM;</pre>使用ALTER TABLE在表t7的g字段建立空间索引&#13;\n<p></p>&#13;\n<p></p>&#13;\n<pre name="code" class="sql">ALTER TABLE t7 ADD SPATIAL INDEX spatIdx(g)</pre>使用SHOW INDEX查看索引情况&#13;\n<p></p>&#13;\n<p></p>&#13;\n<pre name="code" class="sql">SHOW INDEX FROM t7</pre><pre name="code" class="sql">Table Non_unique Key_name Seq_in_index Column_name Collation Cardinality Sub_part Packed Null Index_type Comment Index_comment\n------ ---------- -------- ------------ ----------- --------- ----------- -------- ------ ------ ---------- ------- -------------\nt7 1 spatIdx 1 g A (NULL) 32 (NULL) SPATIAL </pre>2、使用CREATE INDEX语句创建索引，语法如下&#13;\n<p></p>&#13;\n<p></p>&#13;\n<pre name="code" class="sql">CREATE [UNIQUE|FULLTEXT|SPATIAL] INDEX index_name\n\nON table_name(col_name[length],...) [ASC|DESC]</pre>可以看到CREATE INDEX语句和ALTER INDEX语句的基本语法一样，只是关键字不同。&#13;\n<p></p>&#13;\n<p>我们建立一个book表<br />&#13;\n</p>&#13;\n<pre name="code" class="sql">CREATE TABLE book (\n bookid INT NOT NULL,\n bookname VARCHAR (255) NOT NULL,\n AUTHORS VARCHAR (255) NOT NULL,\n info VARCHAR (255) NULL,\n COMMENT VARCHAR (255) NULL,\n year_publication YEAR NOT NULL\n)</pre>建立普通索引<br />&#13;\n<pre name="code" class="sql">CREATE INDEX BkNameIdx ON book(bookname)</pre>建立唯一索引&#13;\n<p></p>&#13;\n<p></p>&#13;\n<pre name="code" class="sql">CREATE UNIQUE INDEX UniqidIdx ON book(bookId)</pre>建立复合索引&#13;\n<p></p>&#13;\n<p></p>&#13;\n<pre name="code" class="sql">CREATE INDEX BkAuAndInfoIdx ON book(AUTHORS(20),info(50))</pre>建立全文索引，我们drop掉t6表，重新建立t6表&#13;\n<p></p>&#13;\n<p></p>&#13;\n<pre name="code" class="sql">DROP TABLE IF EXISTS t6\n\nCREATE TABLE t6\n(\n id INT NOT NULL,\n info CHAR(255)\n)ENGINE= MYISAM;\n\nCREATE FULLTEXT INDEX infoFTIdx ON t6(info);</pre>建立空间索引，我们drop掉t7表，重新建立t7表&#13;\n<p></p>&#13;\n<p></p>&#13;\n<pre name="code" class="sql">DROP TABLE IF EXISTS t7\n\nCREATE TABLE t7(g GEOMETRY NOT NULL)ENGINE=MYISAM;\n\nCREATE SPATIAL INDEX spatIdx ON t7(g)</pre>&#13;\n<p></p>&#13;\n<p></p>&#13;\n<hr />&#13;\n<p></p>&#13;\n<p><span style="color:#ff9900"><strong>删除索引</strong></span></p>&#13;\n<p>MYSQL中使用ALTER TABLE或者DROP INDEX语句来删除索引，两者实现相同功能</p>&#13;\n<p>1、使用ALTER TABLE删除索引</p>&#13;\n<p> 语法</p>&#13;\n<pre name="code" class="sql">ALTER TABLE table_name DROP INDEX index_name</pre><pre name="code" class="sql">ALTER TABLE book DROP INDEX UniqidIdx</pre><pre name="code" class="sql">SHOW CREATE TABLE book</pre><pre name="code" class="sql">Table Create Table \n------ ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\nbook CREATE TABLE `book` ( \n `bookid` int(11) NOT NULL, \n `bookname` varchar(255) NOT NULL, \n `authors` varchar(255) NOT NULL, \n `info` varchar(255) DEFAULT NULL, \n `comment` varchar(255) DEFAULT NULL, \n `year_publication` year(4) NOT NULL, \n KEY `BkNameIdx` (`bookname`), \n KEY `BkAuAndInfoIdx` (`authors`(20),`info`(50)) \n ) ENGINE=MyISAM DEFAULT CHARSET=utf8 </pre>可以看到，book表中已经没有名为UniqidIdx的唯一索引，删除索引成功<br />&#13;\n<span style="color:#ff0000"><strong>注意：AUTO_INCREMENT约束字段的唯一索引不能被删除！！</strong></span><br />&#13;\n2、使用DROP INDEX 语句删除索引&#13;\n<p></p>&#13;\n<pre name="code" class="sql">DROP INDEX index_name ON table_name</pre><pre name="code" class="sql">DROP INDEX BkAuAndInfoIdx ON book</pre><pre name="code" class="sql">SHOW CREATE TABLE book;\n\nTable Create Table \n------ ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\nbook CREATE TABLE `book` ( \n `bookid` int(11) NOT NULL, \n `bookname` varchar(255) NOT NULL, \n `authors` varchar(255) NOT NULL, \n `info` varchar(255) DEFAULT NULL, \n `comment` varchar(255) DEFAULT NULL, \n `year_publication` year(4) NOT NULL, \n KEY `BkNameIdx` (`bookname`) \n ) ENGINE=MyISAM DEFAULT CHARSET=utf8 </pre>可以看到，复合索引BkAuAndInfoIdx已经被删除了<br />&#13;\n<p></p>&#13;\n<p>提示：删除表中的某列时，如果要删除的列为索引的组成部分，则该列也会从索引中删除。</p>&#13;\n<p>如果索引中的所有列都被删除，则整个索引将被删除！！</p>&#13;\n<p></p>&#13;\n &#13;\n
