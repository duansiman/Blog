\n<h1 style="text-align:center"><strong>MySQL<span style="font-family:宋体">外键在数据库中的作用</span></strong></h1><p><span style="white-space:pre"></span>      MySQL<span style="font-family:宋体">外键的目的是控制存储在外键表中的数据，使两张表形成关联，是</span><span style="font-family:Times New Roman">MySQL</span><span style="font-family:宋体">数据库中非常重要的组成部分，值得我们去深入了解。</span>那么，<span style="font-family:'Times New Roman'">MySQL</span><span style="font-family:宋体">外键究竟起到哪些作用呢？下文就将带您一探其中的秘密。</span></p><h2>MySQL<span style="font-family:宋体">外键的作用</span></h2><p>      保持数据一致性，完整性，主要目的是控制存储在外键表中的数据。使两张表形成关联，外键只能引用外表中列的值！</p><h2>例<span style="font-family:Times New Roman">1</span></h2><p>      a b <span style="font-family:宋体">两个表</span></p><p>      a<span style="font-family:宋体">表中存有客户号，客户名称</span></p><p>      b<span style="font-family:宋体">表中存有每个客户的订单</span></p><p>      有了外键后,你只能在确定<span style="font-family: &quot;Times New Roman&quot;;">b </span><span style="font-family: 宋体;">表中没有客户</span><span style="font-family: &quot;Times New Roman&quot;;">x</span><span style="font-family: 宋体;">的订单后，才可以在</span><span style="font-family: &quot;Times New Roman&quot;;">a</span><span style="font-family: 宋体;">表中删除客户</span><span style="font-family: &quot;Times New Roman&quot;;">x</span></p><h2>建立外键的前提</h2><p>      本表的列必须与外键类型相同<span style="font-family:Times New Roman">(</span><span style="font-family:宋体">外键必须是外表主键</span><span style="font-family:Times New Roman">)</span><span style="font-family:宋体">。</span></p><p>      指定主键关键字： <span style="font-family:Times New Roman">foreign key(</span><span style="font-family:宋体">列名</span><span style="font-family:Times New Roman">)</span></p><p>     引用外键关键字： <span style="font-family:Times New Roman">references &lt;</span><span style="font-family:宋体">外键表名</span><span style="font-family:Times New Roman">&gt;(</span><span style="font-family:宋体">外键列名</span><span style="font-family:Times New Roman">)</span></p><h2>事件触发限制</h2><p>      on delete<span style="font-family:宋体">和</span><span style="font-family:Times New Roman">on update , </span><span style="font-family:宋体">可设参数</span><span style="font-family:Times New Roman">cascade(</span><span style="font-family:宋体">跟随外键改动</span><span style="font-family:Times New Roman">), restrict(</span><span style="font-family:宋体">限制外表中的外键改动</span><span style="font-family:Times New Roman">),set Null(</span><span style="font-family:宋体">设空值）</span><span style="font-family:Times New Roman">,set Default</span><span style="font-family:宋体">（设默认值）</span><span style="font-family:Times New Roman">,[</span><span style="font-family:宋体">默认</span><span style="font-family:Times New Roman">]no action</span></p><h2>例<span style="font-family:Times New Roman">2</span></h2><p>      outTable<span style="font-family:宋体">表 主键 </span><span style="font-family:Times New Roman">id </span><span style="font-family:宋体">类型 </span><span style="font-family:Times New Roman">int</span></p><p>      创建含有外键的表：</p><p>       create table temp(</p><p>        id int,</p><p>        name char(20),</p><p>        foreign key(id) references outTable(id) on delete cascade on update cascade);</p><p>        说明：把<span style="font-family: &quot;Times New Roman&quot;;">id</span><span style="font-family: 宋体;">列设为</span><span style="font-family: &quot;Times New Roman&quot;;">MySQL</span><span style="font-family: 宋体;">外键，参照外表</span><span style="font-family: &quot;Times New Roman&quot;;">outTable</span><span style="font-family: 宋体;">的</span><span style="font-family: &quot;Times New Roman&quot;;">id</span><span style="font-family: 宋体;">列。当外键的值删除，本表中对应的列删除</span><span style="font-family: &quot;Times New Roman&quot;;">;</span><span style="font-family: 宋体;">当外键的值改变 本表中对应的列值改变。</span></p><h2>注</h2><p>      MySQL<span style="font-family:宋体">中</span>一张表只能有一个主键，主键可以由多个字段组成。</p><h2>美文美图</h2><p style="text-align: center;"><img src="http://img.blog.csdn.net/20160715211438259?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br /></p><p style="text-align: center;"><img src="http://img.blog.csdn.net/20160715211452463?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br /></p> &#13;\n
