\n<h1 style="text-align:center">MySQL<span style="font-family:宋体">命令行导出</span>导入数据库</h1><h2>MySQL<span style="font-family:宋体">命令行导出数据库：</span></h2><p>1<span style="font-family:宋体">，进入</span><span style="font-family:Times New Roman">MySQL</span><span style="font-family:宋体">目录下的</span><span style="font-family:Times New Roman">bin</span><span style="font-family:宋体">文件夹：</span><span style="font-family:Times New Roman">cd MySQL</span><span style="font-family:宋体">中到</span><span style="font-family:Times New Roman">bin</span><span style="font-family:宋体">文件夹的目录</span></p><p>如我输入的命令行：<span style="font-family:Times New Roman">cd D:\\Program Files\\MySQL\\MySQL Server 5.5\\bin</span></p><p>(<span style="font-family:宋体">或者直接将</span><span style="font-family:Times New Roman">windows</span><span style="font-family:宋体">的环境变量</span><span style="font-family:Times New Roman">path</span><span style="font-family:宋体">中添加该目录</span><span style="font-family:Times New Roman">)</span></p><p> </p><p>2<span style="font-family:宋体">，导出数据库：</span><span style="color:rgb(0,0,255)">mysqldump -u <span style="font-family:宋体">用户名 </span><span style="font-family:Times New Roman">-p </span><span style="font-family:宋体">数据库名 </span><span style="font-family:Times New Roman">&gt; </span><span style="font-family:宋体">导出的文件名</span></span> </p><p>如我输入的命令行<span style="font-family:Times New Roman">:mysqldump -u lmapp -p lmapp -P 3308 &gt; lmapp.sql   (</span><span style="font-family:宋体">输入后会让你输入进入</span><span style="font-family:Times New Roman">MySQL</span><span style="font-family:宋体">的密码</span><span style="font-family:Times New Roman">)</span></p><p>（<span style="color:#ff0000;"><strong>如果导出单张表的话在数据库名后面输入表名即可</strong></span>）</p><p>       <span style="color:rgb(68,68,68); font-family:Simsun; font-size:14px; line-height:26px">mysql导出数据库一个表</span><br style="color:rgb(68,68,68); font-family:Simsun; font-size:14px; line-height:26px" /><span style="color:rgb(68,68,68); font-family:Simsun; font-size:14px; line-height:26px">　　mysqldump -u 用户名 -p 数据库名 表名&gt; 导出的文件名</span><br style="color:rgb(68,68,68); font-family:Simsun; font-size:14px; line-height:26px" /><span style="color:rgb(68,68,68); font-family:Simsun; font-size:14px; line-height:26px">　　mysqldump -u lmapp -p lmapp users&gt; test_users.sql （结尾没有分号）</span></p><p>3、会看到文件<span style="font-family:Times New Roman">news.sql</span><span style="font-family:宋体">自动生成到</span><span style="font-family:Times New Roman">bin</span><span style="font-family:宋体">文件下  </span></p><p> <img src="http://img.blog.csdn.net/20150812171130536?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /></p><p>导出时，遇到上面的问题。</p><p><img src="http://img.blog.csdn.net/20150812171158335?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br /></p><p>解决措施：加个参数-P 3308(mysql<span style="font-family:宋体">服务端口</span><span style="font-family:Times New Roman">)</span><span style="font-family:宋体">即可解决问题。</span></p><h2>命令行导入数据库：</h2><p>1<span style="font-family:宋体">，将要导入的</span><span style="font-family:Times New Roman">.sql</span><span style="font-family:宋体">文件移至</span><span style="font-family:Times New Roman">bin</span><span style="font-family:宋体">文件下，这样的路径比较方便</span></p><p>2<span style="font-family:宋体">，同上面导出的第</span><span style="font-family:Times New Roman">1</span><span style="font-family:宋体">步</span></p><p>3<span style="font-family:宋体">，进入</span><span style="font-family:Times New Roman">MySQL</span><span style="font-family:宋体">：</span><span style="font-family:Times New Roman">mysql -u </span><span style="font-family:宋体">用户名 </span><span style="font-family:Times New Roman">-p</span></p><p>如我输入的命令行<span style="font-family:Times New Roman">:mysql -u root -p   (</span><span style="font-family:宋体">输入同样后会让你输入</span><span style="font-family:Times New Roman">MySQL</span><span style="font-family:宋体">的密码</span><span style="font-family:Times New Roman">)</span></p><p>4<span style="font-family:宋体">，在</span><span style="font-family:Times New Roman">MySQL-Front</span><span style="font-family:宋体">中新建你要建的数据库，这时是空数据库，如新建一个名为</span><span style="font-family:Times New Roman">news</span><span style="font-family:宋体">的目标数据库</span></p><p>5<span style="font-family:宋体">，输入：</span><span style="font-family:Times New Roman">mysql&gt;use </span><span style="font-family:宋体">目标数据库名</span></p><p>如我输入的命令行<span style="font-family:Times New Roman">:mysql&gt;use news;</span></p><p>6<span style="font-family:宋体">，导入文件：</span><span style="font-family:Times New Roman">mysql&gt;source </span><span style="font-family:宋体">导入的文件名</span><span style="font-family:Times New Roman">; </span></p><p>如我输入的命令行：<span style="font-family:Times New Roman">mysql&gt;source news.sql; </span></p><p> <img src="http://img.blog.csdn.net/20150816083026265?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /></p><p>      注:由于导入数据库的规模、数据结构不同，导入所需时间会有较大差异。我导入的数据库有123M，花费将近5个小时。期间以为机器宕掉了，仔细观察命令行界面发现，导入是在正常进行的。导入成功后的界面如下:</p><p>      <img src="http://img.blog.csdn.net/20160104092150167?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /></p><p>      注:导入单张数据表时，使用类似use lmapp lm_area 、source lm_area.sql的sql语句。原数据表可存在，导入后的数据表会覆盖同名已存在的数据表。</p><p>      MySQL<span style="font-family:宋体">备份和还原</span><span style="font-family:Times New Roman">,</span><span style="font-family:宋体">都是利用</span><span style="font-family:Times New Roman">mysqldump</span><span style="font-family:宋体">、</span><span style="font-family:Times New Roman">mysql</span><span style="font-family:宋体">和</span><span style="font-family:Times New Roman">source</span><span style="font-family:宋体">命令来完成的。 </span></p><h2>1.Win32<span style="font-family:宋体">下</span><span style="font-family:Times New Roman">MySQL</span><span style="font-family:宋体">的备份与还原 </span></h2><h3>1.1 <span style="font-family:宋体">备份 </span></h3><p>开始菜单 <span style="font-family:Times New Roman">| </span><span style="font-family:宋体">运行 </span><span style="font-family:Times New Roman">| cmd |</span><span style="font-family:宋体">利用“</span><span style="font-family:Times New Roman">cd \\Program Files\\MySQL\\MySQL Server 5.0\\bin</span><span style="font-family:宋体">”命令进入</span><span style="font-family:Times New Roman">bin</span><span style="font-family:宋体">文件夹 </span><span style="font-family:Times New Roman">| </span><span style="font-family:宋体">利用“</span><span style="font-family:Times New Roman">mysqldump  -u </span><span style="font-family:宋体">用户名 </span><span style="font-family:Times New Roman">-p databasename &gt;exportfilename</span><span style="font-family:宋体">”导出数据库到文件，如</span><span style="font-family:Times New Roman">mysqldump -u root -p voice&gt;voice.sql</span><span style="font-family:宋体">，然后输入密码即可开始导出。 </span></p><h3>1.2 <span style="font-family:宋体">还原 </span></h3><p>进入<span style="font-family:Times New Roman">MySQL Command Line Client</span><span style="font-family:宋体">，输入密码，进入到“</span><span style="font-family:Times New Roman">mysql&gt;</span><span style="font-family:宋体">”，输入命令</span><span style="font-family:Times New Roman">"show databases</span><span style="font-family:宋体">；</span><span style="font-family:Times New Roman">"</span><span style="font-family:宋体">，回车，看看有些什么数据库；建立你要还原的数据库，输入</span><span style="font-family:Times New Roman">"create database voice</span><span style="font-family:宋体">；</span><span style="font-family:Times New Roman">"</span><span style="font-family:宋体">，回车；切换到刚建立的数据库，输入</span><span style="font-family:Times New Roman">"use voice</span><span style="font-family:宋体">；</span><span style="font-family:Times New Roman">"</span><span style="font-family:宋体">，回车；导入数据，输入</span><span style="font-family:Times New Roman">"source voice.sql</span><span style="font-family:宋体">；</span><span style="font-family:Times New Roman">"</span><span style="font-family:宋体">，回车，开始导入，再次出现</span><span style="font-family:Times New Roman">"mysql&gt;"</span><span style="font-family:宋体">并且没有提示错误即还原成功。 </span></p><p>2.Linux<span style="font-family:宋体">下</span><span style="font-family:Times New Roman">MySQL</span><span style="font-family:宋体">的备份与还原 </span></p><p>2.1 <span style="font-family:宋体">备份 </span></p><p>[root@localhost ~]# cd /var/lib/mysql (<span style="font-family:宋体">进入到</span><span style="font-family:Times New Roman">MySQL</span><span style="font-family:宋体">库目录，根据自己的</span><span style="font-family:Times New Roman">MySQL</span><span style="font-family:宋体">的安装情况调整目录</span><span style="font-family:Times New Roman">) </span></p><p>[root@localhost mysql]# mysqldump -u root -p voice&gt;voice.sql<span style="font-family:宋体">，输入密码即可。</span></p><p>2.2 <span style="font-family:宋体">还原</span></p><p>法一：</p><p>[root@localhost ~]# mysql -u root -p <span style="font-family:宋体">回车，输入密码，进入</span><span style="font-family:Times New Roman">MySQL</span><span style="font-family:宋体">的控制台</span><span style="font-family:Times New Roman">"mysql&gt;"</span><span style="font-family:宋体">，同</span><span style="font-family:Times New Roman">1.2</span><span style="font-family:宋体">还原。</span></p><p>法二：</p><p>[root@localhost ~]# cd /var/lib/mysql (<span style="font-family:宋体">进入到</span><span style="font-family:Times New Roman">MySQL</span><span style="font-family:宋体">库目录，根据自己的</span><span style="font-family:Times New Roman">MySQL</span><span style="font-family:宋体">的安装情况调整目录</span><span style="font-family:Times New Roman">) </span></p><p>[root@localhost mysql]# mysql -u root -p voice&lt;voice.sql<span style="font-family:宋体">，输入密码即可。</span></p> &#13;\n
