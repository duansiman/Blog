\n\n<p>InnoDB存储引擎中的表非常像Oracle中的索引组织表，每张表必须得有主键，如果表在创建时没有显示定义主键，则根据以下原则自动创建主键：</p>&#13;\n<p>1）如果有非空的唯一索引，则该索引所在的列为主键；</p>&#13;\n<p>2）如果不符合上述条件，自动创建一个6个字节的指针为主键。</p>&#13;\n<p><br />&#13;\n</p>&#13;\n<p>InnoDB存储引擎的逻辑存储结构和Oracle几乎一样，从大到小分别为：表空间、段、区、页，它们的关系如下图所示：</p>&#13;\n<p><img src="http://img.blog.csdn.net/20130612220849140" alt="" /><br />&#13;\n</p>&#13;\n<p><br />&#13;\n</p>&#13;\n<h2>表空间</h2>&#13;\n<p>在上一篇《<a target="_blank" href="http://blog.csdn.net/u010415792/article/details/9078869">MySQL InnoDB文件介绍</a>》中，我们知道InnoDB有一个默认的表空间，如果我们启用了参数innodb_file_per_table，则针对每张可以单独放在表空间里。这里需要注意的是，即时启用了innodb_file_per_table，也并不是表中所有的数据都单独放在自己的表空间里，单独表空间只存放数据、索引和插入缓冲，其它如Undo、系统事务信息、二次写缓冲等还是存放在默认共享表空间里。</p>&#13;\n<p><br />&#13;\n</p>&#13;\n<h2>段</h2>&#13;\n<p>表空间有若干各段组成，常见的有数据段、索引段、回滚段等。前面提到InnoDB中的表是索引组织表，因此数据段也称为leaf node segment，索引段也称为non-leaf node segment。</p>&#13;\n<p><br />&#13;\n</p>&#13;\n<h2>区</h2>&#13;\n<p>每64个连续的页组成区，因此区大小正好为1M。</p>&#13;\n<p><br />&#13;\n</p>&#13;\n<h2>页</h2>&#13;\n<p>页是InnoDB磁盘管理的最小单位，固定大小为16K，不可以更改（也许通过更改源码可以修改固定大小）。</p>&#13;\n<p><br />&#13;\n</p>&#13;\n<h2>行</h2>&#13;\n<div>InnoDB表中数据按行存储。</div>&#13;\n &#13;\n
