\n\n<h1 style="text-align:center">CPU超负荷异常情况</h1>&#13;\n<h2>问题</h2>&#13;\n<p>      项目部署阶段，提交订单时总是出现cpu超负荷工作情况，导致机器卡死，订单提交失败。通过任务管理器可见下图所示:</p>&#13;\n<p> <img src="http://img.blog.csdn.net/20160103094727301?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /></p>&#13;\n<p>      通过任务管理器中进程信息(见下图)进行查看，可见正是由于项目运行的原因导致CPU超负荷工作。元凶究竟是谁？难道是因为输出的测试语句太多导致的，尝试减少测试输出语句。</p>&#13;\n<p> <img src="http://img.blog.csdn.net/20160103094742063?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /></p>&#13;\n<h2>追根溯源</h2>&#13;\n<p>      经查，是在进行提交订单即执行3002<span style="font-family:宋体">交易时发生的错误。再次运行查看到底是那一步造成的，难道是操作数据表的缘故？用事实说话。如下图所示在执行到操作订单主表</span><span style="font-family:Calibri">lm_bill</span><span style="font-family:宋体">时，程序便停止运行了，此时</span><span style="font-family:Calibri">CPU</span><span style="font-family:宋体">已达到</span><span style="font-family:Calibri">100%</span><span style="font-family:宋体">！</span></p>&#13;\n<p>      果然如此，执行到</p>&#13;\n<p><span style="color:rgb(0,0,255)">SELECT * FROM lmapp.lm_addr where uid='U18353102068' AND addrid='1' limit 0,1000</span></p>&#13;\n<p>      Sql<span style="font-family:宋体">语句时，此刻在数据库中查询结果为空！而程序在一直处于等待状态！可见，自己的业务逻辑出现了严重漏洞！</span></p>&#13;\n<p>      捕获到以下错误<span style="font-family:Calibri">:</span></p>&#13;\n<p><span style="color:rgb(0,0,128)">      java.sql.SQLException</span>: Incorrect string value: '\\xA2\\x97\\xE7\\xB2\\x92' for column 'medname' at row 1</p>&#13;\n<p>      擦<span style="font-family:Calibri">,</span><span style="font-family:宋体">找了半天</span><span style="font-family:Calibri">,</span><span style="font-family:宋体">原来是自己在网数据库中写数据时不知何时将特殊字符加进去了</span><span style="font-family:Calibri">,</span><span style="font-family:宋体">以至于读表时出现了意想不到的异常。也是醉啦！</span></p>&#13;\n<h2>参考文献:</h2>&#13;\n<p><a target="_blank" href="http://blog.csdn.net/wangchangshuai0010/article/details/12714575"><span style="color:rgb(0,0,255)">http://blog.csdn.net/wangchangshuai0010/article/details/12714575</span></a></p>&#13;\n<p> </p>&#13;\n &#13;\n
