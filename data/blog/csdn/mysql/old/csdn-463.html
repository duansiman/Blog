\n<div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;">mysql中虽然有连接查询实现多表连接查询，但是连接查询的性能很差，因此便出现了子查询。</div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;"><br style="background-color: inherit;" /></div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;">1、理论上，子查询可以出现在查询语句的任何位置，但实际应用中多出现在from后和where后。出现在from后的子查询结果通常是多行多列的，充当临时表；而出现在where后的子查询结果通常是单行单列，充当条件：</div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;"><img src="http://img.blog.csdn.net/20160623224846281?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br /></div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;"><img data-media-type="image" src="file:///H:/youdaobiji/qqA4925CA5EB6376EF1209D66BD4F52A29/3ecf2d6859684a5e98abe463e3b81d7b/se1.png" data-attr-org-src-id="08628257FD4E4908898875ECDF1193DD" data-attr-org-img-file="file:///H:/youdaobiji/qqA4925CA5EB6376EF1209D66BD4F52A29/3ecf2d6859684a5e98abe463e3b81d7b/se1.png" style="cursor: default; display: inline-block; margin-top: 8px; max-width: 800px; background-color: inherit;" alt="" /></div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;"><br style="background-color: inherit;" /></div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;">2、where后作为条件的子查询多与“=”、“！=”、“&gt;”、“&lt;”等比较运算符一起使用。结果虽然通常是单行单列，但是有的时候也会用单行多列，而且有的时候还会返回多行单列。如果是多行单列的情况，则多与in、any、all、exists结合使用：</div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;">in和not in：</div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;"><img src="http://img.blog.csdn.net/20160623224858217?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br /></div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;"><img data-media-type="image" src="file:///H:/youdaobiji/qqA4925CA5EB6376EF1209D66BD4F52A29/e1811d309e96420c98bc1f401837b40f/se2.png" data-attr-org-src-id="39C305EC2598463A85F2EDDEA9C148ED" data-attr-org-img-file="file:///H:/youdaobiji/qqA4925CA5EB6376EF1209D66BD4F52A29/e1811d309e96420c98bc1f401837b40f/se2.png" style="cursor: default; display: inline-block; margin-top: 8px; max-width: 800px; background-color: inherit;" alt="" /></div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;"><br style="background-color: inherit;" /></div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;">其中in表示包含于后边子查询结果集里的任意一个，not in表示不包含于后边结果集里的任意一个。上图子查询的结果中，返回depart_id为1、2、4，因此第一个查询就会查出emp中所有depart_id是1或2或4的，第二个就会查出既不是1也不是2也不是4的。</div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;"><br style="background-color: inherit;" /></div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;">any：</div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;"><img src="http://img.blog.csdn.net/20160623224910407?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br /></div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;"><img data-media-type="image" src="file:///H:/youdaobiji/qqA4925CA5EB6376EF1209D66BD4F52A29/c262722e1e854d399a9d7120db6e4866/se3.png" data-attr-org-src-id="172892DF727242478714666BCCE025CA" data-attr-org-img-file="file:///H:/youdaobiji/qqA4925CA5EB6376EF1209D66BD4F52A29/c262722e1e854d399a9d7120db6e4866/se3.png" style="cursor: default; display: inline-block; margin-top: 8px; max-width: 800px; background-color: inherit;" alt="" /></div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;"><br style="background-color: inherit;" /></div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;">=any的用法和in的效果是一样的；&gt;any是说要大于子查询结果集里的任意一个就可以，简单理解就是只要大于结果集中最小的那个就可以；&lt;any就是要小于子查询结果集里任意一个就可以，简单理解就是只要小于最大的一个就可以。因此这里&gt;any是只要大于1就行，而&lt;any则只要小于4就行。</div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;"><br style="background-color: inherit;" /></div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;">all：</div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;"><img src="http://img.blog.csdn.net/20160623224922999?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br /></div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;"><img data-media-type="image" src="file:///H:/youdaobiji/qqA4925CA5EB6376EF1209D66BD4F52A29/f4f876177c7f470fa5d162870d8e8483/se4.png" data-attr-org-src-id="F88036E75C6C4AC6BE1409A5146783BB" data-attr-org-img-file="file:///H:/youdaobiji/qqA4925CA5EB6376EF1209D66BD4F52A29/f4f876177c7f470fa5d162870d8e8483/se4.png" style="cursor: default; display: inline-block; margin-top: 8px; max-width: 800px; background-color: inherit;" alt="" /></div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;"><br style="background-color: inherit;" /></div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;">&gt;all就是说要大于子查询结果集里所有的，简单理解就是要比最大的那个还大；&lt;all就是要小于结果集里所有的，简单理解就是要比最小的还小。因此上边的第一个查询就是要大于4，第二个就是要小于1。</div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;"><br style="background-color: inherit;" /></div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;">exists：</div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;"><img src="http://img.blog.csdn.net/20160623224935593?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br /></div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;"><img data-media-type="image" src="file:///H:/youdaobiji/qqA4925CA5EB6376EF1209D66BD4F52A29/5299ca4295194e0eb67bcb1a254ce876/se5.png" data-attr-org-src-id="F763AE3967AF499A96996E6E21DB7449" data-attr-org-img-file="file:///H:/youdaobiji/qqA4925CA5EB6376EF1209D66BD4F52A29/5299ca4295194e0eb67bcb1a254ce876/se5.png" style="cursor: default; display: inline-block; margin-top: 8px; max-width: 800px; background-color: inherit;" alt="" /></div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;"><br style="background-color: inherit;" /></div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;">exists和not exists只关心后边的子查询是否有结果，而不关心子查询的结果是什么；对于exists，如果后边的子查询有结果，那么它的值就是true，反之如果没有查到结果，则为false，而not exists正好和这个情况相反，有值为false，无值为true。当他们的值为true时，前边查询到的结果成立，会被加入到主查询的结果集，否则不会被加入主查询的结果集。</div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;">在上便的查询中，查询语句会先从emp中查询一条数据，然后拿这条数据的depart_id和company中的depart_id比较，当存在两个id相同的数据时，就会有结果返回，然后最终返回6条数据，而第二个查询一样的道理，当不存在两个id相同的数据时，主查询才有结果返回，只有一条数据。</div><div style="font-family: &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;; font-size: 14px; line-height: 21px;"><br style="background-color: inherit;" /></div> &#13;\n
