\n\n<div style="white-space:pre-wrap; line-height:1.875; text-indent:28px; text-align:center; font-size:14px">&#13;\n<span style="font-size:18px; color:#FF0000; font-weight:bold">视图</span></div>&#13;\n<div style="white-space:pre-wrap; line-height:1.875; text-indent:28px; font-size:14px">&#13;\n视图是虚拟的表。与包含的数据表不一样，视图只包含使用时动态检索的数据查询。作为视图，他不包含任何列或数据，包含的只是一个查询。</div>&#13;\n<div style="white-space:pre-wrap; line-height:1.875; text-indent:28px; font-size:14px">&#13;\n为什么使用视图？</div>&#13;\n<div style="white-space:pre-wrap; line-height:1.875; text-indent:28px; font-size:14px">&#13;\n1：重用sql语句。</div>&#13;\n<div style="white-space:pre-wrap; line-height:1.875; text-indent:28px; font-size:14px">&#13;\n2：简化复杂的sql操作。在编写查询后，可以方便的重用它而不必知道其基本查询的细节。</div>&#13;\n<div style="white-space:pre-wrap; line-height:1.875; text-indent:28px; font-size:14px">&#13;\n3：使用表的一部分而不是整个表。</div>&#13;\n<div style="white-space:pre-wrap; line-height:1.875; text-indent:28px; font-size:14px">&#13;\n4：保护数据。可以授予用户访问表的特定部分的权限，而不是对整个表进行访问。</div>&#13;\n<div style="white-space:pre-wrap; line-height:1.875; text-indent:28px; font-size:14px">&#13;\n5：更改数据格式和表示。视图可以返回与底层表的表示和格式不同的数据。</div>&#13;\n<div style="white-space:pre-wrap; line-height:1.875; text-indent:28px; font-size:14px">&#13;\n创建视图之后，可以用于表基本相同的方式使用它们。可以对视图执行SELECT操作，过滤和排序数据，将视图联结到其他视图或表。</div>&#13;\n<div style="white-space:pre-wrap; line-height:1.875; text-indent:28px; font-size:14px">&#13;\n重要的是，要知道视图仅仅是用来查看存储在别处数据的一种设置。视图本身不包含数据，因此返回的数据是从其他表中检索出来的。在添加和更改这些表中的数据的时候，视图将返回改变过的数据。</div>&#13;\n<div style="white-space:pre-wrap; line-height:1.875; text-indent:28px; font-size:14px">&#13;\n<br />&#13;\n</div>&#13;\n<div style="white-space:pre-wrap; line-height:1.875; text-indent:28px; font-size:14px">&#13;\n关于视图创建和使用的一些最常见的规则和限制</div>&#13;\n<div style="white-space:pre-wrap; text-indent:28px; line-height:1.5; font-size:14px">&#13;\n（1）与表一样，视图必须唯一命名</div>&#13;\n<div style="white-space:pre-wrap; text-indent:28px; line-height:1.5; font-size:14px">&#13;\n（2）对于可以穿件的视图数目没有限制</div>&#13;\n<div style="white-space:pre-wrap; text-indent:28px; line-height:1.5; font-size:14px">&#13;\n（3）为了创建视图，必须具有足够的访问权限。这些权限通常由数据库管理人员授予。</div>&#13;\n<div style="white-space:pre-wrap; text-indent:28px; line-height:1.5; font-size:14px">&#13;\n（4）视图可以嵌套，即可以利用从其他视图中检索数据的查询来构造一个视图。</div>&#13;\n<div style="white-space:pre-wrap; text-indent:28px; line-height:1.5; font-size:14px">&#13;\n（5）许多DBMS禁止在视图查询中使用ORDER BY子句。</div>&#13;\n<div style="white-space:pre-wrap; text-indent:28px; line-height:1.5; font-size:14px">&#13;\n（6）有的DBMS要求命名返回的所有列，如果列是计算字段，则需要使用别名。</div>&#13;\n<div style="white-space:pre-wrap; text-indent:28px; line-height:1.5; font-size:14px">&#13;\n（7）视图不能索引，也不能有关联的触发器或默认值。</div>&#13;\n<div style="white-space:pre-wrap; text-indent:28px; line-height:1.5; font-size:14px">&#13;\n（8）有的DBMS把视图作为只读的查询，这表示可以从视图检索数据，但不能将数据写会底层表。</div>&#13;\n<div style="white-space:pre-wrap; text-indent:28px; line-height:1.5; font-size:14px">&#13;\n（9）有的DBMS允许创建这样的视图，它不允许进行导致行不再属于视图的插入或更新。</div>&#13;\n<div style="white-space:pre-wrap; text-indent:28px; line-height:1.5; font-size:14px">&#13;\n<br />&#13;\n</div>&#13;\n<div style="white-space:pre-wrap; text-indent:28px; line-height:1.5; font-size:14px">&#13;\n<br />&#13;\n</div>&#13;\n<div style="white-space:pre-wrap; text-indent:28px; text-align:center; line-height:1.5; font-size:14px">&#13;\n<span style="color:#FF0000; font-size:16px; font-weight:bold">创建视图</span></div>&#13;\n<div style="white-space:pre-wrap; text-indent:28px; line-height:1.5; font-size:14px">&#13;\n视图用CREATE VIEW语句来创建。</div>&#13;\n<div style="white-space:pre-wrap; text-indent:28px; line-height:1.5; font-size:14px">&#13;\n用DROP语句来删除视图，语法为：DROP VIEW viewname;</div>&#13;\n<div style="white-space:pre-wrap; text-indent:28px; line-height:1.5; font-size:14px">&#13;\n<br />&#13;\n</div>&#13;\n<div style="white-space:pre-wrap; text-indent:28px; margin-left:28px; line-height:1.5; font-size:14px">&#13;\n<span style="font-weight:bold">利用视图简化复杂的联结</span></div>&#13;\n<div style="white-space:pre-wrap; margin-left:28px; line-height:1.5; font-size:14px">&#13;\nCREATE VIEW ProductCustomers AS SELECT cust_name,cust_contact,prod_idFROM Customers,Orders,OrderItems WHERE Customers.cust_id = Order.cust_id AND OrderItems.order_num = Order.order_num;</div>&#13;\n<div style="white-space:pre-wrap; margin-left:28px; line-height:1.5; font-size:14px">&#13;\n这条语句创建一个名为ProductCustomers的视图，他联结三个表，以返回已订购了任意产品的所有客户的列表。</div>&#13;\n<div style="white-space:pre-wrap; margin-left:28px; line-height:1.5; font-size:14px">&#13;\n检索订购了产品RGAN01的客户</div>&#13;\n<div style="white-space:pre-wrap; margin-left:28px; line-height:1.5; font-size:14px">&#13;\nSELECT cust_name,cust_contact FROM ProductCustomers WHERE prod_id = 'RGAN01';</div>&#13;\n<div style="white-space:pre-wrap; margin-left:28px; line-height:1.5; font-size:14px">&#13;\n<br />&#13;\n</div>&#13;\n<div style="white-space:pre-wrap; text-indent:56px; line-height:1.5; font-size:14px">&#13;\n<span style="font-weight:bold">用视图重新格式化检索出的数据</span></div>&#13;\n<div style="white-space:pre-wrap; margin-left:28px; line-height:1.5; font-size:14px">&#13;\n创建格式化视图</div>&#13;\n<div style="white-space:pre-wrap; margin-left:28px; line-height:1.5; font-size:14px">&#13;\nCREATE VIEW VendorsLocations AS SELECT RTRM(vend_name) || ' ( ' || RTRIM(vend_country) || ' ) ' AS vend_titleFROM Vendors;</div>&#13;\n<div style="white-space:pre-wrap; margin-left:28px; line-height:1.5; font-size:14px">&#13;\n<br />&#13;\n</div>&#13;\n<div style="white-space:pre-wrap; margin-left:28px; text-indent:28px; line-height:1.5; font-size:14px">&#13;\n<span style="font-weight:bold">用试图过滤不想要的数据</span></div>&#13;\n<div style="white-space:pre-wrap; margin-left:28px; line-height:1.5; font-size:14px">&#13;\n定义CustomerEMailList 视图，过滤没有电子邮件地址的客户。</div>&#13;\n<div style="white-space:pre-wrap; margin-left:28px; line-height:1.5; font-size:14px">&#13;\nCREATE VIEW CustomerEMailList AS SELECT cust_id, cust_name, cust_emailFROM CustomersWHERE cust_email IS NOT NULL;</div>&#13;\n<div style="white-space:pre-wrap; margin-left:28px; line-height:1.5; font-size:14px">&#13;\n<br />&#13;\n</div>&#13;\n<div style="white-space:pre-wrap; margin-left:28px; text-indent:28px; line-height:1.5; font-size:14px">&#13;\n<span style="font-weight:bold">使用视图与计算字段</span></div>&#13;\n<div style="white-space:pre-wrap; margin-left:28px; line-height:1.5; font-size:14px">&#13;\n检索某个特定订单中的物品，计算每种物品的总价格</div>&#13;\n<div style="white-space:pre-wrap; margin-left:28px; line-height:1.5; font-size:14px">&#13;\nCREATE VIEW OrderItemExpanded AS SELECT order_num, prod_id, quantity, item_price, quantity*item_price AS expanded_price</div>&#13;\n<div style="white-space:pre-wrap; margin-left:28px; line-height:1.5; font-size:14px">&#13;\nFROM OrderItems;</div>&#13;\n<div style="white-space:pre-wrap; margin-left:28px; line-height:1.5; font-size:14px">&#13;\n根据视图检索订单20008的详细内容</div>&#13;\n<div style="white-space:pre-wrap; margin-left:28px; line-height:1.5; font-size:14px">&#13;\nSELECT *FROM OrderItemsExpanded WHERE order_num = 20008;</div>&#13;\n<div style="white-space:pre-wrap; text-indent:28px; line-height:1.5; font-size:14px">&#13;\n<br />&#13;\n</div>&#13;\n &#13;\n
