\n\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\nselect *,if(sva=1,"男","女") as ssva from taname where sva&lt;&gt;""</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\n12.2. 控制流程函数<br style="margin:0px; padding:0px" />&#13;\nCASE value WHEN [compare-value] THEN result [WHEN [compare-value] THEN result ...] [ELSE result] END CASE WHEN [condition] THEN result [WHEN [condition] THEN result ...] [ELSE result] END <br style="margin:0px; padding:0px" />&#13;\n在第一个方案的返回结果中， value=compare-value。而第二个方案的返回结果是第一种情况的真实结果。如果没有匹配的结果值，则返回结果为ELSE后的结果，如果没有ELSE 部分，则返回值为 NULL。</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\nMySQL&gt; SELECT CASE 1 WHEN 1 THEN one</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\n    -&gt;     WHEN 2 THEN two ELSE more END;</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\n        -&gt; one</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\nmysql&gt; SELECT CASE WHEN 1&gt;0 THEN true ELSE false END;</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\n        -&gt; true</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\nmysql&gt; SELECT CASE BINARY B</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\n    -&gt;     WHEN a THEN 1 WHEN b THEN 2 END;</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\n        -&gt; NULL</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\n一个CASE表达式的默认返回值类型是任何返回值的相容集合类型，但具体情况视其所在语境而定。如果用在字符串语境中，则返回结果味字符串。如果用在数字语境中，则返回结果为十进制值、实值或整数值。</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\nIF(exPR1,expr2,expr3) <br style="margin:0px; padding:0px" />&#13;\n如果 expr1 是TRUE (expr1 &lt;&gt; 0 and expr1 &lt;&gt; NULL)，则 IF()的返回值为expr2; 否则返回值则为 expr3。IF() 的返回值为数字值或字符串值，具体情况视其所在语境而定。</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\nmysql&gt; SELECT IF(1&gt;2,2,3);</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\n        -&gt; 3</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\nmysql&gt; SELECT IF(1&lt;2,yes ,no);</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\n        -&gt; yes</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\nmysql&gt; SELECT IF(STRCMP(test,test1),no,yes);</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\n        -&gt; no</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\n如果expr2 或expr3中只有一个明确是 NULL，则IF() 函数的结果类型 为非NULL表达式的结果类型。</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\nexpr1 作为一个整数值进行计算，就是说，假如你正在验证浮点值或字符串值，   那么应该使用比较运算进行检验。</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\nmysql&gt; SELECT IF(0.1,1,0);</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\n        -&gt; 0</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\nmysql&gt; SELECT IF(0.1&lt;&gt;0,1,0);</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\n        -&gt; 1</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\n在所示的第一个例子中，IF(0.1)的返回值为0，原因是 0.1 被转化为整数值，从而引起一个对 IF(0)的检验。这或许不是你想要的情况。在第二个例子中，比较检验了原始浮点值，目的是为了了解是否其为非零值。比较结果使用整数。</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\nIF() (这一点在其被储存到临时表时很重要 ) 的默认返回值类型按照以下方式计算：</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\n表达式<br style="margin:0px; padding:0px" />&#13;\n 返回值<br style="margin:0px; padding:0px" />&#13;\n <br style="margin:0px; padding:0px" />&#13;\nexpr2 或expr3 返回值为一个字符串。<br style="margin:0px; padding:0px" />&#13;\n 字符串<br style="margin:0px; padding:0px" />&#13;\n <br style="margin:0px; padding:0px" />&#13;\nexpr2 或expr3 返回值为一个浮点值。<br style="margin:0px; padding:0px" />&#13;\n 浮点<br style="margin:0px; padding:0px" />&#13;\n <br style="margin:0px; padding:0px" />&#13;\nexpr2 或 expr3 返回值为一个整数。  <br style="margin:0px; padding:0px" />&#13;\n 整数<br style="margin:0px; padding:0px" />&#13;\n </p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\n假如expr2 和expr3 都是字符串，且其中任何一个字符串区分大小写，则返回结果是区分大小写。<br style="margin:0px; padding:0px" />&#13;\n<a target="_blank" href="http://blog.knowsky.com/" style="margin:0px; padding:0px; color:rgb(51,51,51)">http://blog.knowsky.com/</a><br style="margin:0px; padding:0px" />&#13;\nIFNULL(expr1,expr2) <br style="margin:0px; padding:0px" />&#13;\n假如expr1 不为 NULL，则 IFNULL() 的返回值为 expr1; 否则其返回值为 expr2。IFNULL()的返回值是数字或是字符串，具体情况取决于其所使用的语境。</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\nmysql&gt; SELECT IFNULL(1,0);</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\n        -&gt; 1</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\nmysql&gt; SELECT IFNULL(NULL,10);</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\n        -&gt; 10</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\nmysql&gt; SELECT IFNULL(1/0,10);</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\n        -&gt; 10</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\nmysql&gt; SELECT IFNULL(1/0,yes);</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\n        -&gt; yes</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\nIFNULL(expr1,expr2)的默认结果值为两个表达式中更加“通用”的一个，顺序为STRING、 REAL或 INTEGER。假设一个基于表达式的表的情况，  或MySQL必须在内存储器中储存一个临时表中IFNULL()的返回值：</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\nCREATE TABLE tmp SELECT IFNULL(1,test) AS test；</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\n在这个例子中，测试列的类型为 CHAR(4)。</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\nNULLIF(expr1,expr2) <br style="margin:0px; padding:0px" />&#13;\n如果expr1 = expr2  成立，那么返回值为NULL，否则返回值为 expr1。这和CASE WHEN expr1 = expr2 THEN NULL ELSE expr1 END相同。</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\nmysql&gt; SELECT NULLIF(1,1);</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\n        -&gt; NULL</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\nmysql&gt; SELECT NULLIF(1,2);</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\n        -&gt; 1</p>&#13;\n<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; line-height:19.5px; font-size:13px; font-family:verdana,'ms song',&#x5B8B;&#x4F53;,Arial,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,Helvetica,sans-serif">&#13;\n注意，如果参数不相等，则 MySQL 两次求得的值为  expr1 </p>&#13;\n &#13;\n
