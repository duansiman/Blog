\n\n<span></span>&#13;\n<div><span><strong>SQL分类</strong></span></div>&#13;\n<ol>&#13;\n<li><span><strong>DDL(Data Definition Languages)</strong>：数据定义语言，定义不同数据段、数据库、表、列、索引等数据库对象，常用关键字包括create、drop、alter等<br />&#13;\n</span></li><li><span><strong>DML(Data Manipulation Language)</strong>：数据操控语句，用于添加、删除、更新和查询数据库记录，并检查数据完整性：常用关键字包括insert、delete、update和select等</span></li><li><span><strong>DCL(Data Control Lanaguage)</strong>:数据控制语句，用于控制不同数据段直接的许可和访问级别的语句，定义了数据库、表、字段、用户的访问权限和安全级别，主要语句关键字包括grant、revoke等</span></li></ol>&#13;\n<div><span><br />&#13;\n</span></div>&#13;\n<div><span><strong>DDL语句</strong></span></div>&#13;\n<div><span>常用命令有：</span></div>&#13;\n<ol>&#13;\n<li><span>CREATE DATABASE dbname:创建名为dbname的数据库</span></li></ol>&#13;\n<div style="margin-left:40px"><span><strong>mysql&gt; create database test2;</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>Query OK, 1 row affected (0.00 sec)</strong></span></div>&#13;\n<ol start="2">&#13;\n<li><span>show databases:打印系统现有所有数据库</span></li></ol>&#13;\n<div style="margin-left:40px"><span><strong>mysql&gt; show databases;</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>+--------------------+</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>| Database           |</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>+--------------------+</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>| information_schema |</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>| mysql              |</strong> </span>&#13;\n</div>&#13;\n<div style="margin-left:40px"><span><strong>| performance_schema |</strong> </span>&#13;\n</div>&#13;\n<div style="margin-left:40px"><span><strong>| test               |</strong> </span>&#13;\n</div>&#13;\n<div style="margin-left:40px"><span><strong>+--------------------+</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>4 rows in set (0.00 sec)</strong></span></div>&#13;\n<div style="margin-left:40px"><span>其中有4个数据库是在mysql安装后自动创建：</span></div>&#13;\n<ol start="3">&#13;\n<li style="list-style:none; display:inline">&#13;\n<ol>&#13;\n<li><span>information_schema：主要存储了系统中的一些数据库对象信息。比如用户表信息、列信 息、权限信息、字符集信息、分区信息等。</span></li><li><span>cluster：存储了系统的集群信息。</span></li><li><span>mysql：存储了系统的用户权限信息。</span></li><li><span>test：系统自动创建的测试数据库，任何用户都可以使用</span></li></ol>&#13;\n</li><li><span>use dbname:选择数据库</span></li></ol>&#13;\n<div style="margin-left:40px"><span><strong>mysql&gt; use test;</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>Database changed</strong></span></div>&#13;\n<ol start="3">&#13;\n<li><span>show tables:选择特定数据库后，可以使用此命令输出所有表格信息</span></li></ol>&#13;\n<div style="margin-left:40px"><span><strong>mysql&gt; show tables;</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>+----------------+</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>| Tables_in_test |</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>+----------------+</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>| emp            |</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>+----------------+</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>1 row in set (0.00 sec)</strong></span></div>&#13;\n<ol start="3">&#13;\n<li><span>drop database dbname:删除名为dbname的数据库</span></li></ol>&#13;\n<div style="margin-left:40px"><span><strong>mysql&gt; drop database test1;</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>Query OK, 0 rows affected (0.01 sec)</strong></span></div>&#13;\n<ol start="3">&#13;\n<li><span>create table ... :创建表，其基本语法如下：</span></li></ol>&#13;\n<div style="margin-left:40px"><span>CREATE TABLE tablename (column_name_1 column_type_1 constraints， column_name_2  column_type_2  constraints ， ……column_name_n  column_type_n  constraints）</span></div>&#13;\n<div style="margin-left:40px"><span>因为 MySQL 的表名是以目录的形式存在于磁盘上，所以表名的字符可以用任何目录名允许 的字符。column_name 是列的名字，column_type 是列的数据类型，contraints 是这个列的约 束条件。</span></div>&#13;\n<div style="margin-left:40px"><span>例如，创建一个名称为 emp 的表。表中包括 3 个字段，ename（姓名），hiredate（雇用日期）、 sal（薪水），字段类型分别为 varchar（10）、date、int（2），则创建语句为：</span></div>&#13;\n<div style="margin-left:40px"><span><strong>mysql&gt; CREATE TABLE emp (</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>    -&gt;     ename VARCHAR (10),</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>    -&gt;     hiredate date,</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>    -&gt;     sal DECIMAL (10, 2),</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>    -&gt;     deptno INT (2)</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>    -&gt; );</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>Query OK, 0 rows affected (0.05 sec)</strong></span></div>&#13;\n<ol start="8">&#13;\n<li><span>desc tablename / show create table tablename : 查看表名为tablename的详情，如针对刚创建的表，我们可以看到：</span></li></ol>&#13;\n<div style="margin-left:40px"><span><strong>mysql&gt; desc emp;</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>+----------+---------------+------+-----+---------+-------+</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>| Field    | Type          | Null | Key | Default | Extra |</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>+----------+---------------+------+-----+---------+-------+</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>| ename    | varchar(10)   | YES  |     | NULL    |       |</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>| hiredate | date          | YES  |     | NULL    |       |</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>| sal      | decimal(10,2) | YES  |     | NULL    |       |</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>| deptno   | int(2)        | YES  |     | NULL    |       |</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>+----------+---------------+------+-----+---------+-------+</strong></span></div>&#13;\n<div style="margin-left:40px"><span><strong>4 rows in set (0.01 sec)</strong></span></div>&#13;\n<ol start="9">&#13;\n<li><span>修改表类型，具体可分为以下几种：</span>&#13;\n<ul>&#13;\n<li><span>修改表列类型</span></li><li style="list-style:none">&#13;\n<ul>&#13;\n<li><span>ALTER TABLE tablename MODIFY [COLUMN] column_definition [FIRST | AFTER col_name]</span></li><li><span>结合上表描述，我们对emp表做出修改<br />&#13;\n<strong>mysql&gt; alter table emp modify ename varchar(20);<br />&#13;\nQuery OK, 0 rows affected (0.08 sec)<br />&#13;\nRecords: 0  Duplicates: 0  Warnings: 0</strong><br />&#13;\n下面我们再来看表结构：<br />&#13;\n<strong>mysql&gt; desc emp;<br />&#13;\n+----------+---------------+------+-----+---------+-------+<br />&#13;\n| Field    | Type          | Null | Key | Default | Extra |<br />&#13;\n+----------+---------------+------+-----+---------+-------+<br />&#13;\n| ename    | <span style="color:#ff00">varchar(20)</span>   | YES  |     | NULL    |       |<br />&#13;\n| hiredate | date          | YES  |     | NULL    |       |<br />&#13;\n| sal      | decimal(10,2) | YES  |     | NULL    |       |<br />&#13;\n| deptno   | int(2)        | YES  |     | NULL    |       |<br />&#13;\n+----------+---------------+------+-----+---------+-------+<br />&#13;\n4 rows in set (0.01 sec)</strong><br />&#13;\n发现表结构已经改变</span></li></ul>&#13;\n</li></ul>&#13;\n</li></ol>&#13;\n<ul>&#13;\n<li style="list-style:none; display:inline">&#13;\n<ul>&#13;\n<li>增加表字段</li></ul>&#13;\n</li></ul>&#13;\n<ol start="9">&#13;\n<li style="list-style:none; display:inline">&#13;\n<ul>&#13;\n<li style="list-style:none; display:inline">&#13;\n<ul>&#13;\n<li>ALTER TABLE tablename ADD [COLUMN] column_definition [FIRST | AFTER col_name]</li><li>表 emp 上新增加字段 age，类型为 int(3)，同时我们可以使用FIRST | AFTER 控制列的插入位置，FIRST为插入到最前面，默认为最后一行：</li></ul>&#13;\n</li></ul>&#13;\n</li></ol>&#13;\n<div style="margin-left:120px"><strong>mysql&gt; alter table emp add column age int(3)  after deptno;</strong></div>&#13;\n<div style="margin-left:120px"><strong>Query OK, 0 rows affected (0.07 sec)</strong></div>&#13;\n<div style="margin-left:120px"><strong>Records: 0  Duplicates: 0  Warnings: 0</strong></div>&#13;\n<div style="margin-left:120px"><strong>mysql&gt; desc emp;</strong></div>&#13;\n<div style="margin-left:120px"><strong>+----------+---------------+------+-----+---------+-------+</strong></div>&#13;\n<div style="margin-left:120px"><strong>| Field    | Type          | Null | Key | Default | Extra |</strong></div>&#13;\n<div style="margin-left:120px"><strong>+----------+---------------+------+-----+---------+-------+</strong></div>&#13;\n<div style="margin-left:120px"><strong>| ename    | varchar(20)   | YES  |     | NULL    |       |</strong></div>&#13;\n<div style="margin-left:120px"><strong>| hiredate | date          | YES  |     | NULL    |       |</strong></div>&#13;\n<div style="margin-left:120px"><strong>| sal      | decimal(10,2) | YES  |     | NULL    |       |</strong></div>&#13;\n<div style="margin-left:120px"><strong>| deptno   | int(2)        | YES  |     | NULL    |       |</strong></div>&#13;\n<div style="margin-left:120px"><strong>| age      | int(3)        | YES  |     | NULL    |       |</strong></div>&#13;\n<div style="margin-left:120px"><strong>+----------+---------------+------+-----+---------+-------+</strong></div>&#13;\n<div style="margin-left:120px"><strong>5 rows in set (0.02 sec)</strong></div>&#13;\n<ol start="9">&#13;\n<li style="list-style:none; display:inline">&#13;\n<ul>&#13;\n<li>删除表字段</li><li style="list-style:none; display:inline">&#13;\n<ul>&#13;\n<li>ALTER TABLE tablename DROP [COLUMN] col_name</li><li>删除刚刚新添加的age属性：</li></ul>&#13;\n</li></ul>&#13;\n</li></ol>&#13;\n<div style="margin-left:120px"><strong>mysql&gt; alter table emp drop column age;</strong></div>&#13;\n<div style="margin-left:120px"><strong>Query OK, 0 rows affected (0.07 sec)</strong></div>&#13;\n<div style="margin-left:120px"><strong>Records: 0  Duplicates: 0  Warnings: 0</strong></div>&#13;\n<div style="margin-left:120px"><strong><br />&#13;\n</strong></div>&#13;\n<div style="margin-left:120px"><strong>mysql&gt; desc emp;</strong></div>&#13;\n<div style="margin-left:120px"><strong>+----------+---------------+------+-----+---------+-------+</strong></div>&#13;\n<div style="margin-left:120px"><strong>| Field    | Type          | Null | Key | Default | Extra |</strong></div>&#13;\n<div style="margin-left:120px"><strong>+----------+---------------+------+-----+---------+-------+</strong></div>&#13;\n<div style="margin-left:120px"><strong>| ename    | varchar(20)   | YES  |     | NULL    |       |</strong></div>&#13;\n<div style="margin-left:120px"><strong>| hiredate | date          | YES  |     | NULL    |       |</strong></div>&#13;\n<div style="margin-left:120px"><strong>| sal      | decimal(10,2) | YES  |     | NULL    |       |</strong></div>&#13;\n<div style="margin-left:120px"><strong>| deptno   | int(2)        | YES  |     | NULL    |       |</strong></div>&#13;\n<div style="margin-left:120px"><strong>+----------+---------------+------+-----+---------+-------+</strong></div>&#13;\n<div style="margin-left:120px"><strong>4 rows in set (0.01 sec)</strong></div>&#13;\n<ol start="9">&#13;\n<li style="list-style:none; display:inline">&#13;\n<ul>&#13;\n<li>字段改名</li><li style="list-style:none; display:inline">&#13;\n<ul>&#13;\n<li>ALTER TABLE tablename CHANGE [COLUMN] old_col_name column_definition</li><li>将 ename改名为 name，同时修改字段类型为 varchar(10)</li></ul>&#13;\n</li></ul>&#13;\n</li></ol>&#13;\n<div style="margin-left:120px"><strong>mysql&gt; alter table emp change ename name varchar(10);</strong></div>&#13;\n<div style="margin-left:120px"><strong>Query OK, 0 rows affected (0.07 sec)</strong></div>&#13;\n<div style="margin-left:120px"><strong>Records: 0  Duplicates: 0  Warnings: 0</strong></div>&#13;\n<div style="margin-left:120px"><strong><br />&#13;\n</strong></div>&#13;\n<div style="margin-left:120px"><strong>mysql&gt; desc emp;</strong></div>&#13;\n<div style="margin-left:120px"><strong>+----------+---------------+------+-----+---------+-------+</strong></div>&#13;\n<div style="margin-left:120px"><strong>| Field    | Type          | Null | Key | Default | Extra |</strong></div>&#13;\n<div style="margin-left:120px"><strong>+----------+---------------+------+-----+---------+-------+</strong></div>&#13;\n<div style="margin-left:120px"><strong>| name     | varchar(10)   | YES  |     | NULL    |       |</strong></div>&#13;\n<div style="margin-left:120px"><strong>| hiredate | date          | YES  |     | NULL    |       |</strong></div>&#13;\n<div style="margin-left:120px"><strong>| sal      | decimal(10,2) | YES  |     | NULL    |       |</strong></div>&#13;\n<div style="margin-left:120px"><strong>| deptno   | int(2)        | YES  |     | NULL    |       |</strong></div>&#13;\n<div style="margin-left:120px"><strong>+----------+---------------+------+-----+---------+-------+</strong></div>&#13;\n<div style="margin-left:120px"><strong>4 rows in set (0.02 sec)</strong></div>&#13;\n<div style="margin-left:80px"><strong><span style="color:#ff00">注意：change 和 modify都可以修改表的定义，不同的是 change 后面需要写两次列名，不方便。 但是 change 的优点是可以修改列名称，modify则不能</span></strong></div>&#13;\n<ol start="9">&#13;\n<li style="list-style:none; display:inline">&#13;\n<ul>&#13;\n<li>修改表名</li><li style="list-style:none; display:inline">&#13;\n<ul>&#13;\n<li>ALTER TABLE tablename RENAME [TO] new_tablename</li><li>将表 emp 改名为 emp1</li></ul>&#13;\n</li></ul>&#13;\n</li></ol>&#13;\n<div style="margin-left:120px"><strong>mysql&gt; alter table emp rename emp1;</strong></div>&#13;\n<div style="margin-left:120px"><strong>Query OK, 0 rows affected (0.01 sec)</strong></div>&#13;\n<div style="margin-left:120px"><strong><br />&#13;\n</strong></div>&#13;\n<div style="margin-left:120px"><strong>mysql&gt; show tables;</strong></div>&#13;\n<div style="margin-left:120px"><strong>+----------------+</strong></div>&#13;\n<div style="margin-left:120px"><strong>| Tables_in_test |</strong></div>&#13;\n<div style="margin-left:120px"><strong>+----------------+</strong></div>&#13;\n<div style="margin-left:120px"><strong>| emp1            |</strong></div>&#13;\n<div style="margin-left:120px"><strong>+----------------+</strong></div>&#13;\n<div style="margin-left:120px"><strong>1 row in set (0.00 sec)</strong></div>&#13;\n<div style="margin-left:120px"><strong><br />&#13;\n</strong></div>&#13;\n<div><strong>                              mysql&gt; alter table emp1 rename to emp;</strong></div>&#13;\n<div style="margin-left:120px"><strong>Query OK, 0 rows affected (0.01 sec)</strong></div>&#13;\n<div style="margin-left:120px"><strong><br />&#13;\n</strong></div>&#13;\n<div style="margin-left:120px"><strong>mysql&gt; show tables;</strong></div>&#13;\n<div style="margin-left:120px"><strong>+----------------+</strong></div>&#13;\n<div style="margin-left:120px"><strong>| Tables_in_test |</strong></div>&#13;\n<div style="margin-left:120px"><strong>+----------------+</strong></div>&#13;\n<div style="margin-left:120px"><strong>| emp            |</strong></div>&#13;\n<div style="margin-left:120px"><strong>+----------------+</strong></div>&#13;\n<div style="margin-left:120px"><strong>1 row in set (0.00 sec)</strong></div>&#13;\n<div style="margin-left:120px"><br />&#13;\n</div>&#13;\n<div style="margin-left:80px"><br />&#13;\n</div>&#13;\n<ol start="10">&#13;\n<li>drop table tablename:删除名为tablename的表：<br />&#13;\n</li></ol>&#13;\n<div>          <strong>mysql&gt; drop table emp;</strong></div>&#13;\n<div><strong>          Query OK, 0 rows affected (0.01 sec)</strong></div>&#13;\n<div><strong><br />&#13;\n</strong></div>&#13;\n &#13;\n
