\n\n<h1 style="font-family:'Helvetica Neue'; font-size:28px">1 目的</h1>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">      本规范的主要目的是希望规范数据库设计与开发，尽量避免由于数据库设计与开发不当而产生的麻烦；同时好的规范，在执行的时候可以培养出好的习惯，好的习惯是软件质量的很好保证。</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<h1 style="font-family:'Helvetica Neue'; font-size:14px">2 适用范围</h1>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">     本规划的适用人员范围包括涉及数据库设计与开发的相关技术人员。</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<h1 style="font-family:'Helvetica Neue'; font-size:14px">3 术语约定</h1>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    本规范采用以下术语描述：</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">★规则：也称为强规范是编程时必须强制遵守的原则</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">★建议：编程时必须加以考虑的原则</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">★说明：对此规则或建议进行必要的解释</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">★示例：对此规则或建议从正、反两个方面给出</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<h1 style="font-family:'Helvetica Neue'; font-size:14px">4 规范及建议</h1>&#13;\n<h2 style="font-family:'Helvetica Neue'; font-size:14px">4.1 书写规范</h2>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.1.1 SQL书写规范</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则1: 数据库代码中，关键字大写，其他内容小写；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例：</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码不符合规范：(关键字未大写)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">select last_name ,job_id</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">from employees;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码符合规范：</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT last_name, job_id</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM employees;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><br />&#13;\n</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则2：程序块应采用缩进风格书写，保证代码可读，风格一致，缩进格数统一为4格；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则3：代码中需要空位时，统一采用英文空格键输入，不允许用TAB键 产生空位；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">说明：不同的编辑器对TAB的空位格数设置不一致，会导致使用TAB键产生空位的代码格式混乱；</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则4：同一条语句占用多行时，每一行的开始应是关键字， 且关键字应和第一行左对齐,如确实不能从关键字分行，则分行处应对其上一行被分行的同类代码的最左边；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例：</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码不符合规范（分行书写时，其余行未和第一行左对齐）</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT last_name,</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">job_id</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM employees;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码也不符合规范（分行时，不是从关键字分行）</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT last_name,</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">job_id FROM employees;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT last_name, job_id</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM employees;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT last_name,</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">       first_name,</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">       job_id</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM employees;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则5：查询数据时，尽量不使用SELECT *，而是给出明确的字段，但该规则不包括SELECT COUNT(*)语 句；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句不符合规范（SELECT操作未给出字段）</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT *</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM employees;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT last_name, first_name</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM employees;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则6：INSERT语句应该给出字段列表；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句不符合规范（INSERT操作未给出字段名称）</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">INSERT INTO employees</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">VALUES</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    'GUO',</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    'DAVID',</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    100</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">INSERT INTO employees</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    last_name,</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    first_name,</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    job_id</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">VALUES</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    'GUO',</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    'DAVID',</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    100</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则7：从表中同一笔记录中获取记录的字段值，须使用一SQL语句得到，不允许分多条SQL语句；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句不符合规范（从同一个表中取出记录，分成两条语句分别扫描）</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">UPDATE employees_new</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SET last_name=</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    SELECT last_name</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    FROM employees</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    WHERE job_id = 100</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">WHERE job_id = 100;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">UPDATE employees_new</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SET first_name =</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    SELECT first_name</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    FROM employees</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    WHERE job_id = 100</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">WHERE job_id = 100;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">UPDATE employees_new</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SET first_name =</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    SELECT last_name</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    FROM employees</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    WHERE job_id = 100</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">last_name =</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    SELECT first_name</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    FROM employees</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    WHERE job_id = 100</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">WHERE job_id = 100;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则8：SQL语句中的逗号后面应增加一个空格，以使得代码清晰；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码不符合规范（逗号后面没有空格）</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT last_name,job_id</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM employees;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码符合规则</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT last_name, job_id</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM employees;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则9：不允许将SQL语句写成一行，再短的SQL也应该在谓词处分行；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码不符合规范(未在谓词部分进行分行)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT last_name, job_id FROM employees WHERE job_id = 1;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT last_name, job_id</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM employees</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">WHERE job_id = 1;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则10：运算符以及比较符左边或者右边只要不是括号，则空一格；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码不符合规范（运算符没有空格）</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT CURRENT_DATE+INTERVAL 1 DAY</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM dual;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SLEECT CURRENT_DATE + (INTERVAL 1 DAY)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM dual;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则11：不同类型的操作符混合使用时，应使用括号明确的表达运算的先后关系；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码不符合规范(运算优先级关系易混淆)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT a*b/c+d*e</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM dual;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT ((a csdn-100.html csdn-101.html csdn-102.html csdn-103.html csdn-104.html csdn-105.html csdn-106.html csdn-107.html csdn-108.html csdn-109.html csdn-10.html csdn-110.html csdn-111.html csdn-112.html csdn-113.html csdn-114.html csdn-115.html csdn-116.html csdn-117.html csdn-118.html csdn-119.html csdn-11.html csdn-120.html csdn-121.html csdn-122.html csdn-123.html csdn-124.html csdn-125.html csdn-126.html csdn-127.html csdn-128.html csdn-129.html csdn-12.html csdn-130.html csdn-131.html csdn-132.html csdn-133.html csdn-134.html csdn-135.html csdn-136.html csdn-137.html csdn-138.html csdn-139.html csdn-13.html csdn-140.html csdn-141.html csdn-142.html csdn-143.html csdn-144.html csdn-145.html csdn-146.html csdn-147.html csdn-148.html csdn-149.html csdn-14.html csdn-150.html csdn-151.html csdn-152.html csdn-153.html csdn-154.html csdn-155.html csdn-156.html csdn-157.html csdn-158.html csdn-159.html csdn-15.html csdn-160.html csdn-161.html csdn-162.html csdn-163.html csdn-164.html csdn-165.html csdn-166.html csdn-167.html csdn-168.html csdn-169.html csdn-16.html csdn-170.html csdn-171.html csdn-172.html csdn-173.html csdn-174.html csdn-175.html csdn-176.html csdn-177.html csdn-178.html csdn-179.html csdn-17.html csdn-180.html csdn-181.html csdn-182.html csdn-183.html csdn-184.html csdn-185.html csdn-186.html csdn-187.html csdn-188.html csdn-189.html csdn-18.html csdn-190.html csdn-191.html csdn-192.html csdn-193.html csdn-194.html csdn-195.html csdn-196.html csdn-197.html csdn-198.html csdn-199.html csdn-19.html csdn-1.html csdn-200.html csdn-201.html csdn-202.html csdn-203.html csdn-204.html csdn-205.html csdn-206.html csdn-207.html csdn-208.html csdn-209.html csdn-20.html csdn-210.html csdn-211.html csdn-212.html csdn-213.html csdn-214.html csdn-215.html csdn-216.html csdn-217.html csdn-218.html csdn-219.html csdn-21.html csdn-220.html csdn-221.html csdn-222.html csdn-223.html csdn-224.html csdn-225.html csdn-226.html csdn-227.html csdn-228.html csdn-229.html csdn-22.html csdn-230.html csdn-231.html csdn-232.html csdn-233.html csdn-234.html csdn-235.html csdn-236.html csdn-237.html csdn-238.html csdn-239.html csdn-23.html csdn-240.html csdn-241.html csdn-242.html csdn-243.html csdn-244.html csdn-245.html csdn-246.html csdn-247.html csdn-248.html csdn-249.html csdn-24.html csdn-250.html csdn-251.html csdn-252.html csdn-253.html csdn-254.html csdn-255.html csdn-256.html csdn-257.html csdn-258.html csdn-259.html csdn-25.html csdn-260.html csdn-261.html csdn-262.html csdn-263.html csdn-264.html csdn-265.html csdn-266.html csdn-267.html csdn-268.html csdn-269.html csdn-26.html csdn-270.html csdn-271.html csdn-272.html csdn-273.html csdn-274.html csdn-275.html csdn-276.html csdn-277.html csdn-278.html csdn-279.html csdn-27.html csdn-280.html csdn-281.html csdn-282.html csdn-283.html csdn-284.html csdn-285.html csdn-286.html csdn-287.html csdn-288.html csdn-289.html csdn-28.html csdn-290.html csdn-291.html csdn-292.html csdn-293.html csdn-294.html csdn-295.html csdn-296.html csdn-297.html csdn-298.html csdn-299.html csdn-29.html csdn-2.html csdn-300.html csdn-301.html csdn-302.html csdn-303.html csdn-304.html csdn-305.html csdn-306.html csdn-307.html csdn-308.html csdn-309.html csdn-30.html csdn-310.html csdn-311.html csdn-312.html csdn-313.html csdn-314.html csdn-315.html csdn-316.html csdn-317.html csdn-318.html csdn-319.html csdn-31.html csdn-320.html csdn-321.html csdn-322.html csdn-323.html csdn-324.html csdn-325.html csdn-326.html csdn-327.html csdn-328.html csdn-329.html csdn-32.html csdn-330.html csdn-331.html csdn-332.html csdn-333.html csdn-334.html csdn-335.html csdn-336.html csdn-337.html csdn-338.html csdn-339.html csdn-33.html csdn-340.html csdn-341.html csdn-342.html csdn-343.html csdn-344.html csdn-345.html csdn-346.html csdn-347.html csdn-348.html csdn-349.html csdn-34.html csdn-350.html csdn-351.html csdn-352.html csdn-353.html csdn-354.html csdn-355.html csdn-356.html csdn-357.html csdn-358.html csdn-359.html csdn-35.html csdn-360.html csdn-361.html csdn-362.html csdn-363.html csdn-364.html csdn-365.html csdn-366.html csdn-367.html csdn-368.html csdn-369.html csdn-36.html csdn-370.html csdn-371.html csdn-372.html csdn-373.html csdn-374.html csdn-375.html csdn-376.html csdn-377.html csdn-378.html csdn-379.html csdn-37.html csdn-380.html csdn-381.html csdn-382.html csdn-383.html csdn-384.html csdn-385.html csdn-386.html csdn-387.html csdn-388.html csdn-389.html csdn-38.html csdn-390.html csdn-391.html csdn-392.html csdn-393.html csdn-394.html csdn-395.html csdn-396.html csdn-397.html csdn-398.html csdn-399.html csdn-39.html csdn-3.html csdn-400.html csdn-401.html csdn-402.html csdn-403.html csdn-404.html csdn-405.html csdn-406.html csdn-407.html csdn-408.html csdn-409.html csdn-40.html csdn-410.html csdn-411.html csdn-412.html csdn-413.html csdn-414.html csdn-415.html csdn-416.html csdn-417.html csdn-418.html csdn-419.html csdn-41.html csdn-420.html csdn-421.html csdn-422.html csdn-423.html csdn-424.html csdn-425.html csdn-426.html csdn-427.html csdn-428.html csdn-429.html csdn-42.html csdn-430.html csdn-431.html csdn-432.html csdn-433.html csdn-434.html csdn-435.html csdn-436.html csdn-437.html csdn-438.html csdn-439.html csdn-43.html csdn-440.html csdn-441.html csdn-442.html csdn-443.html csdn-444.html csdn-445.html csdn-446.html csdn-447.html csdn-448.html csdn-449.html csdn-44.html csdn-450.html csdn-451.html csdn-452.html csdn-453.html csdn-454.html csdn-455.html csdn-456.html csdn-457.html csdn-458.html csdn-459.html csdn-45.html csdn-460.html csdn-461.html csdn-462.html csdn-463.html csdn-464.html csdn-465.html csdn-466.html csdn-467.html csdn-468.html csdn-469.html csdn-46.html csdn-470.html csdn-471.html csdn-472.html csdn-473.html csdn-474.html csdn-475.html csdn-476.html csdn-477.html csdn-478.html csdn-479.html csdn-47.html csdn-480.html csdn-481.html csdn-482.html csdn-483.html csdn-484.html csdn-485.html csdn-486.html csdn-487.html csdn-488.html csdn-489.html csdn-48.html csdn-490.html csdn-491.html csdn-492.html csdn-493.html csdn-494.html csdn-495.html csdn-496.html csdn-497.html csdn-498.html csdn-499.html csdn-49.html csdn-4.html csdn-500.html csdn-501.html csdn-502.html csdn-503.html csdn-504.html csdn-505.html csdn-506.html csdn-507.html csdn-508.html csdn-509.html csdn-50.html csdn-510.html csdn-511.html csdn-512.html csdn-513.html csdn-514.html csdn-515.html csdn-516.html csdn-517.html csdn-518.html csdn-519.html csdn-51.html csdn-520.html csdn-521.html csdn-522.html csdn-523.html csdn-524.html csdn-525.html csdn-526.html csdn-527.html csdn-528.html csdn-529.html csdn-52.html csdn-530.html csdn-531.html csdn-532.html csdn-533.html csdn-534.html csdn-535.html csdn-536.html csdn-537.html csdn-538.html csdn-539.html csdn-53.html csdn-540.html csdn-541.html csdn-542.html csdn-543.html csdn-544.html csdn-545.html csdn-546.html csdn-547.html csdn-548.html csdn-549.html csdn-54.html csdn-550.html csdn-551.html csdn-552.html csdn-553.html csdn-554.html csdn-555.html csdn-556.html csdn-557.html csdn-558.html csdn-559.html csdn-55.html csdn-560.html csdn-561.html csdn-562.html csdn-563.html csdn-564.html csdn-565.html csdn-566.html csdn-567.html csdn-568.html csdn-569.html csdn-56.html csdn-570.html csdn-571.html csdn-572.html csdn-573.html csdn-574.html csdn-575.html csdn-576.html csdn-577.html csdn-578.html csdn-579.html csdn-57.html csdn-580.html csdn-581.html csdn-582.html csdn-583.html csdn-584.html csdn-585.html csdn-586.html csdn-587.html csdn-588.html csdn-589.html csdn-58.html csdn-590.html csdn-591.html csdn-592.html csdn-593.html csdn-594.html csdn-595.html csdn-596.html csdn-597.html csdn-598.html csdn-599.html csdn-59.html csdn-5.html csdn-600.html csdn-601.html csdn-602.html csdn-603.html csdn-604.html csdn-605.html csdn-606.html csdn-607.html csdn-608.html csdn-609.html csdn-60.html csdn-610.html csdn-611.html csdn-612.html csdn-613.html csdn-614.html csdn-615.html csdn-616.html csdn-617.html csdn-618.html csdn-619.html csdn-61.html csdn-620.html csdn-621.html csdn-622.html csdn-623.html csdn-624.html csdn-62.html csdn-63.html csdn-64.html csdn-65.html csdn-66.html csdn-67.html csdn-68.html csdn-69.html csdn-6.html csdn-70.html csdn-71.html csdn-72.html csdn-73.html csdn-74.html csdn-75.html csdn-76.html csdn-77.html csdn-78.html csdn-79.html csdn-7.html csdn-80.html csdn-81.html csdn-82.html csdn-83.html csdn-84.html csdn-85.html csdn-86.html csdn-87.html csdn-88.html csdn-89.html csdn-8.html csdn-90.html csdn-91.html csdn-92.html csdn-93.html csdn-94.html csdn-95.html csdn-96.html csdn-97.html csdn-98.html csdn-99.html csdn-9.html mysql.sh b) / c) + (d csdn-100.html csdn-101.html csdn-102.html csdn-103.html csdn-104.html csdn-105.html csdn-106.html csdn-107.html csdn-108.html csdn-109.html csdn-10.html csdn-110.html csdn-111.html csdn-112.html csdn-113.html csdn-114.html csdn-115.html csdn-116.html csdn-117.html csdn-118.html csdn-119.html csdn-11.html csdn-120.html csdn-121.html csdn-122.html csdn-123.html csdn-124.html csdn-125.html csdn-126.html csdn-127.html csdn-128.html csdn-129.html csdn-12.html csdn-130.html csdn-131.html csdn-132.html csdn-133.html csdn-134.html csdn-135.html csdn-136.html csdn-137.html csdn-138.html csdn-139.html csdn-13.html csdn-140.html csdn-141.html csdn-142.html csdn-143.html csdn-144.html csdn-145.html csdn-146.html csdn-147.html csdn-148.html csdn-149.html csdn-14.html csdn-150.html csdn-151.html csdn-152.html csdn-153.html csdn-154.html csdn-155.html csdn-156.html csdn-157.html csdn-158.html csdn-159.html csdn-15.html csdn-160.html csdn-161.html csdn-162.html csdn-163.html csdn-164.html csdn-165.html csdn-166.html csdn-167.html csdn-168.html csdn-169.html csdn-16.html csdn-170.html csdn-171.html csdn-172.html csdn-173.html csdn-174.html csdn-175.html csdn-176.html csdn-177.html csdn-178.html csdn-179.html csdn-17.html csdn-180.html csdn-181.html csdn-182.html csdn-183.html csdn-184.html csdn-185.html csdn-186.html csdn-187.html csdn-188.html csdn-189.html csdn-18.html csdn-190.html csdn-191.html csdn-192.html csdn-193.html csdn-194.html csdn-195.html csdn-196.html csdn-197.html csdn-198.html csdn-199.html csdn-19.html csdn-1.html csdn-200.html csdn-201.html csdn-202.html csdn-203.html csdn-204.html csdn-205.html csdn-206.html csdn-207.html csdn-208.html csdn-209.html csdn-20.html csdn-210.html csdn-211.html csdn-212.html csdn-213.html csdn-214.html csdn-215.html csdn-216.html csdn-217.html csdn-218.html csdn-219.html csdn-21.html csdn-220.html csdn-221.html csdn-222.html csdn-223.html csdn-224.html csdn-225.html csdn-226.html csdn-227.html csdn-228.html csdn-229.html csdn-22.html csdn-230.html csdn-231.html csdn-232.html csdn-233.html csdn-234.html csdn-235.html csdn-236.html csdn-237.html csdn-238.html csdn-239.html csdn-23.html csdn-240.html csdn-241.html csdn-242.html csdn-243.html csdn-244.html csdn-245.html csdn-246.html csdn-247.html csdn-248.html csdn-249.html csdn-24.html csdn-250.html csdn-251.html csdn-252.html csdn-253.html csdn-254.html csdn-255.html csdn-256.html csdn-257.html csdn-258.html csdn-259.html csdn-25.html csdn-260.html csdn-261.html csdn-262.html csdn-263.html csdn-264.html csdn-265.html csdn-266.html csdn-267.html csdn-268.html csdn-269.html csdn-26.html csdn-270.html csdn-271.html csdn-272.html csdn-273.html csdn-274.html csdn-275.html csdn-276.html csdn-277.html csdn-278.html csdn-279.html csdn-27.html csdn-280.html csdn-281.html csdn-282.html csdn-283.html csdn-284.html csdn-285.html csdn-286.html csdn-287.html csdn-288.html csdn-289.html csdn-28.html csdn-290.html csdn-291.html csdn-292.html csdn-293.html csdn-294.html csdn-295.html csdn-296.html csdn-297.html csdn-298.html csdn-299.html csdn-29.html csdn-2.html csdn-300.html csdn-301.html csdn-302.html csdn-303.html csdn-304.html csdn-305.html csdn-306.html csdn-307.html csdn-308.html csdn-309.html csdn-30.html csdn-310.html csdn-311.html csdn-312.html csdn-313.html csdn-314.html csdn-315.html csdn-316.html csdn-317.html csdn-318.html csdn-319.html csdn-31.html csdn-320.html csdn-321.html csdn-322.html csdn-323.html csdn-324.html csdn-325.html csdn-326.html csdn-327.html csdn-328.html csdn-329.html csdn-32.html csdn-330.html csdn-331.html csdn-332.html csdn-333.html csdn-334.html csdn-335.html csdn-336.html csdn-337.html csdn-338.html csdn-339.html csdn-33.html csdn-340.html csdn-341.html csdn-342.html csdn-343.html csdn-344.html csdn-345.html csdn-346.html csdn-347.html csdn-348.html csdn-349.html csdn-34.html csdn-350.html csdn-351.html csdn-352.html csdn-353.html csdn-354.html csdn-355.html csdn-356.html csdn-357.html csdn-358.html csdn-359.html csdn-35.html csdn-360.html csdn-361.html csdn-362.html csdn-363.html csdn-364.html csdn-365.html csdn-366.html csdn-367.html csdn-368.html csdn-369.html csdn-36.html csdn-370.html csdn-371.html csdn-372.html csdn-373.html csdn-374.html csdn-375.html csdn-376.html csdn-377.html csdn-378.html csdn-379.html csdn-37.html csdn-380.html csdn-381.html csdn-382.html csdn-383.html csdn-384.html csdn-385.html csdn-386.html csdn-387.html csdn-388.html csdn-389.html csdn-38.html csdn-390.html csdn-391.html csdn-392.html csdn-393.html csdn-394.html csdn-395.html csdn-396.html csdn-397.html csdn-398.html csdn-399.html csdn-39.html csdn-3.html csdn-400.html csdn-401.html csdn-402.html csdn-403.html csdn-404.html csdn-405.html csdn-406.html csdn-407.html csdn-408.html csdn-409.html csdn-40.html csdn-410.html csdn-411.html csdn-412.html csdn-413.html csdn-414.html csdn-415.html csdn-416.html csdn-417.html csdn-418.html csdn-419.html csdn-41.html csdn-420.html csdn-421.html csdn-422.html csdn-423.html csdn-424.html csdn-425.html csdn-426.html csdn-427.html csdn-428.html csdn-429.html csdn-42.html csdn-430.html csdn-431.html csdn-432.html csdn-433.html csdn-434.html csdn-435.html csdn-436.html csdn-437.html csdn-438.html csdn-439.html csdn-43.html csdn-440.html csdn-441.html csdn-442.html csdn-443.html csdn-444.html csdn-445.html csdn-446.html csdn-447.html csdn-448.html csdn-449.html csdn-44.html csdn-450.html csdn-451.html csdn-452.html csdn-453.html csdn-454.html csdn-455.html csdn-456.html csdn-457.html csdn-458.html csdn-459.html csdn-45.html csdn-460.html csdn-461.html csdn-462.html csdn-463.html csdn-464.html csdn-465.html csdn-466.html csdn-467.html csdn-468.html csdn-469.html csdn-46.html csdn-470.html csdn-471.html csdn-472.html csdn-473.html csdn-474.html csdn-475.html csdn-476.html csdn-477.html csdn-478.html csdn-479.html csdn-47.html csdn-480.html csdn-481.html csdn-482.html csdn-483.html csdn-484.html csdn-485.html csdn-486.html csdn-487.html csdn-488.html csdn-489.html csdn-48.html csdn-490.html csdn-491.html csdn-492.html csdn-493.html csdn-494.html csdn-495.html csdn-496.html csdn-497.html csdn-498.html csdn-499.html csdn-49.html csdn-4.html csdn-500.html csdn-501.html csdn-502.html csdn-503.html csdn-504.html csdn-505.html csdn-506.html csdn-507.html csdn-508.html csdn-509.html csdn-50.html csdn-510.html csdn-511.html csdn-512.html csdn-513.html csdn-514.html csdn-515.html csdn-516.html csdn-517.html csdn-518.html csdn-519.html csdn-51.html csdn-520.html csdn-521.html csdn-522.html csdn-523.html csdn-524.html csdn-525.html csdn-526.html csdn-527.html csdn-528.html csdn-529.html csdn-52.html csdn-530.html csdn-531.html csdn-532.html csdn-533.html csdn-534.html csdn-535.html csdn-536.html csdn-537.html csdn-538.html csdn-539.html csdn-53.html csdn-540.html csdn-541.html csdn-542.html csdn-543.html csdn-544.html csdn-545.html csdn-546.html csdn-547.html csdn-548.html csdn-549.html csdn-54.html csdn-550.html csdn-551.html csdn-552.html csdn-553.html csdn-554.html csdn-555.html csdn-556.html csdn-557.html csdn-558.html csdn-559.html csdn-55.html csdn-560.html csdn-561.html csdn-562.html csdn-563.html csdn-564.html csdn-565.html csdn-566.html csdn-567.html csdn-568.html csdn-569.html csdn-56.html csdn-570.html csdn-571.html csdn-572.html csdn-573.html csdn-574.html csdn-575.html csdn-576.html csdn-577.html csdn-578.html csdn-579.html csdn-57.html csdn-580.html csdn-581.html csdn-582.html csdn-583.html csdn-584.html csdn-585.html csdn-586.html csdn-587.html csdn-588.html csdn-589.html csdn-58.html csdn-590.html csdn-591.html csdn-592.html csdn-593.html csdn-594.html csdn-595.html csdn-596.html csdn-597.html csdn-598.html csdn-599.html csdn-59.html csdn-5.html csdn-600.html csdn-601.html csdn-602.html csdn-603.html csdn-604.html csdn-605.html csdn-606.html csdn-607.html csdn-608.html csdn-609.html csdn-60.html csdn-610.html csdn-611.html csdn-612.html csdn-613.html csdn-614.html csdn-615.html csdn-616.html csdn-617.html csdn-618.html csdn-619.html csdn-61.html csdn-620.html csdn-621.html csdn-622.html csdn-623.html csdn-624.html csdn-62.html csdn-63.html csdn-64.html csdn-65.html csdn-66.html csdn-67.html csdn-68.html csdn-69.html csdn-6.html csdn-70.html csdn-71.html csdn-72.html csdn-73.html csdn-74.html csdn-75.html csdn-76.html csdn-77.html csdn-78.html csdn-79.html csdn-7.html csdn-80.html csdn-81.html csdn-82.html csdn-83.html csdn-84.html csdn-85.html csdn-86.html csdn-87.html csdn-88.html csdn-89.html csdn-8.html csdn-90.html csdn-91.html csdn-92.html csdn-93.html csdn-94.html csdn-95.html csdn-96.html csdn-97.html csdn-98.html csdn-99.html csdn-9.html mysql.sh e)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM dual;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则12：任何SQL书写单行不得超过120字符（含左边的缩进）；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议1:对于INSERT…VALUES和UPDATE语句，一行写一个字段，每个字段相对于INSERT语句空4格，字段后面紧跟注释（注释语句左对齐），VALUES和INSERT左对齐，左括号和右括号与INSERT、VALUES左 对齐；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例：</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码不符合建议(字段未和INSERT语句空格)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">INSERT INTO sm_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">user_id,   <em>--用户ID，主键</em></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">user_name, <em>--用户名</em></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">login_name <em>--登录名</em></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">VALUES</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">p_user_id,</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">p_user_name,</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">p_login_name</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码符合建议</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">INSERT INTO sm_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    user_id,   <em>--用户ID，主键</em></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    user_name, <em>--用户名</em></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    login_name <em>--登录名</em></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">VALUES</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    p_user_id,</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    p_user_name,</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    p_login_name</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议2:INSERT…SELECT 语句时，应使每行的字段顺序对应，以每行最多不超过4个字段，以方便代码阅读，括号的内容另起一行缩进4格开始书写，关键字单词左对齐，左括号、右括号另起一行与左对齐；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码不符合建议(字段未和括号分行)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">INSERT INTO sm_duty_bak(duty_id, duty_name, created_by, creation_date,</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">last_updated_by, last_update_date, disable_date)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT duty_id, duty_name, created_by, creation_date,</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">last_updated_by, last_update_date, disable_date</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM sm_duty</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">WHERE duty_id=88;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码符合建议</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">INSERT INTO sm_duty_bak</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    duty_id, duty_name, created_by, creation_date,</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    last_updated_by, last_update_date, disable_date</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    duty_id, duty_name, created_by, creation_date,</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    last_updated_by, last_update_date, disable_date</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM sm_duty</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">WHERE duty_id = 88;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">说明：</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">1.SELECT 语句中每行的字段应与INSERT 语句对应。</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">2.INSERT 语句中换行的字段名应缩进并与上一行的第一个字段名对齐。</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">3.SELECT 语句中换行的字段名应缩进并与上一行的第一个字段名对齐。</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong> </strong></p>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.1.2 存储过程书写规范</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则1：不允许将多行语句书写在同一行；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码不符合规范（将两行定义书写在同一行）</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SET v_count = 1; SET v_creation_date = CURRENT_DATE;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SET v_count = 1;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SET v_creation_date = CURRENT_DATE;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则2：相对独立的程序块之间应加空行；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码不符合规范（变量定义和程序段之间无空行）</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SET v_duty_id = 1;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">IF (v_disabled_date &gt;  v_current_date) THEN</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    SELECT duty_name</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    into v_duty_name</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    FROM sm_duty</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    WHERE duty_id = :duty_id;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    …</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">END IF;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SET v_duty_id = 1;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">IF (v_disabled_date &gt;  v_current_date) THEN</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    SELECT duty_name</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    into v_duty_name</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    FROM sm_duty</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    WHERE duty_id = :duty_id;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    …</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">END IF;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则3：当一个SQL 语句中涉及到多个表时，始终使用别名来限定字段名，这使其它人阅读起来更方便，避免了含义模糊的引用，其中能够通过别名清晰地判断出表名；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">说明 ： 别名命名时，尽量避免使用无意义的代号a、b 、c… ， 而应该有意义( 如表mtl_system_items_b 对应别名为msi，po_headers_all 别名对应为pha)。</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句不符合规范(未使用有明确含义的表别名)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT a.wip_entity_name, a.wip_entity_id, a.date_released</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM wip.wip_entities b,</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">wip.wip_discrete_jobs a</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">WHERE b.wip_entity_id = a.wip_entity_id</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">AND a.status_type = 3</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT wdj.we_entity_name, wdj.wip_entity_id, wdj.date_released</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM wip.wip_entities we,</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">           wip.wip_discrete_jobs wdj</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">WHERE we.wip_entity_id = wdj.wip_entity_id</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">AND we.status_type = 3</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则4：确保变量/参数的类型和长度与表数据字段的类型和长度相匹配；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">说明：如果与表数据列宽度不匹配，则当较宽或较大的数据传进来时会产生运行异常。</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码不符合规范(假定表wap_user的字段user_name的定义为VARCHAR(10))</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE PROCEDURE ps_add()</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">BEGIN</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">      DECLARE v_user_name VARCHAR(15); </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">      UPDATE wap_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">      SET user_name = v_user_name</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">      WHERE sky_id = 100;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">END;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE PROCEDURE ps_add()</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">BEGIN</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">      DECLARE v_user_name VARCHAR(10); </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">      UPDATE wap_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">      SET user_name = v_user_name</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">      WHERE sky_id = 100;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">END;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则5：存储过程代码块必须有注释；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议1：减少控制语句的判断次数，比如在ELSE（IF…ELSE） 语句中，尽量将尽快能检测到结果的判断放在前面；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句不符合规范(假定v_count=1的条件大多数情况会满足)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">IF (v_count = 0) THEN</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    NULL;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">ELSEIF (v_count = 1) THEN</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    NULL;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">END IF;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句符合规范(假定v_count=1的条件大多数情况会满足)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">IF (v_count = 1) THEN</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    NULL;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">ELSEIF (v_count = 0) THEN</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    NULL;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">END IF;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议2：尽量避免使用嵌套的IF语句，在这种情况下应使用多个IF语句来判断其可能性；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句不符合规范（使用了嵌套的IF语句来进行判定）</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">IF v_count = 0 THEN</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    IF v_flag = 0 THEN</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">        NULL;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    ELSE</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">        NULL;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    END IF;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">ELSE v_count = 1 THEN</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    IF v_flag = 0 THEN</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">        NULL;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    ELSE</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">        NULL;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    END IF;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">END IF;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">IF (v_count = 0) AND (v_flag = 0) THEN</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    NULL;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">ELSEIF (v_count = 0 ) AND (v_flag = 1) THEN</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    NULL;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">ELSEIF (v_count = 1) AND (v_flag = 0) THEN</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    NULL;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">ELSEIF (v_count = 1) AND (v_flag = 1) THEN</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    NULL;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">END IF;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议3：存储过程、函数、触发器、程序块中定义的变量和输入、输出参数在命名上有所区分；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">说明：</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">用'v_ '开头代表程序块中定义的普通变量。</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">用'p_ '开头代表输入参数变量。</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">用'x_ '开头代表输入输出或输出参数变量。</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">用'cur_'开头代表游标变量。存放游标记录集。</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong> </strong></p>&#13;\n<h2 style="font-family:'Helvetica Neue'; font-size:14px">4.2 对象命名规范</h2>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.2.1 通用规则</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则1：任何数据库对象的命名，不得使用汉字；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句不符合规范(表明和字段名使用了汉字)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE 用户</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    用户名 VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    pass_word VARCHAR(16)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE wap_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    user_name VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    pass_word VARCHAR(16)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则2:库名，表名，字段名不得超过30个字符,用户名不得超过16个字符；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">库名，表名，字段名最多支持64个字符，为了统一规范、易于辨识以及减少传输量，必须不超过30个字符。</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句不符合规范(表命名达到65位长度)（修改）</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE wap_user_tel_number_region_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    user_name VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    pass_word VARCHAR(16)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE wap_user_tel_number_region</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    user_name VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    pass_word VARCHAR(16)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则3：用户对象命名应全部为小写，使用下划线“_”分割；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">说明：由于linux操作系统上的文件名是区分大小写的，所以MySQL表名是区分大小写的。</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句不符合规范(表名应全部为小写)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE Wap_user_tel_number_region</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    user_name VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    pass_word VARCHAR(16)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE wap_user_tel_number_region</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    user_name VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    pass_word VARCHAR(16)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则4：命名应使用富有意义的英文，禁止使用拼音首字母， 一般情况下不建议使用拼音命名；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句不符合规范（表名使用了中文且字段使用了拼音首字母简写）</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE wap_yonghu</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    yhm VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    pass_word VARCHAR(16)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE wap_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    user_name VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    pass_word VARCHAR(16)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则5：命名不得使用数据库保留字；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">说明：使用了数据库保留字，会导致需要访问该对象时，需要代码做特别的转换才能访问</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码不符合规范(假定user为数据库保留字)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE wap_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    USER VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    pass_word VARCHAR(16)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下代码符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE wap_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    user_name VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    pass_word VARCHAR(16)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.2.2 表</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong> </strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则1：同类业务的表，以相同的表示该类业务的英文开头；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">说明：同类业务的表以相同的英文开头，在逻辑上清晰，且可避免维护过程中对该类表的误操作</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句不符合规范(假定表wap_user和表user_login_log都属于wap类业务)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE wap_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    user_name VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    pass_word VARCHAR(16)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE user_login_log</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    user_name VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    login_date DATE</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE wap_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    user_name VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    pass_word VARCHAR(16)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE wap_user_login_log</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    user_name VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    login_date DATE</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">说明：各子系统不用加子系统名称前缀,如POS系统的表不用都加pos_前缀，如果遇到需要同步其他系统的表的表名与本系统的表名相同时，用子系统名称做后缀的形式重命名其他子系统表名，如POS系统需要同步MDM表bill_item_dtl而POS系统也存在这样的表名，则把MDM的表名重新命名为bill_item_dtl_mdm。</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong> </strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则2：同类表，如果按照时间不同建立的表，后缀格式一般情况下应为’_YYYY[MM[DD]]’格式；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句不符合规范（将年份2010简写为10，导致含义模糊）</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE wap_user_login_1004</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    user_name VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    login_date date</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE wap_user_login_1005</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    user_name VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    login_date DATE</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE wap_user_login_201004</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    user_name VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    login_date DATE</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE wap_user_login_201005</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    user_name VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    login_date DATE</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.2.3 字段</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则1：字段命名应具有含义，能反映该字段存储的内容，且字段应增加字段备注；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句不符合规范(假定存储的字段为用户名和密码，如下的字段名毫无意义也没有备注)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE wap_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    col1 VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    col2 VARCHAR(16)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE wap_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    user_name VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    pass_word VARCHAR(16)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句是使用了无意义字段名，但增加了字段说明,不作为推荐方法，但确实字段名无法表述含义时，必须使用该方法；</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE wap_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    col1 VARCHAR(100) comment 'username',</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    pass_word VARCHAR(16) comment 'password'</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则2：同种用途的字段，在所有表中，应保持有同样的字段类型和字段长度，并尽量保持一致的字段命名；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句不符合规范（字段user_name在两个有业务关系的表中字段长度不一致，易导致业务接口冲突）</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE wap_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    user_name VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    pass_word VARCHAR(16)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE wap_user_login_log</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    user_name VARCHAR(80),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    login_date DATE</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE wap_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    user_name VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    pass_word VARCHAR2(16)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABLE wap_user_login_log</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    user_name VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    login_date DATE</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">以下是建议的公共字段名称及类型</p>&#13;\n<div style="font-family:'Helvetica Neue'; font-size:14px">&#13;\n<table>&#13;\n<tbody>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>create_user</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>VARCHAR(32)</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>建档人</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>create_time</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>datetime</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>创建时间</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>update_user</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>VARCHAR(32)</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>更新人</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>update_time</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>datetime</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>更新时间</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>remark</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>VARCHAR(255)</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>备注</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>contact_name</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>VARCHAR(32)</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>联系人</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>tel</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>VARCHAR(20)</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>电话号码</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>mob</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>VARCHAR(20)</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>手机号码</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>address</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>VARCHAR(100)</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>联系地址</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>zip_code</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>VARCHAR(10)</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>邮编</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>identity_card</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>VARCHAR(25)</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>身份证号</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>fax</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>VARCHAR(20)</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>传真</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>email</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>VARCHAR(64)</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>电邮</p>&#13;\n</td>&#13;\n</tr>&#13;\n</tbody>&#13;\n</table>&#13;\n</div>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议1:   字段名建议不要用JAVA关键字来命名，；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.2.4 主键</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则1：涉及到要做分库分表的表用有序UUID做主键，UUID主键类型选择CHAR(32)；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则2：不涉及分库分表的表选用自增长ID做主键，主键类型使用unsigned int或unsigned big int；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则3：主键无特别要求的，字段名统一定义为 id；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.2.4 外键</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则1：外键名应以”fk_”开头,后接表名；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句不符合规范（外键名未以fk_开头）</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">alter table wap_user_login_log</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">add constraint wap_user_login_log_f foreign key(user_name) REFERENCES tb_user_name（user_name）</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">ALTER TABLE wap_user_login_log</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">ADD CONSTRAINT fk_wap_user_login_log FOREIGN KEY(user_name) REFERENCES tb_user_name(user_name)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则2：不同的表的外键，如果引用的是相同表的相同字段，则外键字段名及类型应保持一致；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.2.5 索引</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则1：唯一索引应以”uk_”+”表名_”+”字段名”命名；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句不符合规范（唯一索引未以uk_开头）</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">ALTER TABLE wap_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">ADD UNIQUE wap_user_username_u (username)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> ALTER TABLE wap_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> ADD UNIQUE uk_wap_user_username (username)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则2：普通索引应以”idx_”+”表名_”+“字段名”命名；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句不符合规范（不符合索引命名规范）</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">ALTER TABLE wap_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">ADD INDEX wap_user_user_id_idx (user_id)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">ALTER TABLE wap_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">ADD INDEX idx_wap_user_user_id (user_id)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则3：全文索引索引应以”fullidx_”+”表名_”+“字段名”命名；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.2.6 视图</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则1：视图命名应以“v_”+“表名[_表名[_表名]]”命名，如果表名过多可以用“v_”+“功能描述”来命名；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句不符合规范(视图和表是不可以同名的，如下语句会引起错误且不符合规范)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE VIEW wap_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">AS</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT first_name, last_name, job_id</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM wap_user;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE VIEW v_wap_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">AS</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT first_name, last_name, job_id</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM wap_user;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.2.7 函数</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则1：函数命名以”func_”开头，后接函数的功能；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句不符合规范（未以func_开头）</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE FUNCTION get_money</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">BEGIN</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">……</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">END;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE FUNCTION func_get_money</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">BEGIN</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">……</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">END;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.2.8 存储过程</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则1：存储过程以“proc_”开头，后接功能描述；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句不符合规范(未以proc_开头)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE PROCEDURE update_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">BEGIN</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">……</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">END;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE PROCEDURE proc_update_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">BEGIN</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">……</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">END;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.2.9 触发器</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则1：触发器以“trig_”+表名+“_ins/del/upd”+”_before/after”命名；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句不符合规范(未遵循命名规范)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TRIGGER trigger1</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">AFTER DELETE ON wap_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">BEGIN</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">……</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">END;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TRIGGER trig_wap_user_del_after</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">AFTER DELETE ON wap_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">BEGIN</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">……</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">END;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.2.10 临时表</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则1：临时表以“tmp_”开头，后接功能描述；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句不符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TEMPORARY TABLE tab_tmp1</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">user_name VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">pass_word VARCHAR(16)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TEMPORARY TABLE tmp_wap_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">user_name VARCHAR(100),</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">pass_word VARCHAR(16)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则2：如果是在上线/割接中被重命名的表，命名应是原表名+“_YYYYMMDD”；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句不符合规范(临时表以old结尾，而非日期结尾)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">RENAME TABLE wap_user TO wap_user_old;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">RENAME TABLE wap_user TO wap_user_20100416;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.2.11 用户及数据库名</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则1： 数据库名：retail_前缀+模块名，如POS系统的数据库名为retail_pos,MDM的数据库名为retail_mdm,用户名与数据库名尽量一致；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句符合规范</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">retail_pos    pos系统</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">retail_mps    营促销系统</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">retail_oc      订单中心</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">retail_pms    采购管理系统</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">retail_mdm    mdm</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">retail_gms    货品管理系统</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">retail_fms    财务管理系统</p>&#13;\n<h2 style="font-family:'Helvetica Neue'; font-size:14px">4.3对象设计规范</h2>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.3.1 表设计</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则1：数据库设计文档中，必须包含表数据保留时间；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则2：数据库设计文档中，必须包含表在最大保留时间下的数据量；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则3：数据库设计文档中，必须包含表的读写频率；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则4：和其他表有关联的表，和其他表功能一致的字段类型以及长度，尽量使用相同的列名；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则5: 每个表应设计一个主键；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则6：数据库字符集，表字符集，字段字符集统一选用UTF8字符集，校对规则统一使用大小写敏感的utf8_bin；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则7：表引擎选用INNODB引擎；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则8：必须要有表的注释，用于描述表的功能；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong> </strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议1：对于需要同步到数据仓库的表，原则上必须包含同步频率以及同步机制；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议2：历史表后缀建议用“_hist”;</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong> </strong></p>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.3.2 字段</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则1：字段必须要有注释信息，如果字段的值是有限的（如状态值只有“有效”、“无效”，如性别只有“男”、“女”等）必须在字段注释中对每个值表达的意思进行描述；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则2：定长字符列使用CHAR类型, 不定长字符型使用VARCHAR类型；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则3：日期字段只需要表达年月日的选用DATE类型，需要表达年月日时分秒的字段选用DATETIME类或TIMESTAMP类型，但请注意各自能表达的范围以及TIMESTAMP的时区特性；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">说明：MySQL中的DATETIME对应ORACLE的DATE类型，而MySQL的DATE类型只是ORACLE DATE类型的年月日部分不包括时分秒部分，MySQL TIME类型是ORACLE DATE 类型的时分秒部分，下表是MySQL各时间类型的格式样例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<div style="font-family:'Helvetica Neue'; font-size:14px">&#13;\n<table>&#13;\n<thead>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>Data Type</strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>“Zero” Value</strong></p>&#13;\n</td>&#13;\n</tr>&#13;\n</thead>&#13;\n<tbody>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><a target="_blank" shape="rect" href="http://dev.mysql.com/doc/refman/5.6/en/datetime.html" rel="nofollow">DATE</a></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>'0000-00-00'</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><a target="_blank" shape="rect" href="http://dev.mysql.com/doc/refman/5.6/en/time.html" rel="nofollow">TIME</a></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>'00:00:00'</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><a target="_blank" shape="rect" href="http://dev.mysql.com/doc/refman/5.6/en/datetime.html" rel="nofollow">DATETIME</a></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>'0000-00-00 00:00:00'</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><a target="_blank" shape="rect" href="http://dev.mysql.com/doc/refman/5.6/en/datetime.html" rel="nofollow">TIMESTAMP</a></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>'0000-00-00 00:00:00'</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><a target="_blank" shape="rect" href="http://dev.mysql.com/doc/refman/5.6/en/year.html" rel="nofollow">YEAR</a></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>0000</p>&#13;\n</td>&#13;\n</tr>&#13;\n</tbody>&#13;\n</table>&#13;\n</div>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">     </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">DATETIME与TIMESTAMP类型的区别</p>&#13;\n<div style="font-family:'Helvetica Neue'; font-size:14px">&#13;\n<table>&#13;\n<tbody>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1"> </td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>DATETIME</strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>TIMESTAMP</strong></p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>存储长度</strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>8字节</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>4字节</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>时区支持</strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>不支持</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>支持</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>表达范围</strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>1000-01-01 00:00:00 </p>&#13;\n<p>9999-12-31 23:59:59</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>1970-01-01 00:00:01</p>&#13;\n<p>2038-01-19 03:14:07</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>保存格式</strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>实际格式保存</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>UTC格式</p>&#13;\n</td>&#13;\n</tr>&#13;\n</tbody>&#13;\n</table>&#13;\n</div>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong> </strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则4：ORACLE转MySQL之NUMBER字段类型转换；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">number(M,N)如果N是0则为整形，对应MySQL的整形类型，下面是MySQL的各整形类型的所需字节数及能表达的范围（摘抄至官网5.6）,</p>&#13;\n<div style="font-family:'Helvetica Neue'; font-size:14px">&#13;\n<table>&#13;\n<thead>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>Type</strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>Storage</strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>Minimum Value</strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>Maximum Value</strong></p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong> </strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>(Bytes)</strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>(Signed/Unsigned)</strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>(Signed/Unsigned)</strong></p>&#13;\n</td>&#13;\n</tr>&#13;\n</thead>&#13;\n<tbody>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>TINYINT</strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>1</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>-128</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>127</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong> </strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>0</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>255</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>SMALLINT</strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>2</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>-32768</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>32767</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong> </strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>0</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>65535</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>MEDIUMINT</strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>3</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>-8388608</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>8388607</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong> </strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>0</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>16777215</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>INT</strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>4</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>-2147483648</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>2147483647</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong> </strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>0</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>4294967295</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>BIGINT</strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>8</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>-9223372036854775808</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>9223372036854775807</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong> </strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>0</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>18446744073709551615</p>&#13;\n</td>&#13;\n</tr>&#13;\n</tbody>&#13;\n</table>&#13;\n</div>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如果number(M,N)中N大于0则对应MySQL的decimal类型，如oracle的number(5,2)则MySQL为decimal(5,2),值得注意的是，在超出范围的情况下ORACLE会报错，而MySQL会取它能表示的最大值来替代原来的值，如decimal(5,2)/number(5,2)能表达的范围为 -999.99-999.99 如果要插入1000的数据，oracle会提示超表达范围的错，而MySQL会以999.99来替代</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则5：固定长度的字符串使用CHAR,单字符字段使用CHAR(1)类型；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则6：字段避免使用NULL值，用默认值来替代，修改时间，审核时间等用“0000-00-00 00:00:00”这样的默认值进行替代，备注用‘’的空字符进替代；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则7：不建议使用ENUM,SET类型，用TINYINT替代；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong> </strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议1:   尽量不使用BLOB,TEXT类型，大字段建议单独设计表，通过关联进行查找；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议2:   建议使用UNSIGNED 存储非负数值；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">同样的字节数，存储的数值范围更大</p>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.3.3 索引</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则1:   无特别说明，每个表的索引不得超过5个；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则2:   单字段上的索引不得超过2个；（即一个单字段最多可在上面建立一个单字段索引和一个组合索引包含这个字段）</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则3:   复合索引原则上不得超过3个字段；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则4:   外键列需要创建索引；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong> </strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议1:   频繁出现在where子句里的字段建议建立索引；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议2:   用来和其他表关联的字段建议建立索引；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议3:   索引字段建议有高的选择性和过滤性（count(distinct)/count(*)&gt;0.6）；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议4:   建立索引的时候，建议考虑到SELECT和INSERT,UPDATE,DELETE的平衡；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议5:   一般建议在查询数据量10%以下使用索引；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议6:   WHERE子句的查询条件构成索引字段前导字段；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议7:   选择性更高的字段放在组合字段索引的前导字段；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议8:   如果字段选择性接近，则把频繁查询的字段放在前面；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议9:   进行GROUP BY或者是ORDER BY的字段应在组合字段索引的前导字段；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong><br clear="none" />&#13;\n</strong></p>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.3.6 视图</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则1：视图中不允许出现ORDER BY排序；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则2：基于多表关联的视图，必须在字段名前指定表别名；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong> </strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议1：视图的基础数据尽量从表中获取，尽量不要嵌套视图；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong> </strong></p>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.3.7 存储过程</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则1： 避免将业务逻辑放在存储过程中，那样容易将业务逻辑和DB耦合在一起；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则2： 存储过程，必须有异常捕获代码；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则3： 存储过程中严禁使用GOTO语句进行跳转；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则4： 有循环更新的存储过程，必须进行批量提交，且必须进行事务控制；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">说明：MySQL存储过程中必须用START TRANSACTION 来显示开始一个事务,否则会按默认的每个DML做个一个事务。</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则5： 存储过程中如果使用了游标，则在存储过程正常或者异常退出必须关闭所有打开的游标；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则6： 存储过程中如果有更新，必须在异常捕获代码中做回退操作；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则7： 注释格式如下,存储过程说明放在在COMMENT中，其他用”##”进行注释说明；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE PROCEDURE prc_vendor</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">COMMENT  '说明:同步下发接收; 参数:xxxx; 返回:标志0=成功;’</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">##建立：xxx 2012.07.17</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">## Modify by xxx 2012.08.08 增加供应商状态字段</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">##Modify by xxx 2012.11.10 增加供应商英文名称字段</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">BEGIN</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">...</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">END;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议1：存储过程每次被更新，应在注释中说明更新的内容，更新的日期，以及更新的责任人，并且在更新前保留旧版本代码</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议2：尽量避免在存储过程中使用动态SQL。</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong> </strong></p>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.3.8 函数</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则1： 避免将业务逻辑放在函数中，那样容易将业务逻辑和DB耦合在一起；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则2： 函数中，如果进行了事务处理，必须有异常捕获代码；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则3： 函数中严禁使用GOTO语句进行跳转；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则4： 有循环更新的函数，必须进行批量提交，且必须进行事务控制；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则5： 函数中如果使用了游标，则在函数正常或者异常退出必须关闭所有打开的游标；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则6： 函数中如果对数据进行了更新操作，必须在异常捕获代码中做回退操作；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则7： 注释格式如下</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE FUNCTION func_get_serialno</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">(</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">     p_request     VARCHAR       ###请求编号</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">return VARCHAR</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">COMMENT  ’说明：产生序列号函数，通过serialno_config配置表响应产生序列号; 参数：p_requestid 请求编号 返回：返回需要的序列号‘</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">##建立：xxx 2013.07.02</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">##modified by xxx 2014-6-18 xxx</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">BEGIN</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">...</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">END;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong> </strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议1：函数每次被更新，应在注释中说明更新的内容，更新的日期，以及更新的责任人，并且在更新前保留旧版本代码；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议2：函数尽量只是实现复杂的计算功能，不对数据库进行更新操作；</strong></p>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.3.9 触发器</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规范1：如无必要，不得设计触发器，任何触发器的设计，必须得到DBA批准；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规范2：应用的完整性不应由触发器保证，而是通过代码的事务控制；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议1：有高度一致性依赖的逻辑，触发器应设计为BEFORE而非AFTER方式；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<h2 style="font-family:'Helvetica Neue'; font-size:14px">4.4 开发规范</h2>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.4.1. 基本规范</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong> </strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则1:   避免使用存储过程、触发器、函数等，容易将业务逻辑和DB耦合在一起，并且MySQL的存储过程、触发器、函数中存在一定的BUG；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则2:   禁止进行字段数据类型的隐式转换，所有转换必须进行明确的数据类型转换；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">说明：隐式转换会导致字段上的索引失效， 最为常见的隐式类型转换常见于时间类型与字符串类型之间，建议所有时间类型字段在myBatis中均以时间类型传入，或者以字符串传入然后通过时间函数转换字符串为合法的时间格式 ，如下：    <br clear="none" />&#13;\nSELECT name</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM member</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">WHERE vgmt_create=DATE_FORMATE('2009010101:02:03','%Y-%m-%d %H:%i:%s');  </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则3:   禁止在多表关联的时候，在非索引字段上的关联；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则4:   进行模糊查询时，禁止条件中字符串直接以“%”开头；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则5:   在使用for update子句时一定注意限制条件，避免锁定全表或者不需要被锁定的行记录。如无必要锁定数据则应避免使用for update；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则6:   在进行结果集合并(union或union all)时, 如不需要进行结果去重，则必须使用union all，而不能使用union；且尽量减少进行数据集的去重；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则7:   除非必要，避免使用 != 等非等值操作符，会导致用不到索引；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则8:   禁止在 WHERE 条件中出现的过滤字段上使用任何函数进行类型或格式的转换；正确的做法是把传入的值转换为列类型所需要的；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">错误的写法：   </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT username</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM gl_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">WHERE DATE_FORMAT(gmt_create, %Y%m%d%H%i%s')='20090501022300‘;   </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">正确的写法：   </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT username</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM gl_user</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">WHERE gmt_create=DATE_FORMAT('20090501022300', '%Y-%m-%d %H:%i:s');   </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则9:   禁止使用order by rand();</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">order by rand() 会将数据从磁盘中读取，进行排序，会消耗大量的IO和CPU。</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则10:避免大使用大SQL,可以拆分成多个小SQL来替代；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong> </strong></p>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.4.2. 绑定变量使用规范</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则1： 应用端所有查询的 where 条件中的变量，都需要使用绑定变量来实现，以防SQL注入，同时性能也会更优；   </strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则2： 在 myBatis 的 SqlMap 文件中绑定变量使用 "#{var_name}"表示，替代变量使用"${var_name}"；所有需要动态 Order By 条件的查询，在使用替代变量过程中，需要将可能传入的内容以枚举类写死在代码中，禁止接受任何外部传入内容；对于不变的常量条件，请使用常量而不是变量；   </strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><img src="http://172.17.210.82:8090/download/attachments/5964673/image2014-6-25%2011%3A42%3A43.png?version=1&amp;modificationDate=1403667729000&amp;api=v2" alt="" /></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>规则3： IN子句，使用"Iterate + 数组类型变量"的方式实现绑定变量而不是通过代码拼接 Query 语句;</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">例如：<strong>   </strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><img src="http://172.17.210.82:8090/download/attachments/5964673/image2014-6-25%2011%3A43%3A14.png?version=1&amp;modificationDate=1403667760000&amp;api=v2" alt="" /></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">    myBatis会生成user_level in (1,2,3,4,5 ...)的语句      </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.4.3. 分页规范</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">假如有类似下面分页语句：</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT csdn-100.html csdn-101.html csdn-102.html csdn-103.html csdn-104.html csdn-105.html csdn-106.html csdn-107.html csdn-108.html csdn-109.html csdn-10.html csdn-110.html csdn-111.html csdn-112.html csdn-113.html csdn-114.html csdn-115.html csdn-116.html csdn-117.html csdn-118.html csdn-119.html csdn-11.html csdn-120.html csdn-121.html csdn-122.html csdn-123.html csdn-124.html csdn-125.html csdn-126.html csdn-127.html csdn-128.html csdn-129.html csdn-12.html csdn-130.html csdn-131.html csdn-132.html csdn-133.html csdn-134.html csdn-135.html csdn-136.html csdn-137.html csdn-138.html csdn-139.html csdn-13.html csdn-140.html csdn-141.html csdn-142.html csdn-143.html csdn-144.html csdn-145.html csdn-146.html csdn-147.html csdn-148.html csdn-149.html csdn-14.html csdn-150.html csdn-151.html csdn-152.html csdn-153.html csdn-154.html csdn-155.html csdn-156.html csdn-157.html csdn-158.html csdn-159.html csdn-15.html csdn-160.html csdn-161.html csdn-162.html csdn-163.html csdn-164.html csdn-165.html csdn-166.html csdn-167.html csdn-168.html csdn-169.html csdn-16.html csdn-170.html csdn-171.html csdn-172.html csdn-173.html csdn-174.html csdn-175.html csdn-176.html csdn-177.html csdn-178.html csdn-179.html csdn-17.html csdn-180.html csdn-181.html csdn-182.html csdn-183.html csdn-184.html csdn-185.html csdn-186.html csdn-187.html csdn-188.html csdn-189.html csdn-18.html csdn-190.html csdn-191.html csdn-192.html csdn-193.html csdn-194.html csdn-195.html csdn-196.html csdn-197.html csdn-198.html csdn-199.html csdn-19.html csdn-1.html csdn-200.html csdn-201.html csdn-202.html csdn-203.html csdn-204.html csdn-205.html csdn-206.html csdn-207.html csdn-208.html csdn-209.html csdn-20.html csdn-210.html csdn-211.html csdn-212.html csdn-213.html csdn-214.html csdn-215.html csdn-216.html csdn-217.html csdn-218.html csdn-219.html csdn-21.html csdn-220.html csdn-221.html csdn-222.html csdn-223.html csdn-224.html csdn-225.html csdn-226.html csdn-227.html csdn-228.html csdn-229.html csdn-22.html csdn-230.html csdn-231.html csdn-232.html csdn-233.html csdn-234.html csdn-235.html csdn-236.html csdn-237.html csdn-238.html csdn-239.html csdn-23.html csdn-240.html csdn-241.html csdn-242.html csdn-243.html csdn-244.html csdn-245.html csdn-246.html csdn-247.html csdn-248.html csdn-249.html csdn-24.html csdn-250.html csdn-251.html csdn-252.html csdn-253.html csdn-254.html csdn-255.html csdn-256.html csdn-257.html csdn-258.html csdn-259.html csdn-25.html csdn-260.html csdn-261.html csdn-262.html csdn-263.html csdn-264.html csdn-265.html csdn-266.html csdn-267.html csdn-268.html csdn-269.html csdn-26.html csdn-270.html csdn-271.html csdn-272.html csdn-273.html csdn-274.html csdn-275.html csdn-276.html csdn-277.html csdn-278.html csdn-279.html csdn-27.html csdn-280.html csdn-281.html csdn-282.html csdn-283.html csdn-284.html csdn-285.html csdn-286.html csdn-287.html csdn-288.html csdn-289.html csdn-28.html csdn-290.html csdn-291.html csdn-292.html csdn-293.html csdn-294.html csdn-295.html csdn-296.html csdn-297.html csdn-298.html csdn-299.html csdn-29.html csdn-2.html csdn-300.html csdn-301.html csdn-302.html csdn-303.html csdn-304.html csdn-305.html csdn-306.html csdn-307.html csdn-308.html csdn-309.html csdn-30.html csdn-310.html csdn-311.html csdn-312.html csdn-313.html csdn-314.html csdn-315.html csdn-316.html csdn-317.html csdn-318.html csdn-319.html csdn-31.html csdn-320.html csdn-321.html csdn-322.html csdn-323.html csdn-324.html csdn-325.html csdn-326.html csdn-327.html csdn-328.html csdn-329.html csdn-32.html csdn-330.html csdn-331.html csdn-332.html csdn-333.html csdn-334.html csdn-335.html csdn-336.html csdn-337.html csdn-338.html csdn-339.html csdn-33.html csdn-340.html csdn-341.html csdn-342.html csdn-343.html csdn-344.html csdn-345.html csdn-346.html csdn-347.html csdn-348.html csdn-349.html csdn-34.html csdn-350.html csdn-351.html csdn-352.html csdn-353.html csdn-354.html csdn-355.html csdn-356.html csdn-357.html csdn-358.html csdn-359.html csdn-35.html csdn-360.html csdn-361.html csdn-362.html csdn-363.html csdn-364.html csdn-365.html csdn-366.html csdn-367.html csdn-368.html csdn-369.html csdn-36.html csdn-370.html csdn-371.html csdn-372.html csdn-373.html csdn-374.html csdn-375.html csdn-376.html csdn-377.html csdn-378.html csdn-379.html csdn-37.html csdn-380.html csdn-381.html csdn-382.html csdn-383.html csdn-384.html csdn-385.html csdn-386.html csdn-387.html csdn-388.html csdn-389.html csdn-38.html csdn-390.html csdn-391.html csdn-392.html csdn-393.html csdn-394.html csdn-395.html csdn-396.html csdn-397.html csdn-398.html csdn-399.html csdn-39.html csdn-3.html csdn-400.html csdn-401.html csdn-402.html csdn-403.html csdn-404.html csdn-405.html csdn-406.html csdn-407.html csdn-408.html csdn-409.html csdn-40.html csdn-410.html csdn-411.html csdn-412.html csdn-413.html csdn-414.html csdn-415.html csdn-416.html csdn-417.html csdn-418.html csdn-419.html csdn-41.html csdn-420.html csdn-421.html csdn-422.html csdn-423.html csdn-424.html csdn-425.html csdn-426.html csdn-427.html csdn-428.html csdn-429.html csdn-42.html csdn-430.html csdn-431.html csdn-432.html csdn-433.html csdn-434.html csdn-435.html csdn-436.html csdn-437.html csdn-438.html csdn-439.html csdn-43.html csdn-440.html csdn-441.html csdn-442.html csdn-443.html csdn-444.html csdn-445.html csdn-446.html csdn-447.html csdn-448.html csdn-449.html csdn-44.html csdn-450.html csdn-451.html csdn-452.html csdn-453.html csdn-454.html csdn-455.html csdn-456.html csdn-457.html csdn-458.html csdn-459.html csdn-45.html csdn-460.html csdn-461.html csdn-462.html csdn-463.html csdn-464.html csdn-465.html csdn-466.html csdn-467.html csdn-468.html csdn-469.html csdn-46.html csdn-470.html csdn-471.html csdn-472.html csdn-473.html csdn-474.html csdn-475.html csdn-476.html csdn-477.html csdn-478.html csdn-479.html csdn-47.html csdn-480.html csdn-481.html csdn-482.html csdn-483.html csdn-484.html csdn-485.html csdn-486.html csdn-487.html csdn-488.html csdn-489.html csdn-48.html csdn-490.html csdn-491.html csdn-492.html csdn-493.html csdn-494.html csdn-495.html csdn-496.html csdn-497.html csdn-498.html csdn-499.html csdn-49.html csdn-4.html csdn-500.html csdn-501.html csdn-502.html csdn-503.html csdn-504.html csdn-505.html csdn-506.html csdn-507.html csdn-508.html csdn-509.html csdn-50.html csdn-510.html csdn-511.html csdn-512.html csdn-513.html csdn-514.html csdn-515.html csdn-516.html csdn-517.html csdn-518.html csdn-519.html csdn-51.html csdn-520.html csdn-521.html csdn-522.html csdn-523.html csdn-524.html csdn-525.html csdn-526.html csdn-527.html csdn-528.html csdn-529.html csdn-52.html csdn-530.html csdn-531.html csdn-532.html csdn-533.html csdn-534.html csdn-535.html csdn-536.html csdn-537.html csdn-538.html csdn-539.html csdn-53.html csdn-540.html csdn-541.html csdn-542.html csdn-543.html csdn-544.html csdn-545.html csdn-546.html csdn-547.html csdn-548.html csdn-549.html csdn-54.html csdn-550.html csdn-551.html csdn-552.html csdn-553.html csdn-554.html csdn-555.html csdn-556.html csdn-557.html csdn-558.html csdn-559.html csdn-55.html csdn-560.html csdn-561.html csdn-562.html csdn-563.html csdn-564.html csdn-565.html csdn-566.html csdn-567.html csdn-568.html csdn-569.html csdn-56.html csdn-570.html csdn-571.html csdn-572.html csdn-573.html csdn-574.html csdn-575.html csdn-576.html csdn-577.html csdn-578.html csdn-579.html csdn-57.html csdn-580.html csdn-581.html csdn-582.html csdn-583.html csdn-584.html csdn-585.html csdn-586.html csdn-587.html csdn-588.html csdn-589.html csdn-58.html csdn-590.html csdn-591.html csdn-592.html csdn-593.html csdn-594.html csdn-595.html csdn-596.html csdn-597.html csdn-598.html csdn-599.html csdn-59.html csdn-5.html csdn-600.html csdn-601.html csdn-602.html csdn-603.html csdn-604.html csdn-605.html csdn-606.html csdn-607.html csdn-608.html csdn-609.html csdn-60.html csdn-610.html csdn-611.html csdn-612.html csdn-613.html csdn-614.html csdn-615.html csdn-616.html csdn-617.html csdn-618.html csdn-619.html csdn-61.html csdn-620.html csdn-621.html csdn-622.html csdn-623.html csdn-624.html csdn-62.html csdn-63.html csdn-64.html csdn-65.html csdn-66.html csdn-67.html csdn-68.html csdn-69.html csdn-6.html csdn-70.html csdn-71.html csdn-72.html csdn-73.html csdn-74.html csdn-75.html csdn-76.html csdn-77.html csdn-78.html csdn-79.html csdn-7.html csdn-80.html csdn-81.html csdn-82.html csdn-83.html csdn-84.html csdn-85.html csdn-86.html csdn-87.html csdn-88.html csdn-89.html csdn-8.html csdn-90.html csdn-91.html csdn-92.html csdn-93.html csdn-94.html csdn-95.html csdn-96.html csdn-97.html csdn-98.html csdn-99.html csdn-9.html mysql.sh FROM table ORDER BY create_time DESC LIMIT 10000,10;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">这种分页方式会导致大量的IO,因为MySQL使用的是提前读取策略。</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">推荐分页方式：</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT csdn-100.html csdn-101.html csdn-102.html csdn-103.html csdn-104.html csdn-105.html csdn-106.html csdn-107.html csdn-108.html csdn-109.html csdn-10.html csdn-110.html csdn-111.html csdn-112.html csdn-113.html csdn-114.html csdn-115.html csdn-116.html csdn-117.html csdn-118.html csdn-119.html csdn-11.html csdn-120.html csdn-121.html csdn-122.html csdn-123.html csdn-124.html csdn-125.html csdn-126.html csdn-127.html csdn-128.html csdn-129.html csdn-12.html csdn-130.html csdn-131.html csdn-132.html csdn-133.html csdn-134.html csdn-135.html csdn-136.html csdn-137.html csdn-138.html csdn-139.html csdn-13.html csdn-140.html csdn-141.html csdn-142.html csdn-143.html csdn-144.html csdn-145.html csdn-146.html csdn-147.html csdn-148.html csdn-149.html csdn-14.html csdn-150.html csdn-151.html csdn-152.html csdn-153.html csdn-154.html csdn-155.html csdn-156.html csdn-157.html csdn-158.html csdn-159.html csdn-15.html csdn-160.html csdn-161.html csdn-162.html csdn-163.html csdn-164.html csdn-165.html csdn-166.html csdn-167.html csdn-168.html csdn-169.html csdn-16.html csdn-170.html csdn-171.html csdn-172.html csdn-173.html csdn-174.html csdn-175.html csdn-176.html csdn-177.html csdn-178.html csdn-179.html csdn-17.html csdn-180.html csdn-181.html csdn-182.html csdn-183.html csdn-184.html csdn-185.html csdn-186.html csdn-187.html csdn-188.html csdn-189.html csdn-18.html csdn-190.html csdn-191.html csdn-192.html csdn-193.html csdn-194.html csdn-195.html csdn-196.html csdn-197.html csdn-198.html csdn-199.html csdn-19.html csdn-1.html csdn-200.html csdn-201.html csdn-202.html csdn-203.html csdn-204.html csdn-205.html csdn-206.html csdn-207.html csdn-208.html csdn-209.html csdn-20.html csdn-210.html csdn-211.html csdn-212.html csdn-213.html csdn-214.html csdn-215.html csdn-216.html csdn-217.html csdn-218.html csdn-219.html csdn-21.html csdn-220.html csdn-221.html csdn-222.html csdn-223.html csdn-224.html csdn-225.html csdn-226.html csdn-227.html csdn-228.html csdn-229.html csdn-22.html csdn-230.html csdn-231.html csdn-232.html csdn-233.html csdn-234.html csdn-235.html csdn-236.html csdn-237.html csdn-238.html csdn-239.html csdn-23.html csdn-240.html csdn-241.html csdn-242.html csdn-243.html csdn-244.html csdn-245.html csdn-246.html csdn-247.html csdn-248.html csdn-249.html csdn-24.html csdn-250.html csdn-251.html csdn-252.html csdn-253.html csdn-254.html csdn-255.html csdn-256.html csdn-257.html csdn-258.html csdn-259.html csdn-25.html csdn-260.html csdn-261.html csdn-262.html csdn-263.html csdn-264.html csdn-265.html csdn-266.html csdn-267.html csdn-268.html csdn-269.html csdn-26.html csdn-270.html csdn-271.html csdn-272.html csdn-273.html csdn-274.html csdn-275.html csdn-276.html csdn-277.html csdn-278.html csdn-279.html csdn-27.html csdn-280.html csdn-281.html csdn-282.html csdn-283.html csdn-284.html csdn-285.html csdn-286.html csdn-287.html csdn-288.html csdn-289.html csdn-28.html csdn-290.html csdn-291.html csdn-292.html csdn-293.html csdn-294.html csdn-295.html csdn-296.html csdn-297.html csdn-298.html csdn-299.html csdn-29.html csdn-2.html csdn-300.html csdn-301.html csdn-302.html csdn-303.html csdn-304.html csdn-305.html csdn-306.html csdn-307.html csdn-308.html csdn-309.html csdn-30.html csdn-310.html csdn-311.html csdn-312.html csdn-313.html csdn-314.html csdn-315.html csdn-316.html csdn-317.html csdn-318.html csdn-319.html csdn-31.html csdn-320.html csdn-321.html csdn-322.html csdn-323.html csdn-324.html csdn-325.html csdn-326.html csdn-327.html csdn-328.html csdn-329.html csdn-32.html csdn-330.html csdn-331.html csdn-332.html csdn-333.html csdn-334.html csdn-335.html csdn-336.html csdn-337.html csdn-338.html csdn-339.html csdn-33.html csdn-340.html csdn-341.html csdn-342.html csdn-343.html csdn-344.html csdn-345.html csdn-346.html csdn-347.html csdn-348.html csdn-349.html csdn-34.html csdn-350.html csdn-351.html csdn-352.html csdn-353.html csdn-354.html csdn-355.html csdn-356.html csdn-357.html csdn-358.html csdn-359.html csdn-35.html csdn-360.html csdn-361.html csdn-362.html csdn-363.html csdn-364.html csdn-365.html csdn-366.html csdn-367.html csdn-368.html csdn-369.html csdn-36.html csdn-370.html csdn-371.html csdn-372.html csdn-373.html csdn-374.html csdn-375.html csdn-376.html csdn-377.html csdn-378.html csdn-379.html csdn-37.html csdn-380.html csdn-381.html csdn-382.html csdn-383.html csdn-384.html csdn-385.html csdn-386.html csdn-387.html csdn-388.html csdn-389.html csdn-38.html csdn-390.html csdn-391.html csdn-392.html csdn-393.html csdn-394.html csdn-395.html csdn-396.html csdn-397.html csdn-398.html csdn-399.html csdn-39.html csdn-3.html csdn-400.html csdn-401.html csdn-402.html csdn-403.html csdn-404.html csdn-405.html csdn-406.html csdn-407.html csdn-408.html csdn-409.html csdn-40.html csdn-410.html csdn-411.html csdn-412.html csdn-413.html csdn-414.html csdn-415.html csdn-416.html csdn-417.html csdn-418.html csdn-419.html csdn-41.html csdn-420.html csdn-421.html csdn-422.html csdn-423.html csdn-424.html csdn-425.html csdn-426.html csdn-427.html csdn-428.html csdn-429.html csdn-42.html csdn-430.html csdn-431.html csdn-432.html csdn-433.html csdn-434.html csdn-435.html csdn-436.html csdn-437.html csdn-438.html csdn-439.html csdn-43.html csdn-440.html csdn-441.html csdn-442.html csdn-443.html csdn-444.html csdn-445.html csdn-446.html csdn-447.html csdn-448.html csdn-449.html csdn-44.html csdn-450.html csdn-451.html csdn-452.html csdn-453.html csdn-454.html csdn-455.html csdn-456.html csdn-457.html csdn-458.html csdn-459.html csdn-45.html csdn-460.html csdn-461.html csdn-462.html csdn-463.html csdn-464.html csdn-465.html csdn-466.html csdn-467.html csdn-468.html csdn-469.html csdn-46.html csdn-470.html csdn-471.html csdn-472.html csdn-473.html csdn-474.html csdn-475.html csdn-476.html csdn-477.html csdn-478.html csdn-479.html csdn-47.html csdn-480.html csdn-481.html csdn-482.html csdn-483.html csdn-484.html csdn-485.html csdn-486.html csdn-487.html csdn-488.html csdn-489.html csdn-48.html csdn-490.html csdn-491.html csdn-492.html csdn-493.html csdn-494.html csdn-495.html csdn-496.html csdn-497.html csdn-498.html csdn-499.html csdn-49.html csdn-4.html csdn-500.html csdn-501.html csdn-502.html csdn-503.html csdn-504.html csdn-505.html csdn-506.html csdn-507.html csdn-508.html csdn-509.html csdn-50.html csdn-510.html csdn-511.html csdn-512.html csdn-513.html csdn-514.html csdn-515.html csdn-516.html csdn-517.html csdn-518.html csdn-519.html csdn-51.html csdn-520.html csdn-521.html csdn-522.html csdn-523.html csdn-524.html csdn-525.html csdn-526.html csdn-527.html csdn-528.html csdn-529.html csdn-52.html csdn-530.html csdn-531.html csdn-532.html csdn-533.html csdn-534.html csdn-535.html csdn-536.html csdn-537.html csdn-538.html csdn-539.html csdn-53.html csdn-540.html csdn-541.html csdn-542.html csdn-543.html csdn-544.html csdn-545.html csdn-546.html csdn-547.html csdn-548.html csdn-549.html csdn-54.html csdn-550.html csdn-551.html csdn-552.html csdn-553.html csdn-554.html csdn-555.html csdn-556.html csdn-557.html csdn-558.html csdn-559.html csdn-55.html csdn-560.html csdn-561.html csdn-562.html csdn-563.html csdn-564.html csdn-565.html csdn-566.html csdn-567.html csdn-568.html csdn-569.html csdn-56.html csdn-570.html csdn-571.html csdn-572.html csdn-573.html csdn-574.html csdn-575.html csdn-576.html csdn-577.html csdn-578.html csdn-579.html csdn-57.html csdn-580.html csdn-581.html csdn-582.html csdn-583.html csdn-584.html csdn-585.html csdn-586.html csdn-587.html csdn-588.html csdn-589.html csdn-58.html csdn-590.html csdn-591.html csdn-592.html csdn-593.html csdn-594.html csdn-595.html csdn-596.html csdn-597.html csdn-598.html csdn-599.html csdn-59.html csdn-5.html csdn-600.html csdn-601.html csdn-602.html csdn-603.html csdn-604.html csdn-605.html csdn-606.html csdn-607.html csdn-608.html csdn-609.html csdn-60.html csdn-610.html csdn-611.html csdn-612.html csdn-613.html csdn-614.html csdn-615.html csdn-616.html csdn-617.html csdn-618.html csdn-619.html csdn-61.html csdn-620.html csdn-621.html csdn-622.html csdn-623.html csdn-624.html csdn-62.html csdn-63.html csdn-64.html csdn-65.html csdn-66.html csdn-67.html csdn-68.html csdn-69.html csdn-6.html csdn-70.html csdn-71.html csdn-72.html csdn-73.html csdn-74.html csdn-75.html csdn-76.html csdn-77.html csdn-78.html csdn-79.html csdn-7.html csdn-80.html csdn-81.html csdn-82.html csdn-83.html csdn-84.html csdn-85.html csdn-86.html csdn-87.html csdn-88.html csdn-89.html csdn-8.html csdn-90.html csdn-91.html csdn-92.html csdn-93.html csdn-94.html csdn-95.html csdn-96.html csdn-97.html csdn-98.html csdn-99.html csdn-9.html mysql.sh FROM table WEHRE create_time &lt; last_time ORDER BY create_time DESC LIMIT 10;</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT csdn-100.html csdn-101.html csdn-102.html csdn-103.html csdn-104.html csdn-105.html csdn-106.html csdn-107.html csdn-108.html csdn-109.html csdn-10.html csdn-110.html csdn-111.html csdn-112.html csdn-113.html csdn-114.html csdn-115.html csdn-116.html csdn-117.html csdn-118.html csdn-119.html csdn-11.html csdn-120.html csdn-121.html csdn-122.html csdn-123.html csdn-124.html csdn-125.html csdn-126.html csdn-127.html csdn-128.html csdn-129.html csdn-12.html csdn-130.html csdn-131.html csdn-132.html csdn-133.html csdn-134.html csdn-135.html csdn-136.html csdn-137.html csdn-138.html csdn-139.html csdn-13.html csdn-140.html csdn-141.html csdn-142.html csdn-143.html csdn-144.html csdn-145.html csdn-146.html csdn-147.html csdn-148.html csdn-149.html csdn-14.html csdn-150.html csdn-151.html csdn-152.html csdn-153.html csdn-154.html csdn-155.html csdn-156.html csdn-157.html csdn-158.html csdn-159.html csdn-15.html csdn-160.html csdn-161.html csdn-162.html csdn-163.html csdn-164.html csdn-165.html csdn-166.html csdn-167.html csdn-168.html csdn-169.html csdn-16.html csdn-170.html csdn-171.html csdn-172.html csdn-173.html csdn-174.html csdn-175.html csdn-176.html csdn-177.html csdn-178.html csdn-179.html csdn-17.html csdn-180.html csdn-181.html csdn-182.html csdn-183.html csdn-184.html csdn-185.html csdn-186.html csdn-187.html csdn-188.html csdn-189.html csdn-18.html csdn-190.html csdn-191.html csdn-192.html csdn-193.html csdn-194.html csdn-195.html csdn-196.html csdn-197.html csdn-198.html csdn-199.html csdn-19.html csdn-1.html csdn-200.html csdn-201.html csdn-202.html csdn-203.html csdn-204.html csdn-205.html csdn-206.html csdn-207.html csdn-208.html csdn-209.html csdn-20.html csdn-210.html csdn-211.html csdn-212.html csdn-213.html csdn-214.html csdn-215.html csdn-216.html csdn-217.html csdn-218.html csdn-219.html csdn-21.html csdn-220.html csdn-221.html csdn-222.html csdn-223.html csdn-224.html csdn-225.html csdn-226.html csdn-227.html csdn-228.html csdn-229.html csdn-22.html csdn-230.html csdn-231.html csdn-232.html csdn-233.html csdn-234.html csdn-235.html csdn-236.html csdn-237.html csdn-238.html csdn-239.html csdn-23.html csdn-240.html csdn-241.html csdn-242.html csdn-243.html csdn-244.html csdn-245.html csdn-246.html csdn-247.html csdn-248.html csdn-249.html csdn-24.html csdn-250.html csdn-251.html csdn-252.html csdn-253.html csdn-254.html csdn-255.html csdn-256.html csdn-257.html csdn-258.html csdn-259.html csdn-25.html csdn-260.html csdn-261.html csdn-262.html csdn-263.html csdn-264.html csdn-265.html csdn-266.html csdn-267.html csdn-268.html csdn-269.html csdn-26.html csdn-270.html csdn-271.html csdn-272.html csdn-273.html csdn-274.html csdn-275.html csdn-276.html csdn-277.html csdn-278.html csdn-279.html csdn-27.html csdn-280.html csdn-281.html csdn-282.html csdn-283.html csdn-284.html csdn-285.html csdn-286.html csdn-287.html csdn-288.html csdn-289.html csdn-28.html csdn-290.html csdn-291.html csdn-292.html csdn-293.html csdn-294.html csdn-295.html csdn-296.html csdn-297.html csdn-298.html csdn-299.html csdn-29.html csdn-2.html csdn-300.html csdn-301.html csdn-302.html csdn-303.html csdn-304.html csdn-305.html csdn-306.html csdn-307.html csdn-308.html csdn-309.html csdn-30.html csdn-310.html csdn-311.html csdn-312.html csdn-313.html csdn-314.html csdn-315.html csdn-316.html csdn-317.html csdn-318.html csdn-319.html csdn-31.html csdn-320.html csdn-321.html csdn-322.html csdn-323.html csdn-324.html csdn-325.html csdn-326.html csdn-327.html csdn-328.html csdn-329.html csdn-32.html csdn-330.html csdn-331.html csdn-332.html csdn-333.html csdn-334.html csdn-335.html csdn-336.html csdn-337.html csdn-338.html csdn-339.html csdn-33.html csdn-340.html csdn-341.html csdn-342.html csdn-343.html csdn-344.html csdn-345.html csdn-346.html csdn-347.html csdn-348.html csdn-349.html csdn-34.html csdn-350.html csdn-351.html csdn-352.html csdn-353.html csdn-354.html csdn-355.html csdn-356.html csdn-357.html csdn-358.html csdn-359.html csdn-35.html csdn-360.html csdn-361.html csdn-362.html csdn-363.html csdn-364.html csdn-365.html csdn-366.html csdn-367.html csdn-368.html csdn-369.html csdn-36.html csdn-370.html csdn-371.html csdn-372.html csdn-373.html csdn-374.html csdn-375.html csdn-376.html csdn-377.html csdn-378.html csdn-379.html csdn-37.html csdn-380.html csdn-381.html csdn-382.html csdn-383.html csdn-384.html csdn-385.html csdn-386.html csdn-387.html csdn-388.html csdn-389.html csdn-38.html csdn-390.html csdn-391.html csdn-392.html csdn-393.html csdn-394.html csdn-395.html csdn-396.html csdn-397.html csdn-398.html csdn-399.html csdn-39.html csdn-3.html csdn-400.html csdn-401.html csdn-402.html csdn-403.html csdn-404.html csdn-405.html csdn-406.html csdn-407.html csdn-408.html csdn-409.html csdn-40.html csdn-410.html csdn-411.html csdn-412.html csdn-413.html csdn-414.html csdn-415.html csdn-416.html csdn-417.html csdn-418.html csdn-419.html csdn-41.html csdn-420.html csdn-421.html csdn-422.html csdn-423.html csdn-424.html csdn-425.html csdn-426.html csdn-427.html csdn-428.html csdn-429.html csdn-42.html csdn-430.html csdn-431.html csdn-432.html csdn-433.html csdn-434.html csdn-435.html csdn-436.html csdn-437.html csdn-438.html csdn-439.html csdn-43.html csdn-440.html csdn-441.html csdn-442.html csdn-443.html csdn-444.html csdn-445.html csdn-446.html csdn-447.html csdn-448.html csdn-449.html csdn-44.html csdn-450.html csdn-451.html csdn-452.html csdn-453.html csdn-454.html csdn-455.html csdn-456.html csdn-457.html csdn-458.html csdn-459.html csdn-45.html csdn-460.html csdn-461.html csdn-462.html csdn-463.html csdn-464.html csdn-465.html csdn-466.html csdn-467.html csdn-468.html csdn-469.html csdn-46.html csdn-470.html csdn-471.html csdn-472.html csdn-473.html csdn-474.html csdn-475.html csdn-476.html csdn-477.html csdn-478.html csdn-479.html csdn-47.html csdn-480.html csdn-481.html csdn-482.html csdn-483.html csdn-484.html csdn-485.html csdn-486.html csdn-487.html csdn-488.html csdn-489.html csdn-48.html csdn-490.html csdn-491.html csdn-492.html csdn-493.html csdn-494.html csdn-495.html csdn-496.html csdn-497.html csdn-498.html csdn-499.html csdn-49.html csdn-4.html csdn-500.html csdn-501.html csdn-502.html csdn-503.html csdn-504.html csdn-505.html csdn-506.html csdn-507.html csdn-508.html csdn-509.html csdn-50.html csdn-510.html csdn-511.html csdn-512.html csdn-513.html csdn-514.html csdn-515.html csdn-516.html csdn-517.html csdn-518.html csdn-519.html csdn-51.html csdn-520.html csdn-521.html csdn-522.html csdn-523.html csdn-524.html csdn-525.html csdn-526.html csdn-527.html csdn-528.html csdn-529.html csdn-52.html csdn-530.html csdn-531.html csdn-532.html csdn-533.html csdn-534.html csdn-535.html csdn-536.html csdn-537.html csdn-538.html csdn-539.html csdn-53.html csdn-540.html csdn-541.html csdn-542.html csdn-543.html csdn-544.html csdn-545.html csdn-546.html csdn-547.html csdn-548.html csdn-549.html csdn-54.html csdn-550.html csdn-551.html csdn-552.html csdn-553.html csdn-554.html csdn-555.html csdn-556.html csdn-557.html csdn-558.html csdn-559.html csdn-55.html csdn-560.html csdn-561.html csdn-562.html csdn-563.html csdn-564.html csdn-565.html csdn-566.html csdn-567.html csdn-568.html csdn-569.html csdn-56.html csdn-570.html csdn-571.html csdn-572.html csdn-573.html csdn-574.html csdn-575.html csdn-576.html csdn-577.html csdn-578.html csdn-579.html csdn-57.html csdn-580.html csdn-581.html csdn-582.html csdn-583.html csdn-584.html csdn-585.html csdn-586.html csdn-587.html csdn-588.html csdn-589.html csdn-58.html csdn-590.html csdn-591.html csdn-592.html csdn-593.html csdn-594.html csdn-595.html csdn-596.html csdn-597.html csdn-598.html csdn-599.html csdn-59.html csdn-5.html csdn-600.html csdn-601.html csdn-602.html csdn-603.html csdn-604.html csdn-605.html csdn-606.html csdn-607.html csdn-608.html csdn-609.html csdn-60.html csdn-610.html csdn-611.html csdn-612.html csdn-613.html csdn-614.html csdn-615.html csdn-616.html csdn-617.html csdn-618.html csdn-619.html csdn-61.html csdn-620.html csdn-621.html csdn-622.html csdn-623.html csdn-624.html csdn-62.html csdn-63.html csdn-64.html csdn-65.html csdn-66.html csdn-67.html csdn-68.html csdn-69.html csdn-6.html csdn-70.html csdn-71.html csdn-72.html csdn-73.html csdn-74.html csdn-75.html csdn-76.html csdn-77.html csdn-78.html csdn-79.html csdn-7.html csdn-80.html csdn-81.html csdn-82.html csdn-83.html csdn-84.html csdn-85.html csdn-86.html csdn-87.html csdn-88.html csdn-89.html csdn-8.html csdn-90.html csdn-91.html csdn-92.html csdn-93.html csdn-94.html csdn-95.html csdn-96.html csdn-97.html csdn-98.html csdn-99.html csdn-9.html mysql.sh FROM table INNER JOIN (SELECT id FROM table ORDER BY create_time  LIMIT 10000,10) AS t USING(id);</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.4.4. 建议</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议1:   尽量使用if来简化SQL访问数据库的次数；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例：</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下两个语句实现的功能</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT  COUNT(*) , SUM(salary)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM employees</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">WHERE department_id = 20</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">AND first_name LIKE 'SMITH%';</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">   </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT COUNT(*) , SUM(salary)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM employees</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">WHERE  department_id = 30</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">AND first_name LIKE 'SMITH%';</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">可以使用IF改写为如下语句</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT COUNT(IF(department_id=20, '*', NULL)) d20_count,</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">              COUNT(IF(department_id=30, '*', NULL)) d30_count,</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">              SUM(IF(department_id=20, salary, NULL)) d20_sal,</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">             SUM(IF(department_id=30, salary, NULL)) d30_sal</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM employees</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">WHERE first_name LIKE 'SMITH%';</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议2:   避免使用HAVING子句, HAVING 只会在检索出所有记录之后才对结果集进行过滤. 这个处理需要排序,总计等操作. 如果能通过WHERE子句限制记录的数目,那就能减少这方面的开销；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">示例</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">如下语句使用的是HAVING子句</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT last_name, avg(salary)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM employees</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">GROUP BY last_name</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">HAVING last_name != 'Grant'</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">AND last_name !=  'Fay'</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">改写使用WHERE的语句如下</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">SELECT last_name, avg(salary)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">FROM employees</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">WHERE last_name != 'Grant'</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">AND last_name != 'Fay'</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">GROUP BY last_name</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议3:   尽量少用not exist/no in等反向写法。如果一定要用时，尽量选择not exist；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议4:   尽量少用is null/is not null等null的处理；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议5:   SQL语句中IN子句里的值不应超过300；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议6:   对于大表查询中的列项应尽量避免进行诸如CAST()或CONVERT()的转换；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议7:   尽量避免进行全表扫描，限制条件尽可能多，以便更快搜索到要查询的数据；</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议8:   SELECT查询语句建议增加limit 1000 限定返回的行数;</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议9:   进行数据库结构设计的时候，考虑适当的冗余，尽量确保应用读写数据的SQL简洁;</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>建议10:  要返回MySQL自增序列的ID值，可以考虑使用函数LAST_INSERT_ID()，此函数只能返回同</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>一个SESSION最近一次对有AUTO_INCREMENT属性表INSERT的ID值</strong></p>&#13;\n<h2 style="font-family:'Helvetica Neue'; font-size:14px">4.5.  开发实用技术</h2>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.5.1. CHAR(N)或VARCHAR(N)中的N解释</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">MySQL中此两类字符串定义时候填写的长度N，不是字节数的意思 ，而是字符数的意思。</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">我们MySQL所有数据库的字符集都为UTF8，字符集校对规则为UTF8_bin。对于中文汉字，实际存储的时候占三个字节，而数据或字母，则只占一个字节。例如：</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">CREATE TABEL company_inventory (color VARCHAR(44) COMMENT '颜色');</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">则color最多能存储40个字符。</p>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.5.2. 日期操作函数</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">获取当前时间：NOW()，CURDATE()、CURTIME()</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">其中， NOW()函数精确到秒，  格式：YYYY-MM-DD HH:MM:SS</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"><strong>           </strong>CURDATE函数精确到天，格式：YYYY-MM-DD</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">           CURTIME函数精确到秒，格式：HH:MM:SS</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">日期数值的加减函数：</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">      DATE_ADD(date,INTERVAL expr type)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">      DATE_ SUB(date,INTERVAL expr type<strong>)</strong></p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">常用的几种type类型：YEAR、MONTH、DAY、HOUR、MINUTE，其中expr可以为正数或负数，我们在开过程中，一般使用DATE_ADD()函数，若要作日期减去一个数字的方式，就使用负数。</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">      DATEDIFF(expr1,expr2)，是返回 开始日期expr1与  结束日期expr2之间，相差的天数 ，返回值为正数或负数。</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">返回日期某部分信息的函数：</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">YEAR(expr1)  返回日期expr1部分的年份；</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">MONTH(expr1) 返回日期expr1部分的月份；</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">DAY(expr1)返回expr1部分的天数；</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">WEEKDAY(expr1)返回expr1对应的星期数字</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.5.3. 类型转换函数</h3>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">   字符串转换成日期方式，DATE_FORMAT()或STR_TO_DATE()，</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">   两个函数的格式如下：</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">   DATE_FORMAT(expr1,format)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">   STR_TO_DATE(expr1, format)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">   常用的日期格式YYYY-MM-DD HH:MM:SS 对应的format为%Y-%m-%d %H:%i:%S</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">   通用的类型转换函数：</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">     CAST(expr AS type)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">     CONVERT(expr,type)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">     CONVERT(expr USING transcoding_name)</p>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px"> </p>&#13;\n<h3 style="font-family:'Helvetica Neue'; font-size:14px">4.5.4. INNODB与MYISAM的主要区别</h3>&#13;\n<div style="font-family:'Helvetica Neue'; font-size:14px">&#13;\n<table>&#13;\n<tbody>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1"> </td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>MyISAM</strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>InnoDB</strong></p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>构 成上的区别：</strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>每个MyISAM表在磁盘上存储三个文件。文件的名字以表的名字开始，扩展名指出文件类型。</p>&#13;\n<p>.frm文件存储表定义。</p>&#13;\n<p>.MYD文件存储数据 (MYData)。</p>&#13;\n<p>.MYI文件存储索引 (MYIndex)。</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>InnoDB表空间数据文件和日志文件，InnoDB表的大小只受限于操作系统文件的大小</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>事务处理上方面:</strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>MyISAM类型的表强调的是性能，其执行速度比InnoDB类型更快，但是不提供事务支持</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>InnoDB提供事务支持事务，外部键等高级 数据库功能</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>SELECT UPDATE,INSERT，Delete操 作</strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>如果执行大量的SELECT，MyISAM是更好的选择</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>1.如果你的数据执行大量的INSERT或UPDATE，出于性能方面的考虑，应该使用InnoDB表</p>&#13;\n<p>2.DELETE FROM table时，InnoDB不会重新建立表，而是一行一行的 删除。</p>&#13;\n<p>3.LOAD TABLE FROM MASTER操作对InnoDB是不起作用的，解决方法是首先把InnoDB表改成MyISAM表，导入数据后再改成InnoDB表，但是对于使用的额外的InnoDB特性（例如外键）的表不适用</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>表的具体行数</strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>select count(*) from table,MyISAM只要简单的读出保存好的行数，注意的是，当count(*)语句包含 where条件时，两种表的操作是一样的</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>InnoDB中不保存表的具体行数，也就是说，执行select count(*) from table时，InnoDB要扫描一遍整个表来计算有多少行</p>&#13;\n</td>&#13;\n</tr>&#13;\n<tr>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p><strong>锁</strong></p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>表锁，MyISAM表锁读写互相阻塞，写锁优先级高于读锁。参数选项low_priority_updates设置写锁优先级比读锁低、参数选项concurrent_insert配置是否使用并发插入特性，concurrent_insert=0 表示不允许并发插入，concurrent_insert=1表示允许对没有空数据块的表使用并发插入（缺省），concurrent_insert=2表示对所有表允许并发插入</p>&#13;\n</td>&#13;\n<td colspan="1" rowspan="1">&#13;\n<p>提供行锁(locking on row level)，提供与Oracle类型一致的不加锁读取(non-locking read in SELECTs)。MySQL的行锁是针对索引加的锁，不是针对记录加的锁，在不通过索引条件查询的时候，InnoDB使用的是表锁，而不是行锁。</p>&#13;\n<p>另外，即便在条件中使用了索引字段，但是否使用索引来检索数据是由MySQL通过判断不同执行计划的代价来决定的，如果MySQL认为全表扫描效率更高，比如对一些很小的表，它就不会使用索引，这种情况下InnoDB将使用表锁，而不是行锁</p>&#13;\n</td>&#13;\n</tr>&#13;\n</tbody>&#13;\n</table>&#13;\n</div>&#13;\n<p style="font-family:'Helvetica Neue'; font-size:14px">  </p>&#13;\n &#13;\n
