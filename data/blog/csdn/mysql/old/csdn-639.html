\n\n<p>最近在使用mysql的时候，经常要遇到导出或者导入数据的情况，对于一些简单的，可以直接使用navicate直接导出结果，但是有很多时候，由于机器在远程端，并且是线上机器的情况下，在跳转一次跳转还链接不到mysql的时候，navicate就不能使用这种方法去导出了，搜索了网上的一些文章，大概将mysql导入导出的情况做个总结，如下：</p>&#13;\n<h1><span style="font-size:18px">一、导出数据库</span></h1>&#13;\n<p>mysqldump -h 127.0.0.1  -u name -p  dbname &gt;name.sql</p>&#13;\n<p>将127.0.0.1的数据库dbname导出到name.sql文件里面</p>&#13;\n<p><br />&#13;\n</p>&#13;\n<h1><span style="font-size:18px">二、导出数据库的某张表</span></h1>&#13;\n<p>mysqldump -h 127.0.0.1  -u username -ppassword  dbname tablename &gt;name.sql<br />&#13;\n</p>&#13;\n<p>将ip 127.0.0.1上面的数据库dbname里面的tablename表导出到name.sql文件里面</p>&#13;\n<p><br />&#13;\n</p>&#13;\n<h1><span style="font-size:18px">三、导出数据库的某张表的符合某些条件的数据</span></h1>&#13;\n<p>mysqldump -h 127.0.0.1  -u username -ppassword  dbname tablename  --where="id&gt;10 limit 10000" &gt;name.sql<br />&#13;\n</p>&#13;\n<p>上面一、二的情况均属于将所有的表或者库全部导出来，但是有些时候我们只是想要部分的数据，这部分数据符合某些条件，对于上述的结构就是</p>&#13;\n<p>将数据库dbname里面的tablename表里面的 id&gt;10 的数据取出来100条，导出到name.sql文件里面</p>&#13;\n<p><br />&#13;\n</p>&#13;\n<h1><span style="font-size:18px">四、导出数据库的某张表不锁表</span></h1>&#13;\n<p>mysqldump -h 127.0.0.1  -u username -ppassword --single-transaction dbname  tablename&gt;name.sql<br />&#13;\n</p>&#13;\n<p>有时候导出的时候并没有锁表的权限，例如如果你只是一个只读权限的话，很可能没有锁表的权限，这个时候只要加上一句  --single-transaction 就可以不锁表进行导出</p>&#13;\n<p>上述对于一、二、三来说都会对数据库进行锁表，加上此命令即可达到不锁表导数据的目的</p>&#13;\n<p><br />&#13;\n</p>&#13;\n<h1><span style="font-size:18px">五、导出数据库的某张表的表结构，不导出数据</span></h1>&#13;\n<p>mysqldump -h 127.0.0.1  -u username -ppassword --single-transaction -d dbname  tablename&gt;name.sql<br />&#13;\n</p>&#13;\n<p>有时候我们并不是要导出数据，只是要导出表结构，比如说你要按照这个表结构完全去复制创建这个表结构，这种情况下可以使用的方法很多，比如可以直接连上数据库，使用show create table tablename命令，也可以得到建表的语句；此处只是提供另外一种导出表结构的办法，如果要只导出表结构的话，可以加 -d就可以</p>&#13;\n<p><br />&#13;\n</p>&#13;\n<h1><span style="font-size:18px">六、导出数据库的某张表的数据，不导出结构</span></h1>&#13;\n<p>mysqldump -h 127.0.0.1  -u username -ppassword --single-transaction -t dbname  tablename&gt;name.sql<br />&#13;\n</p>&#13;\n<p>如果要只导出数据，但是不导出表结构的话，使用-t就可以达到目的，本来使用这一句的目的是为了导出数据库里面的视图，因为没有show create view的权限，只能尝试能否只导出数据，结果发现不太可以，再琢磨琢磨，再次mark一下，方便之后使用</p>&#13;\n<p><br />&#13;\n</p>&#13;\n<h1><span style="font-size:18px">七、数据库到导入</span></h1>&#13;\n<p>use dbname;</p>&#13;\n<p>set names gbk;</p>&#13;\n<p>source /d1/name/name.sql;</p>&#13;\n<p>导入数据的时候只要连上数据库，使用source就可以，之前可以设置编码格式为gbk或者utf-8等，这样不会出现中文的乱码</p>&#13;\n<p><br />&#13;\n</p>&#13;\n<h1>八、授权</h1>&#13;\n<p>&#13;\n</p><table id="ItemTable" width="100%" cellspacing="0" style="font-family:''; widows:auto; word-wrap:break-word; word-break:break-all">&#13;\n<tbody>&#13;\n<tr id="itemId_23">&#13;\n<td id="tn" style="font-size:9pt; border:1px solid transparent">&#13;\n<div class="msgContentDiv" style="margin-top:5px; padding-left:20px; width:300px; overflow-x:hidden">&#13;\n<span style="color:000000; font-size:9pt; font-family:微软雅黑,'MS Sans Serif',sans-serif">insert into mysql.user(User,Password) values("name",password("password"));</span></div>&#13;\n</td>&#13;\n</tr>&#13;\n<tr id="itemId_24" style="background-color:rgb(255,237,196)">&#13;\n<td id="tn" style="font-size:9pt; border:1px solid rgb(255,219,141)">&#13;\n<div style="color:rgb(66,180,117); padding-left:10px"><span style="font-family:Tahoma"></span><br />&#13;\n</div>&#13;\n<div class="msgContentDiv" style="margin-top:5px; padding-left:20px; width:300px; overflow-x:hidden">&#13;\n<span style="color:000000; font-size:9pt; font-family:微软雅黑,'MS Sans Serif',sans-serif">GRANT ALL PRIVILEGES ON *.* TO "name"@'%' IDENTIFIED BY 'password';</span></div>&#13;\n</td>&#13;\n</tr>&#13;\n<tr id="itemId_25">&#13;\n<td id="tn" style="font-size:9pt; border:1px solid transparent">&#13;\n<div style="color:rgb(66,180,117); padding-left:10px"><span style="font-family:Tahoma"></span><br />&#13;\n</div>&#13;\n<div class="msgContentDiv" style="margin-top:5px; padding-left:20px; width:300px; overflow-x:hidden">&#13;\n<span style="color:000000; font-size:9pt; font-family:微软雅黑,'MS Sans Serif',sans-serif">flush privileges;</span></div>&#13;\n</td>&#13;\n</tr>&#13;\n<tr id="itemId_26">&#13;\n<td id="tn" style="font-size:9pt; border:1px solid transparent">&#13;\n<div style="color:rgb(66,180,117); padding-left:10px"><span style="font-family:Tahoma"></span><br />&#13;\n</div>&#13;\n<div class="msgContentDiv" style="margin-top:5px; padding-left:20px; width:300px; overflow-x:hidden">&#13;\n<span style="color:000000; font-size:9pt; font-family:微软雅黑,'MS Sans Serif',sans-serif">show grants for 'test_group'@'%';</span></div>&#13;\n</td>&#13;\n</tr>&#13;\n</tbody>&#13;\n</table>&#13;\n<br />&#13;\n&#13;\n &#13;\n
