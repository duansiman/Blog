\n\n<div style=""><span style="font-size:18px; color:#ff0000; background-color:inherit"><strong style="background-color:inherit">exec()方法</strong></span></div>&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left">exec()方法返回执行后受影响行数，语法如下：</span></div>&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left">int PDO::exec(string statement)</span></div>&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left">参数<span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left">statement是要执行的SQL语句。该方法返回执行查询时受影响的行数，通常情况下用于INSERT，DELETE和UPDATE语句中。</span></span></div>&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left">例如：</span></span></div>&#13;\n<p><br />&#13;\n</p>&#13;\n<p></p>&#13;\n<pre name="code" class="php">$dbms='mysql';//数据库类型\n$dbName='admin';//使用的数据库\n$user='root';//数据库连接用户名\n$pwd='password';//数据库连接密码\n$host='localhost';//数据库主机名\n$dsn="$dbms:host=$host;port=3306;dbname=$dbName";\ntry{\n$pdo=new PDO($dsn,$user,$pwd);//初始化一个PDO对象，就是创建了数据库连接对象$pdo\n$query="insert into user(username,password) values('admin','123456')";//需要执行的sql语句\n$res=$pdo-&gt;exec($query);//执行添加语句并返回受影响行数\necho "数据添加成功，受影响行数为： ".$res;\n}catch(Exception $e){\ndie("Error!:".$e-&gt;getMessage().'&lt;br&gt;');\n}</pre><br />&#13;\n<p></p>&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left">运行结果为：</span></span></div>&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left">数据添加成功，受影响行数为：&#13;\n 1<span> </span><br style="background-color:inherit" />&#13;\n</span></span></div>&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><br style="background-color:inherit" />&#13;\n</span></span></div>&#13;\n<div style=""><span style="font-family:微软雅黑; background-color:rgb(255,255,255); font-style:normal; text-align:left"><span style="font-family:微软雅黑; background-color:rgb(255,255,255); font-style:normal; text-align:left"><span style="font-size:18px; color:#ff0000; background-color:inherit"><strong style="background-color:inherit">query()方法</strong></span></span></span></div>&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left">query()方法用于返回执行查询后的结果集，语法如下</span><br style="background-color:inherit" />&#13;\n</span></span></div>&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left">PDOStatement&#13;\n PDO::query(string statement)</span></span></span></div>&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left">参数statement&#13;\n 是要执行的SQL语句。它返回的是一个PDOStatement对象</span></span></span></div>&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><br />&#13;\n例如：<br />&#13;\n</span></span></span><pre name="code" class="php">$dbms='mysql';\n$dbName='admin';\n$user='root';\n$pwd='905407339';\n$host='localhost';\n$dsn="$dbms:host=$host;port=3306;dbname=$dbName";\ntry{\n$pdo=new PDO($dsn,$user,$pwd);\n$query="select csdn-10.html csdn-11.html csdn-12.html csdn-13.html csdn-14.html csdn-15.html csdn-16.html csdn-17.html csdn-18.html csdn-19.html csdn-1.html csdn-20.html csdn-21.html csdn-22.html csdn-23.html csdn-24.html csdn-25.html csdn-26.html csdn-27.html csdn-28.html csdn-29.html csdn-2.html csdn-30.html csdn-31.html csdn-32.html csdn-33.html csdn-34.html csdn-35.html csdn-36.html csdn-37.html csdn-38.html csdn-39.html csdn-3.html csdn-40.html csdn-41.html csdn-42.html csdn-43.html csdn-44.html csdn-45.html csdn-46.html csdn-47.html csdn-48.html csdn-49.html csdn-4.html csdn-50.html csdn-51.html csdn-52.html csdn-53.html csdn-54.html csdn-55.html csdn-56.html csdn-57.html csdn-58.html csdn-59.html csdn-5.html csdn-60.html csdn-61.html csdn-62.html csdn-63.html csdn-6.html csdn-7.html csdn-8.html csdn-9.html mysql.sh from user";\n$res=$pdo-&gt;query($query);\nprint_r($res);\n}catch(Exception $e){\ndie("Error!:".$e-&gt;getMessage().'&lt;br&gt;');\n}</pre><br />&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left">运行结果为：</span></span></span></div>&#13;\n<div style=""><span style="background-color:rgb(255,255,255); color:rgb(0,0,0); font-family:微软雅黑; font-size:14px; font-style:normal; font-weight:normal; text-align:left"><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left">PDOStatement&#13;\n Object ( [queryString] =&gt; select csdn-10.html csdn-11.html csdn-12.html csdn-13.html csdn-14.html csdn-15.html csdn-16.html csdn-17.html csdn-18.html csdn-19.html csdn-1.html csdn-20.html csdn-21.html csdn-22.html csdn-23.html csdn-24.html csdn-25.html csdn-26.html csdn-27.html csdn-28.html csdn-29.html csdn-2.html csdn-30.html csdn-31.html csdn-32.html csdn-33.html csdn-34.html csdn-35.html csdn-36.html csdn-37.html csdn-38.html csdn-39.html csdn-3.html csdn-40.html csdn-41.html csdn-42.html csdn-43.html csdn-44.html csdn-45.html csdn-46.html csdn-47.html csdn-48.html csdn-49.html csdn-4.html csdn-50.html csdn-51.html csdn-52.html csdn-53.html csdn-54.html csdn-55.html csdn-56.html csdn-57.html csdn-58.html csdn-59.html csdn-5.html csdn-60.html csdn-61.html csdn-62.html csdn-63.html csdn-6.html csdn-7.html csdn-8.html csdn-9.html mysql.sh from user )<span> </span><br style="background-color:inherit" />&#13;\n</span></span></span></div>&#13;\n<div style="">如果要看查询的具体结果，可以通过foreach语句完成循环输出</div>&#13;\n<div style="">例如：</div>&#13;\n<pre name="code" class="php">foreach($res as $val){\necho $val['username']."----".$val['password'].'&lt;br&gt;';\n}</pre><br />&#13;\n<div style="">运行结果为：</div>&#13;\n<div style="">107lab----e10adc3949ba59abbe56e057f20f883e<br style="background-color:inherit" />&#13;\nadmin----123456<br style="background-color:inherit" />&#13;\n</div>&#13;\n<div style="">说明：如果要查看foreach的详细用法请查看：<a target="_blank" href="http://blog.csdn.net/qq_28602957/article/details/50971524" style="background-color:inherit; line-height:1.5">http://blog.csdn.net/qq_28602957/article/details/50971524</a></div>&#13;\n<br />&#13;\n<div style=""><strong style="background-color:inherit"><span style="font-size:18px; color:#ff0000; background-color:inherit"><br />&#13;\nquery()与<span style="font-family:微软雅黑; background-color:rgb(255,255,255); font-style:normal; text-align:left">exec()</span></span></strong></div>&#13;\n<div style="">&#13;\n<div style="background-color:inherit">&#13;\n<pre style="font-family:Monaco,Consolas,Courier,'Lucida Console',monospace; font-style:normal; background-color:inherit"><span style="color:#0800; background-color:inherit">query可以实现所有exec的功能</span></pre>&#13;\n</div>&#13;\n</div>&#13;\n<span style="">例如：</span><pre name="code" class="php">$dbms='mysql';//数据库类型\n$dbName='admin';//使用的数据库\n$user='root';//数据库连接用户名\n$pwd='905407339';//数据库连接密码\n$host='localhost';//数据库主机名\n$dsn="$dbms:host=$host;port=3306;dbname=$dbName";\ntry{\n$pdo=new PDO($dsn,$user,$pwd);//初始化一个PDO对象，就是创建了数据库连接对象$pdo\n$query="insert into user(username,password) values('admin','123456')";//需要执行的sql语句\n$res=$pdo-&gt;query($query);//执行添加语句并返回受影响行数\necho "数据添加成功，受影响行数为： ".$res-&gt;rowCount();\n}catch(Exception $e){\ndie("Error!:".$e-&gt;getMessage().'&lt;br&gt;');\n}</pre><br />&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left">运行结果为：</span></div>&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left">数据添加成功，受影响行数为： 1<span> </span><br style="background-color:inherit" />&#13;\n</span></div>&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><br style="background-color:inherit" />&#13;\n</span></div>&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left">注：</span></div>&#13;\n<div style="">&#13;\n<p style="margin:5px 0px; background-color:inherit"><strong style="background-color:inherit">1、query和exec都可以执行所有的sql语句，只是返回值不同而已。</strong></p>&#13;\n<p style="margin:5px 0px; background-color:inherit"><strong style="background-color:inherit">2、query可以实现所有exec的功能。</strong></p>&#13;\n<p style="margin:5px 0px; background-color:inherit"><strong style="background-color:inherit">3、当把select语句应用到 exec 时，总是返回 0</strong></p>&#13;\n<p style="margin:5px 0px; background-color:inherit"><br />&#13;\n</p>&#13;\n<p style="margin:5px 0px; background-color:inherit"><strong style="background-color:inherit"><br />&#13;\n</strong></p>&#13;\n</div>&#13;\n<div style=""><span style="font-family:微软雅黑; background-color:rgb(255,255,255); font-style:normal; text-align:left"><strong style="background-color:inherit"><span style="font-size:18px; color:#ff0000; background-color:inherit">预处理语句----prepare()语句和execute()语句</span></strong></span></div>&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left">预处理语句包括prepare()和<span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left">execute()两种方法。首先，通过prepare()方法做查询准备工作，然后通过execute()方法执行查询，并且还可以通过bindParam()方法来绑定参数给execute()方法，语法如下：</span></span></div>&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left">PDOStatement&#13;\n PDO::prepare(string statement[,array driver_options])</span></span></div>&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left">bool&#13;\n PDOStatement::execute([array input_parameters])</span></span></div>&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left">例如：</span></span></div>&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left">在PDO中通过预处理语句prepare()和execute()执行SQL查询语句，并且应用while()语句和fetch()方法完成数据的循环输出</span></span></div>&#13;\n<pre name="code" class="php">$dbms='mysql';//数据库类型\n$dbName='admin';//使用的数据库\n$user='root';//数据库连接用户名\n$pwd='905407339';//数据库连接密码\n$host='localhost';//数据库主机名\n$dsn="$dbms:host=$host;port=3306;dbname=$dbName";\ntry{\n $pdo=new PDO($dsn,$user,$pwd);//初始化一个PDO对象，就是创建了数据库连接对象$pdo\n $query="select csdn-10.html csdn-11.html csdn-12.html csdn-13.html csdn-14.html csdn-15.html csdn-16.html csdn-17.html csdn-18.html csdn-19.html csdn-1.html csdn-20.html csdn-21.html csdn-22.html csdn-23.html csdn-24.html csdn-25.html csdn-26.html csdn-27.html csdn-28.html csdn-29.html csdn-2.html csdn-30.html csdn-31.html csdn-32.html csdn-33.html csdn-34.html csdn-35.html csdn-36.html csdn-37.html csdn-38.html csdn-39.html csdn-3.html csdn-40.html csdn-41.html csdn-42.html csdn-43.html csdn-44.html csdn-45.html csdn-46.html csdn-47.html csdn-48.html csdn-49.html csdn-4.html csdn-50.html csdn-51.html csdn-52.html csdn-53.html csdn-54.html csdn-55.html csdn-56.html csdn-57.html csdn-58.html csdn-59.html csdn-5.html csdn-60.html csdn-61.html csdn-62.html csdn-63.html csdn-6.html csdn-7.html csdn-8.html csdn-9.html mysql.sh from user";//需要执行的sql语句\n $res=$pdo-&gt;prepare($query);//准备查询语句\n $res-&gt;execute();\n while($result=$res-&gt;fetch(PDO::FETCH_ASSOC)){\n echo $result['id']." ".$result['username']." ".$result['password'].'&lt;br&gt;';\n }\n}catch(Exception $e){\n die("Error!:".$e-&gt;getMessage().'&lt;br&gt;');\n}</pre><br />&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left">运行结果为：</span></span></div>&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left">1&#13;\n 107lab e10adc3949ba59abbe56e057f20f883e<br style="background-color:inherit" />&#13;\n4 admin 123456<br style="background-color:inherit" />&#13;\n5 admin 123456<br style="background-color:inherit" />&#13;\n</span></span></div>&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><br style="background-color:inherit" />&#13;\n</span></div>&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left"><br style="background-color:inherit" />&#13;\n</span></div>&#13;\n<div style=""><span style="font-family:微软雅黑; font-size:14px; color:#000000; background-color:rgb(255,255,255); font-style:normal; font-weight:normal; text-align:left">关于PDO中获取结果集的方法正在创作阶段，敬请期待。</span></div>&#13;\n<br />&#13;\n<br />&#13;\n</div>&#13;\n<p></p>&#13;\n<p></p>&#13;\n &#13;\n
