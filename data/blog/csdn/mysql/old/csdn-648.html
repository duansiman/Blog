\n\n<p><strong><span style="font-size:32px">前言</span></strong></p>&#13;\n<p><span style="font-size:14px"> </span></p>&#13;\n<p><span style="font-size:14px">最近帮公司优化数据库，凭着之前所学，一步一步地将学习知识用于实践，总算是将速度蹭上去了，一个原本要执行1分多钟的查询现在只需要3秒。</span></p>&#13;\n<p><span style="font-size:14px">现把自己所学所思及所用加以总结，一方面为自己巩固知识，另一方面也给广大同学以一点点参考。</span></p>&#13;\n<p><span style="font-size:14px"><br />&#13;\n</span></p>&#13;\n<p><strong><span style="font-size:24px">本套教程共十三讲。</span></strong></p>&#13;\n<p><span style="font-size:14px"><br />&#13;\n</span></p>&#13;\n<p><strong><span style="font-size:14px">在这系列的教程中，你将会学到</span></strong></p>&#13;\n<p><strong><span style="font-size:14px">1.     如何一步步地优化数据库</span></strong></p>&#13;\n<p><strong><span style="font-size:14px">2.     如何把索引的作用发挥的淋漓尽致</span></strong></p>&#13;\n<p><strong><span style="font-size:14px">3.     如何解决Mysql在like’%xxx%’模糊查询的情况下不使用索引</span></strong></p>&#13;\n<p><strong><span style="font-size:14px">4.     如何设计一张优质的表</span></strong></p>&#13;\n<p><strong><span style="font-size:14px">5.     如何写出高质量的sql语句</span></strong></p>&#13;\n<p><strong><span style="font-size:14px">6.     数据库优化的其他方法</span></strong></p>&#13;\n<p><span style="font-size:14px"> </span></p>&#13;\n<p><span style="font-size:14px">首先，让我们从发现慢查询开始。</span></p>&#13;\n<p><span style="font-size:14px"><br />&#13;\n</span></p>&#13;\n<p></p>&#13;\n<h1>一、           发现慢查询</h1>&#13;\n<p></p>&#13;\n<p><span style="font-size:14px"><br />&#13;\n</span></p>&#13;\n<p><span style="font-size:14px">如何从一个大项目中，迅速的定位执行速度慢的语句，这是本章节将要解决的问题。</span></p>&#13;\n<p><strong><span style="font-size:14px">1.      慢查询的定义</span></strong></p>&#13;\n<p><span style="font-size:14px">怎样的查询才算是慢查询，有没有一个量化的标准呢？</span></p>&#13;\n<p><span style="font-size:14px">慢查询定义</span></p>&#13;\n<p><span style="font-size:14px">       慢查询是指执行时间超过慢查询时间的sql语句。</span></p>&#13;\n<p><span style="font-size:14px">查看慢查询时间的方法</span></p>&#13;\n<p></p>&#13;\n<pre name="code" class="plain">show variables like 'long_query_time';</pre><br />&#13;\n<p></p>&#13;\n<span style="font-size:14px">可以显示当前慢查询时间。MySql默认慢查询时间为10秒<br />&#13;\n</span>&#13;\n<p><span style="font-size:14px"><img src="http://img.blog.csdn.net/20150331092611276?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHp5MzgzMjQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</span></p>&#13;\n<p></p>&#13;\n<p><span style="font-size:14px">可以通过如下语句对慢查询的定义进行修改</span></p>&#13;\n<p></p>&#13;\n<pre name="code" class="plain">set global long_query_time=1;</pre><br />&#13;\n<p></p>&#13;\n<span style="font-size:14px"><img src="http://img.blog.csdn.net/20150331092718821?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHp5MzgzMjQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</span>&#13;\n<p></p>&#13;\n<p><span style="font-size:14px">（如果你的mysql设置了缓存，那么需要重新进入命令行窗口才会查出变化）</span></p>&#13;\n<p><span style="font-size:14px">需要注意的是，这个语句特意在变量前加上了global，表明这次的设置是对整个Mysql有效的，而默认情况下变量前的修饰符是session（会话），也就是只对当前窗口有效。</span></p>&#13;\n<p><span style="font-size:14px"><br />&#13;\n</span></p>&#13;\n<p></p>&#13;\n<p><strong><span style="font-size:14px">这一讲只是开个头，下一讲，我们会为慢查询的发生准备数据，即创建一张大表。</span></strong></p>&#13;\n &#13;\n
