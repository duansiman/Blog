\n <div class="markdown_views"><p>注意事项有以下几点： <br />\n1，MySQL数据库端要关闭防火墙 <br />\n2，关于字符集问题要设置好，可以参考以下博客<a href="http://blog.csdn.net/liyongqi_/article/details/51318573">eclipse向MySQL workbench插入中文显示乱码</a> <br />\n<a href="http://blog.csdn.net/liyongqi_/article/details/51169157">关于解决workbench无法插入中文的问题</a></p>\n\n<pre class="prettyprint"><code class=" hljs cs">import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\n<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> Mydatabase \n{\n <span class="hljs-keyword">static</span> Statement statement;\n <span class="hljs-keyword">static</span> Connection connection;\n\n <span class="hljs-keyword">public</span> <span class="hljs-title">Mydatabase</span>()\n {\n\n\n }\n <span class="hljs-comment">//用于连接数据库</span>\n <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">connect</span>()\n {\n <span class="hljs-keyword">try</span>\n {\n <span class="hljs-keyword">try</span>\n {\n Class.forName( <span class="hljs-string">"com.mysql.jdbc.Driver"</span>);<span class="hljs-comment">//加载数据库驱动</span>\n System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"数据库驱动加载成功"</span>);\n }<span class="hljs-keyword">catch</span>(ClassNotFoundException e){}\n\n <span class="hljs-comment">//连接数据库</span>\n connection=DriverManager.getConnection(<span class="hljs-string">"jdbc:mysql://125.250.223.51:3306/words?characterEncoding=utf8"</span>,<span class="hljs-string">"root"</span>,<span class="hljs-string">""</span>);\n <span class="hljs-comment">//其中125.250.223.51要换成数据库端所在的IP地址，3306改为数据库的端口号 </span>\n statement=connection.createStatement();\n\n\n\n }<span class="hljs-keyword">catch</span>(Exception e){\n e.printStackTrace();\n System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"sorry,连接失败"</span>);}\n }\n <span class="hljs-comment">//向数据库word表中插入词语</span>\n <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">insert</span>(String s) throws SQLException\n {\n\n connect();\n <span class="hljs-keyword">try</span> \n {\n statement.executeUpdate(<span class="hljs-string">"INSERT INTO word VALUES ('"</span>+s+<span class="hljs-string">"','"</span>+s.length()+<span class="hljs-string">"')"</span>);\n } <span class="hljs-keyword">catch</span> (SQLException e) {\n System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"已经有这个词语"</span>);\n e.printStackTrace();\n }\n <span class="hljs-keyword">try</span> \n {\n statement.close();\n } <span class="hljs-keyword">catch</span> (SQLException e) {\n <span class="hljs-comment">// TODO Auto-generated catch block</span>\n e.printStackTrace();\n }\n <span class="hljs-keyword">try</span> \n {\n connection.close();\n } <span class="hljs-keyword">catch</span> (SQLException e) {\n <span class="hljs-comment">// TODO Auto-generated catch block</span>\n e.printStackTrace();\n }\n }\n <span class="hljs-comment">//删除数据库word表的某个词语</span>\n <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">delete</span>(String s )\n {\n connect();\n <span class="hljs-keyword">try</span> \n {\n statement.executeUpdate(<span class="hljs-string">"DELETE FROM word WHERE description='"</span>+s+<span class="hljs-string">"'"</span>);\n } <span class="hljs-keyword">catch</span> (SQLException e) {\n <span class="hljs-comment">// TODO Auto-generated catch block</span>\n e.printStackTrace();\n }\n <span class="hljs-keyword">try</span> \n {\n statement.close();\n } <span class="hljs-keyword">catch</span> (SQLException e) {\n <span class="hljs-comment">// TODO Auto-generated catch block</span>\n e.printStackTrace();\n }\n <span class="hljs-keyword">try</span> \n {\n connection.close();\n } <span class="hljs-keyword">catch</span> (SQLException e) {\n <span class="hljs-comment">// TODO Auto-generated catch block</span>\n e.printStackTrace();\n }\n }\n <span class="hljs-comment">//随机从数据库word表中获得一个词语</span>\n <span class="hljs-keyword">public</span> String <span class="hljs-title">getWord</span>()\n {\n connect();\n ResultSet <span class="hljs-keyword">set</span>=<span class="hljs-keyword">null</span>;\n <span class="hljs-keyword">try</span> {\n <span class="hljs-keyword">set</span>=statement.executeQuery(<span class="hljs-string">"SELECT*FROM word ORDER BY rand() LIMIT 5"</span>);\n } <span class="hljs-keyword">catch</span> (SQLException e) {\n <span class="hljs-comment">// TODO Auto-generated catch block</span>\n e.printStackTrace();\n }\n <span class="hljs-keyword">try</span> {\n <span class="hljs-keyword">while</span>(<span class="hljs-keyword">set</span>.next())\n {\n <span class="hljs-keyword">return</span> <span class="hljs-keyword">set</span>.getString(<span class="hljs-number">1</span>);\n }\n } <span class="hljs-keyword">catch</span> (SQLException e) {\n <span class="hljs-comment">// TODO Auto-generated catch block</span>\n e.printStackTrace();\n }\n <span class="hljs-keyword">return</span> <span class="hljs-string">"not"</span>;\n\n }\n <span class="hljs-comment">//账户的注册</span>\n <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">register</span>(String user ,String password)\n {\n connect();\n <span class="hljs-keyword">try</span> \n {\n statement.executeUpdate(<span class="hljs-string">"INSERT INTO account VALUES ('"</span>+user+<span class="hljs-string">"','"</span>+password+<span class="hljs-string">"')"</span>);\n } <span class="hljs-keyword">catch</span> (SQLException e) {\n System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"用户已存在"</span>);\n e.printStackTrace();\n }\n <span class="hljs-keyword">try</span> \n {\n statement.close();\n } <span class="hljs-keyword">catch</span> (SQLException e) {\n <span class="hljs-comment">// TODO Auto-generated catch block</span>\n e.printStackTrace();\n }\n <span class="hljs-keyword">try</span> \n {\n connection.close();\n } <span class="hljs-keyword">catch</span> (SQLException e) {\n <span class="hljs-comment">// TODO Auto-generated catch block</span>\n e.printStackTrace();\n }\n }\n <span class="hljs-comment">//用户的登录</span>\n <span class="hljs-keyword">public</span> boolean <span class="hljs-title">login</span>(String user ,String password)\n {\n connect();\n ResultSet <span class="hljs-keyword">set</span>=<span class="hljs-keyword">null</span>;\n <span class="hljs-keyword">try</span> {\n <span class="hljs-keyword">set</span>=statement.executeQuery(<span class="hljs-string">"SELECT password FROM account where user='"</span>+user+<span class="hljs-string">"'"</span> );\n } <span class="hljs-keyword">catch</span> (SQLException e) {\n <span class="hljs-comment">// TODO Auto-generated catch block</span>\n e.printStackTrace();\n }\n <span class="hljs-keyword">try</span> {\n <span class="hljs-keyword">while</span>(<span class="hljs-keyword">set</span>.next())\n {\n <span class="hljs-keyword">if</span>(password.equals(<span class="hljs-keyword">set</span>.getString(<span class="hljs-number">1</span>)))\n <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;\n <span class="hljs-keyword">else</span>\n <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;\n }\n } <span class="hljs-keyword">catch</span> (SQLException e) {\n <span class="hljs-comment">// TODO Auto-generated catch block</span>\n e.printStackTrace();\n }\n\n <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;\n }\n\n\n\n\n}\n\n</code></pre></div>&#13;\n <script type="text/javascript">&#13;\n $(function () {&#13;\n $('pre.prettyprint code').each(function () {&#13;\n var lines = $(this).text().split('\\n').length;&#13;\n var $numbering = $('&lt;ul/&gt;').addClass('pre-numbering').hide();&#13;\n $(this).addClass('has-numbering').parent().append($numbering);&#13;\n for (i = 1; i &lt;= lines; i++) {&#13;\n $numbering.append($('&lt;li/&gt;').text(i));&#13;\n };&#13;\n $numbering.fadeIn(1700);&#13;\n });&#13;\n });&#13;\n </script>&#13;\n &#13;\n
