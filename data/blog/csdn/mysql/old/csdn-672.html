\n<p>CentOS下如何完全卸载MySQL？解决卸载不干净的问题</p><p>系统：<span style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px;">CentOS 6.5，MySQL：MySql 5.6</span></p><p><span style="font-family:Arial;"><span style="font-size: 14px; line-height: 26px;"><span style="color:#333333;">这里主要解决使用</span><strong><span style="color:#ff0000;">rpm</span></strong><span style="color:#333333;">安装的卸载问题，安装方法见：</span><a target="_blank" href="http://blog.csdn.net/testcs_dn/article/details/39026213" style="color: rgb(41, 129, 169); box-sizing: border-box; text-decoration: none; outline: none; font-family: 'Microsoft Yahei'; font-size: 16px; line-height: 20px; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;">CentOS安装mysql*.<span style="box-sizing: border-box; margin: 0px; padding: 0px; border: 0px; color: rgb(204, 0, 0);">rpm</span>提示conflicts with file from package的解决办法</a></span></span></p><p><span style="font-family:Arial;">虽然说这里的是使用<span style="font-family: Arial; font-size: 14px; line-height: 26px;"><span style="color:#ff0000;">rpm</span></span><span style="color:#333333;font-family: Arial; font-size: 14px; line-height: 26px;">安装的卸载问题，我觉得使用yum方式安装的如果遇到相同的问题也一样适用。</span></span></p><p></p><h3><span style="font-family:Arial;color:#333333;"><strong>查看已经安装的服务</strong></span></h3><span style="font-family:Arial;color:#333333;">rpm –qa|grep -i mysql</span><p><span style="font-family:Arial;color:#333333;"><span style="color: rgb(51, 51, 51); font-family: Arial;">-i 作用是不区分大小写</span><br /></span></p><h3><span style="font-family:Arial;color:#333333;">可以看到有两个安装包</span></h3><span style="font-family:Arial;color:#333333;">MySQL-server-5.6.19-1.linux_glibc2.5.x86_64.rpm<br />MySQL-client-5.6.19-1.linux_glibc2.5.x86_64.rpm<br /></span><h3><span style="font-family:Arial;color:#333333;">删除这两个服务(去掉后缀)</span></h3><span style="font-family:Arial;color:#333333;">rpm –e MySQL-client-5.6.19-1.linux_glibc2.5.x86_64<br />rpm -e MySQL-server-5.6.19-1.linux_glibc2.5.x86_64</span><h3><span style="font-family:Arial;color:#333333;">查看残留的目录：</span></h3><p><span style="font-family:Arial;color:#333333;">whereis mysql</span></p><h3><span style="font-family:Arial;color:#333333;">然后删除mysql目录：</span></h3><p><span style="font-family:Arial;color:#333333;">rm –rf /usr/lib64/mysql</span></p><p></p><h3><span style="font-family:Arial;color:#333333;">删除相关文件：</span></h3><span style="font-family:Arial;color:#333333;">rm –rf /usr/my.cnf<br />rm -rf /root/.mysql_sercret</span><h3><span style="font-family:Arial;color:#ff0000;">最关键的：</span></h3><p><span style="font-family:Arial;color:#333333;"><span style="color: rgb(51, 51, 51); font-family: Arial;">rm -rf /var/lib/mysql</span></span></p><p><span style="font-family:Arial;font-size:18px;color:#ff0000;"><strong>如果这个目录如果不删除，再重新安装之后，密码还是之前的密码，不会重新初始化！</strong></span></p><p><span style="font-family:Arial;"><strong><span style="font-size:18px;color:#ff0000;">网上查了很久都没有文章提到这个，最后还是自己摸索找出来的。</span></strong><br /></span></p><h3><span style="font-family:Arial;"><span style="color:#333333;">卸载完成！怎么确定是不是真的卸载干净了呢？</span></span></h3><p><span style="font-family:Arial;color:#333333;"><strong>一是看安装输出：</strong></span></p><p><span style="font-family:Arial;color:#333333;">如果没有卸载干净，安装server时输入只有两行：</span></p><p><span style="font-family:Arial;color:#333333;"></span></p><pre code_snippet_id="473894" snippet_file_name="blog_20140923_1_2386628" name="code" class="plain">[root@localhost opt]# rpm -ivh MySQL-server-5.6.19-1.linux_glibc2.5.x86_64.rpm\nPreparing... ########################################### [100%]\n 1:MySQL-server ########################################### [100%]</pre><p><span style="font-family:Arial;color:#333333;">卸载干净了安装输入如下：</span></p><p><span style="font-family:Arial;color:#333333;"></span></p><pre code_snippet_id="473894" snippet_file_name="blog_20140923_2_5494718" name="code" class="plain">[root@localhost opt]# rpm -ivh MySQL-server-5.6.19-1.linux_glibc2.5.x86_64.rpm\nPreparing... ########################################### [100%]\n 1:MySQL-server ########################################### [100%]\n2014-09-23 07:22:43 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\n2014-09-23 07:22:43 26041 [Note] InnoDB: Using atomics to ref count buffer pool pages\n2014-09-23 07:22:43 26041 [Note] InnoDB: The InnoDB memory heap is disabled\n2014-09-23 07:22:43 26041 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\n2014-09-23 07:22:43 26041 [Note] InnoDB: Compressed tables use zlib 1.2.3\n2014-09-23 07:22:43 26041 [Note] InnoDB: Using Linux native AIO\n2014-09-23 07:22:43 26041 [Note] InnoDB: Using CPU crc32 instructions\n2014-09-23 07:22:43 26041 [Note] InnoDB: Initializing buffer pool, size = 128.0M\n2014-09-23 07:22:43 26041 [Note] InnoDB: Completed initialization of buffer pool\n2014-09-23 07:22:43 26041 [Note] InnoDB: The first specified data file ./ibdata1 did not exist: a new database to be created!\n2014-09-23 07:22:43 26041 [Note] InnoDB: Setting file ./ibdata1 size to 12 MB\n2014-09-23 07:22:43 26041 [Note] InnoDB: Database physically writes the file full: wait...\n2014-09-23 07:22:43 26041 [Note] InnoDB: Setting log file ./ib_logfile101 size to 48 MB\n2014-09-23 07:22:43 26041 [Note] InnoDB: Setting log file ./ib_logfile1 size to 48 MB\n2014-09-23 07:22:45 26041 [Note] InnoDB: Renaming log file ./ib_logfile101 to ./ib_logfile0\n2014-09-23 07:22:45 26041 [Warning] InnoDB: New log files created, LSN=45781\n2014-09-23 07:22:45 26041 [Note] InnoDB: Doublewrite buffer not found: creating new\n2014-09-23 07:22:45 26041 [Note] InnoDB: Doublewrite buffer created\n2014-09-23 07:22:45 26041 [Note] InnoDB: 128 rollback segment(s) are active.\n2014-09-23 07:22:45 26041 [Warning] InnoDB: Creating foreign key constraint system tables.\n2014-09-23 07:22:45 26041 [Note] InnoDB: Foreign key constraint system tables created\n2014-09-23 07:22:45 26041 [Note] InnoDB: Creating tablespace and datafile system tables.\n2014-09-23 07:22:45 26041 [Note] InnoDB: Tablespace and datafile system tables created.\n2014-09-23 07:22:45 26041 [Note] InnoDB: Waiting for purge to start\n2014-09-23 07:22:45 26041 [Note] InnoDB: 5.6.19 started; log sequence number 0\nA random root password has been set. You will find it in '/root/.mysql_secret'.\n2014-09-23 07:22:46 26041 [Note] Binlog end\n2014-09-23 07:22:46 26041 [Note] InnoDB: FTS optimize thread exiting.\n2014-09-23 07:22:46 26041 [Note] InnoDB: Starting shutdown...\n2014-09-23 07:22:48 26041 [Note] InnoDB: Shutdown completed; log sequence number 1625977\n\n\n2014-09-23 07:22:48 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\n2014-09-23 07:22:48 26065 [Note] InnoDB: Using atomics to ref count buffer pool pages\n2014-09-23 07:22:48 26065 [Note] InnoDB: The InnoDB memory heap is disabled\n2014-09-23 07:22:48 26065 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\n2014-09-23 07:22:48 26065 [Note] InnoDB: Compressed tables use zlib 1.2.3\n2014-09-23 07:22:48 26065 [Note] InnoDB: Using Linux native AIO\n2014-09-23 07:22:48 26065 [Note] InnoDB: Using CPU crc32 instructions\n2014-09-23 07:22:48 26065 [Note] InnoDB: Initializing buffer pool, size = 128.0M\n2014-09-23 07:22:48 26065 [Note] InnoDB: Completed initialization of buffer pool\n2014-09-23 07:22:48 26065 [Note] InnoDB: Highest supported file format is Barracuda.\n2014-09-23 07:22:48 26065 [Note] InnoDB: 128 rollback segment(s) are active.\n2014-09-23 07:22:48 26065 [Note] InnoDB: Waiting for purge to start\n2014-09-23 07:22:48 26065 [Note] InnoDB: 5.6.19 started; log sequence number 1625977\n2014-09-23 07:22:48 26065 [Note] Binlog end\n2014-09-23 07:22:48 26065 [Note] InnoDB: FTS optimize thread exiting.\n2014-09-23 07:22:48 26065 [Note] InnoDB: Starting shutdown...\n2014-09-23 07:22:50 26065 [Note] InnoDB: Shutdown completed; log sequence number 1625987\n\n\n\n\nA RANDOM PASSWORD HAS BEEN SET FOR THE MySQL root USER !\nYou will find that password in '/root/.mysql_secret'.\n\nYou must change that password on your first connect,\nno other statement but 'SET PASSWORD' will be accepted.\nSee the manual for the semantics of the 'password expired' flag.\n\nAlso, the account for the anonymous user has been removed.\n\nIn addition, you can run:\n\n /usr/bin/mysql_secure_installation\n\nwhich will also give you the option of removing the test database.\nThis is strongly recommended for production servers.\n\nSee the manual for more instructions.\n\nPlease report any problems at http://bugs.mysql.com/\n\nThe latest information about MySQL is available on the web at\n\n http://www.mysql.com\n\nSupport MySQL by buying support/licenses at http://shop.mysql.com\n\nNew default config file was created as /usr/my.cnf and\nwill be used by default by the server when you start it.\nYou may edit this file to change server settings\n</pre>最后一段中提示了重要信息，很多人因为不喜欢读英文，导致接下来不知道怎么操作！<p><span style="font-family:Arial;color:#333333;"><img src="http://img.blog.csdn.net/20140923192550394?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdGVzdGNzX2Ru/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" /><br /></span><strong>二就是安装完成，启动服务之后</strong></p><p>使用命令：“mysql -uroot -p”输入你之前安装后设置的密码，看能不能登录，如果还可以登录，说明没有卸载干净！</p> &#13;\n
