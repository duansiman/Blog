\n\n<div style="margin:0px; font-family:Helvetica,&quot;Hiragino Sans GB&quot;,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,&quot;Microsoft YaHei UI&quot;,SimSun,SimHei,arial,sans-serif; line-height:24px; widows:1">&#13;\n<div style="margin:0px"><span style="font-size:18px"><strong>MySQL触发器</strong></span></div>&#13;\n<div style="margin:0px"><span style="font-size:18px"><strong></strong></span><pre name="code" class="sql">USE mydb;\n-- ****************触发器*****************************\n/*\n触发器作用：\n\t当操作了某张表时，希望同时触发一些动作/行为，可以使用触发器完成！！\n*/\n-- 创建日志表\nCREATE TABLE emp_log(\n\tid INT PRIMARY KEY AUTO_INCREMENT,\n\tcontent VARCHAR(100)\n)\n-- 需求：当向员工表插入一条数据时，希望MySQL同时自动向emp_log日志表插入数据\n-- 创建触发器（添加）\nCREATE TRIGGER tri_empAdd AFTER INSERT ON emp FOR EACH ROW -- 当往员工表插入一条记录时\n\tINSERT INTO emp_log(content) VALUES(CONCAT(NOW(),"员工表插入了一条记录")); -- concat()连接字符串\n-- 使用触发器。往员工表插入数据\nINSERT INTO emp VALUES(7, "小智", 2, 2);\nINSERT INTO emp VALUES(7, "小木", 1, 2),(8, "张惠妹", 3, 2),(9, "周杰伦", 3, 2); -- 同时插入了3条数据，触发器也会动作3次\n-- 创建触发器（修改）\nCREATE TRIGGER tri_empUpdate AFTER UPDATE ON emp FOR EACH ROW -- 当往员工表修改一条记录时\n\tINSERT INTO emp_log(content) VALUES(CONCAT(NOW(),"员工表修改了一条记录")); -- concat()连接字符串\n-- 使用触发器。修改员工表数据\nUPDATE emp SET emp.bossId=1 WHERE emp.id=7;\n-- 创建触发器（删除）\nCREATE TRIGGER tri_empDelete AFTER DELETE ON emp FOR EACH ROW -- 当删除员工表一条记录时\n\tINSERT INTO emp_log(content) VALUES(CONCAT(NOW(),"员工表删除了一条记录")); -- concat()连接字符串\n-- 使用触发器。删除员工表数据\nDELETE FROM emp WHERE emp.id=7;\nSELECT csdn-1.html csdn-2.html csdn-3.html csdn-4.html csdn-5.html csdn-6.html csdn-7.html mysql.sh FROM emp_log;\nSELECT csdn-1.html csdn-2.html csdn-3.html csdn-4.html csdn-5.html csdn-6.html csdn-7.html mysql.sh FROM emp;</pre><span style="font-weight:bold; font-size:15px">效果：</span></div>&#13;\n<div style="margin:0px"><span style="font-weight:bold; font-size:15px"><img src="http://img.blog.csdn.net/20170316141121222?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvUVExMDEyNDIxMzk2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</span></div>&#13;\n<div style="margin:0px"><span style="font-weight:bold; font-size:15px"><img src="http://img.blog.csdn.net/20170316141143089?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvUVExMDEyNDIxMzk2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /><br />&#13;\n</span></div>&#13;\n</div>&#13;\n<div style="margin:0px; font-family:Helvetica,&quot;Hiragino Sans GB&quot;,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;,&quot;Microsoft YaHei UI&quot;,SimSun,SimHei,arial,sans-serif; font-size:15px; line-height:24px; widows:1">&#13;\n<div style="margin:0px"> </div>&#13;\n<div style="margin:0px"> </div>&#13;\n</div>&#13;\n &#13;\n
